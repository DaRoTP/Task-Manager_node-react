{"version":3,"sources":["assets/images/default_avatar.png","assets/images/workflow-person.svg","assets/images/workflow-person_dark.svg","assets/images/task_columns.svg","assets/images/task_columns_dark.svg","assets/images/drawkit-nature-man-colour.svg","HOC/Portal.js","context/UserContext.js","Hooks/useWindowSize.js","components/DropdownMenu/DropdownMenu.js","components/Navbar/NavItem.js","components/AutoCompleteInput/AutoCompleteInput.js","assets/images/Admin.svg","assets/images/crown.svg","assets/images/visitor.svg","assets/images/regular-user.svg","components/Image/Image.js","components/User/User.js","modalForms/BoardMembers/BoardMemberUser.js","components/Pagination/Pagination.js","helper/fetchData.js","assets/spinners/Rolling-1s-200px.svg","components/LoadingOverlay/LoadingOverlay.js","modalForms/BoardMembers/BoardMembers.js","components/Button/Button.js","components/TextInput/TextInput.js","components/SimpleForm/SimpleForm.js","context/ModalContext.js","modalForms/ChangePassword/ChangePassword.js","modalForms/ChangeProfilePicture/ChangeProfilePicture.js","modalForms/Login/Login.js","context/WarningNotificationContext.js","modalForms/BoardEditor/BoardEditor.js","modalForms/Register/RegisterStage1.js","modalForms/Register/RegisterStage2.js","modalForms/Register/Register.js","components/Tooltip/Tooltip.js","components/Tag/TagButton.js","modalForms/Tags/Tags.js","components/Tag/Tag.js","socket.js","helper/socketData.js","modalForms/TaskEditor/TagChoiceControll.js","modalForms/TaskEditor/UserListManager.js","modalForms/TaskEditor/TaskEditor.js","modalForms/TaskDisplay/TaskDisplay.js","components/Navbar/DefaultNav.js","components/SwitchButton/SwitchButton.js","components/Notification/Notification.js","components/Navbar/LoggedInUserNav.js","components/Navbar/Navbar.js","components/Backdrop/Backdrop.js","components/Modal/Modal.js","pages/WelcomePage/WelcomePage.js","components/ExpandText/ExpandText.js","context/TaskContext.js","components/Task/Task.js","components/Task/ColumnNameInput.js","components/Task/TaskColumn.js","components/NewColumn/NewColumn.js","pages/BoardPage/TaskBoard.js","components/BoardCard/BoardOptions.js","pages/BoardPage/dragHelper.js","pages/BoardPage/BoardPage.js","assets/images/pin-full.svg","components/ContainerBox/ContainerBox.js","assets/images/pin-empty.svg","components/BoardCard/BoardCard.js","pages/DashboardPage/MyBoardContainer.js","pages/DashboardPage/DashboardPage.js","pages/ProfilePage/ProfilePage.js","pages/ErrorPage/ErrorPage.js","routes/ProtectedRoute.js","routes/Routes.js","components/Footer/Footer.js","components/WarningNotification/WarningNotification.js","App/App.js","serviceWorker.js","index.js"],"names":["module","exports","Portal","children","mountTo","mount","document","getElementById","createPortal","UserContext","createContext","initialState","authStatus","user","currentBoard","role","id","theme","reducer","state","type","payload","token","localStorage","setItem","removeItem","boardId","UserProvider","useReducer","dispatchUser","useEffect","localStorageTheme","getItem","Provider","value","useWindowSize","useState","size","setSize","useLayoutEffect","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","DropdownMenu","classes","anchorEl","offset","onClickClose","scrollableAt","width","cords","setCords","show","setShow","offsetRef","useRef","useContext","dropDownMenuAnchorElement","current","openMenu","rect","getBoundingClientRect","left","x","top","y","scrollY","closeMenuClickHandler","ClickAwayListener","onClickAway","style","maxHeight","className","join","Array","isArray","filter","node","map","onClick","undefined","key","Math","random","defaultProps","NavItem","icon","navName","clicked","dropDownOnClickClose","dropDownScrollableAt","anchorElement","ref","AutoCompleteInput","timeout","execMethod","searchResult","clickResult","clearResults","searchInputRef","watingTimeout","placeholder","onChange","event","searchString","target","clearTimeout","setTimeout","length","data","_id","text","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","props","height","viewBox","ForwardRef","forwardRef","Image","imageURL","errorImage","alt","src","onError","e","defaultAvatar","User","username","defaltProps","BoardMemberUser","userId","userType","removeUser","changeUserRole","userRoleAnchorElement","optionsAnchorElement","isAuthorized","roleList","roleName","userTypeIcon","Pagination","currentPage","amountOfPages","handleChange","previousePage","nextPage","callAPI","a","url","method","setLoading","headers","Authorization","axios","res","error","status","response","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","repeatCount","dur","values","keyTimes","margin","background","display","shapeRendering","preserveAspectRatio","LoadingOverlay","opacity","color","overlayColor","light","dark","backgroundColor","BoardMembers","members","setMembers","page","setPage","isPageLoading","setPageLoading","searchRes","setSearchRes","_isMounted","fetchData","totalPageCount","items","pages","fetchBoardMembers","dynamicSearchHandler","parsedResult","removeUserFromBoard","memberId","tempMembers","indexOfFoundMember","findIndex","splice","addUserToBoardHandler","tempUsers","push","newRole","foundUserIndex","newMembers","avatarImageURL","pageNumber","Button","disabled","refEl","TextInput","hasErrors","helperText","label","name","multiline","TextField","variant","rows","rowsMax","max","createInitialValueObject","fieldObject","initialValues","forEach","fieldName","initialVal","SimpleForm","submitButtonName","validationSchema","handleSubmit","fields","loadingOverlayColor","onSubmit","isSubmitting","isValid","errors","entries","field","as","Yup","ModalContext","render","ModalProvider","dispatch","newPassword","min","required","matchPassword","oneOf","ChangePassword","modalDispatch","submittedData","setSubmitting","setErrors","message","imageLink","ChangeProfilePicture","changeProfilePic","password","Login","userDispatch","WarningNotificationContext","WarningNotificationProvider","closeNotification","description","BoardEditor","submitType","dispatchModal","warningNotificationDispatch","loadingBoardInfo","setLoadingBoardInfo","initialVals","setInitialVals","history","useHistory","getBoardInfo","submitButtonClick","board","surname","fieldTypes","RegisterStage1","changeFieldVals","initialFieldValues","changeStage","fieldVals","createFields","fieldType","email","RegisterStage2","handleGoBackStage","stage","submitRegistrationForm","Register","registerStage","setRegisterStage","registerFormField","setRegisterFormFields","newValues","Tooltip","showTooltip","setShowTooltip","toolTipRef","waitTimeBeforeRender","showToolTiphandler","toolTipContainerWith","hideToolTipHandler","tooltipAnchorElement","TagButton","showIcon","selected","colorList","createInitalTagValues","boardColors","initialTagValues","foundTag","find","colorCode","Tags","inputTagName","setInputTagName","selectedColor","setSelectedColor","boardTags","setBoardTags","isTagLoading","setTagLoading","tags","getBoardTags","createNewTag","indexOfTag","tag","tagId","requestURL","tempTags","deleteTag","inputValue","replace","canDeleteTag","index","selectTag","Tag","tagName","ws","io","connect","emitWS","roomId","eventName","userToken","emit","TagChoiceControll","availableTags","chosenBoardTags","removeTagFromList","addTagToList","tagChoiceButton","UserListManager","users","setUsers","userSearchResult","setUserSearchResult","searchUser","newUsers","userIndex","TaskEditor","buttonName","action","updateTask","taskId","columnId","people","setAvailableTags","setChosenBoardTags","submitOnButtonClick","submittingTask","success","task","newTags","tagIndex","TaskDisplay","dispatchWarningNotification","taskAuthor","peopleAssigned","taskDetails","setTaskDetails","isTaskLoading","setTaskLoading","search","author","getTaskInfo","deleteTask","confirm","isAuthorizedToEdit","DefaultNav","SwitchButton","toggle","isOn","Notification","boardTitle","removeNotification","shortenText","maxChars","substring","LoggedInUserNav","notifications","setNotification","handlGetMyNotifications","removeMessage","newNotification","to","Badge","invisible","info","Navbar","isAuth","Backdrop","Modal","closeModal","bodyElement","getElementsByTagName","overflowY","scrollTo","WelcomePage","workflowPerson","workflowPersonDark","taskColumns","taskColumnsDark","ExpandText","isOpen","TaskContext","TaskProvider","Task","indexes","setTasks","poepleAnchorElement","tagsAnchorElement","taskIndex","columnIndex","updatedTask","tasks","tempTasks","openTaskDetailsModal","draggableId","isDragDisabled","provided","snapshot","innerRef","draggableProps","dragHandleProps","isDragging","userAmount","displayUsers","slice","abs","displayAssignedUsers","ColumnNameInput","onEnter","hideInput","editTitle","columnNameInputRef","columnNameState","setColumnName","focus","onKeyDown","trim","onBlur","updatedColumnName","TaskColumn","columnName","listOfTasks","showTitleInput","setShowTitleInput","openBoardTagsModal","removeColumn","activateColumnNameEditInput","dissableColumnNameEditInput","changeColumnNameOnKeyPressEnter","newName","foundColumnIndex","droppableId","droppableProps","isDraggingOver","NewColumn","createNewColumn","newColumnName","TaskBoard","createSocketNewBoard","newColumn","deleteSocketColumn","deleteResponse","newTasks","moveSocketColumn","moveResponse","movingColumn","destination","createTask","moveTask","movingTask","on","col","removeListener","direction","DraggableTaskColumn","BoardOptions","removeBoardCallback","isAuthor","moreOptionsAnchor","leavingEvent","deleteBoardHandler","handleMoveColumn","sourceIndex","destinationIndex","handleMoveTask","indexOfSourceColumn","indexOfDestinationColumn","sourceIndexes","destinationIndexes","BoardPage","query","boardInfo","setBoardInfo","updateTaskHandler","openTask","getLoggedInUserRole","room","member","columns","getBoardTasks","onDragEnd","result","ContainerBox","focusable","BoardCard","isPinned","pinBoard","removeBoard","togglePinBoard","stopPropagation","MyBoardContainer","renderIcon","boardList","isLoading","changePage","emptyMessage","pinned","DashboardPage","pinnedBoards","setPinnedBoards","boards","setBoards","boardLoadingHandler","setState","loadingState","prevState","getPinnedBoards","getMyBoards","indexOfBoardInBoardList","indexOfBoardInPinnedBoardList","newBoards","boardIndex","pinnedBoardIndex","foundPinnedBoardIndex","foundBoardIndex","tempPinnedBoards","modifiedBoards","pageState","ProfilePage","profileInfo","setProfileInfo","profilePicture","setProfilePicture","isProfileLoaded","setProfileLoading","handleSaveChanges","ErrorPage","errorCode","costam","translateErrorCode","ProtectedRoute","auth","path","component","exact","Routes","match","location","params","queryString","parse","code","Footer","href","WarningNotification","toLowerCase","warningIcon","App","WarningNotificationType","WarningNotificationMessage","WarningNotificationShow","authLoading","setAuthLoading","checkUserAuthentication","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.59344698.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default_avatar.cf89e8e6.png\";","module.exports = __webpack_public_path__ + \"static/media/workflow-person.8d3d8fc2.svg\";","module.exports = __webpack_public_path__ + \"static/media/workflow-person_dark.3de0a3ca.svg\";","module.exports = __webpack_public_path__ + \"static/media/task_columns.a5a786b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/task_columns_dark.7669f118.svg\";","module.exports = __webpack_public_path__ + \"static/media/drawkit-nature-man-colour.e631e62e.svg\";","import { createPortal } from \"react-dom\";\n\nconst Portal = ({ children, mountTo }) => {\n\tconst mount = document.getElementById(mountTo);\n\n\treturn createPortal(children, mount);\n};\n\nexport default Portal;\n","import React, { useReducer, createContext, useEffect } from \"react\";\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst initialState = { authStatus: null, user: null, currentBoard: { role: null, id: null }, theme: true };\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase \"LOGIN_SUCCESS\":\r\n\t\t\t!!payload.token && localStorage.setItem(\"token\", payload.token);\r\n\t\t\treturn { ...state, user: payload.user, authStatus: \"success\" };\r\n\t\tcase \"LOGIN_FAIL\":\r\n\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\treturn { ...state, user: null, authStatus: \"failed\" };\r\n\t\tcase \"LOGOUT\":\r\n\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\treturn { ...state, user: null, authStatus: null, currentBoard: { role: null, id: null } };\r\n\t\tcase \"THEME_DARK\":\r\n\t\t\tlocalStorage.setItem(\"theme\", \"dark\");\r\n\t\t\treturn { ...state, theme: false };\r\n\t\tcase \"THEME_LIGHT\":\r\n\t\t\tlocalStorage.setItem(\"theme\", \"light\");\r\n\t\t\treturn { ...state, theme: true };\r\n\t\tcase \"THEME_TOGGLE\":\r\n\t\t\tlocalStorage.setItem(\"theme\", state.theme ? \"dark\" : \"light\");\r\n\t\t\treturn { ...state, theme: !state.theme };\r\n\t\tcase \"SET_ROLE\":\r\n\t\t\treturn { ...state, currentBoard: { role: payload.role, id: payload.boardId } };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const UserProvider = ({ children }) => {\r\n\tconst [user, dispatchUser] = useReducer(reducer, initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst localStorageTheme = localStorage.getItem(\"theme\");\r\n\t\tif (!!localStorageTheme) {\r\n\t\t\tlocalStorageTheme === \"light\"\r\n\t\t\t\t? dispatchUser({ type: \"THEME_LIGHT\" })\r\n\t\t\t\t: dispatchUser({ type: \"THEME_DARK\" });\r\n\t\t}\r\n\t\treturn () => {};\r\n\t}, []);\r\n\r\n\treturn <UserContext.Provider value={[user, dispatchUser]}>{children}</UserContext.Provider>;\r\n};\r\n","import { useLayoutEffect, useState } from \"react\";\n\nfunction useWindowSize() {\n\tconst [size, setSize] = useState([0, 0]);\n\tuseLayoutEffect(() => {\n\t\tfunction updateSize() {\n\t\t\tsetSize([window.innerWidth, window.innerHeight]);\n\t\t}\n\t\twindow.addEventListener(\"resize\", updateSize);\n\t\tupdateSize();\n\t\treturn () => window.removeEventListener(\"resize\", updateSize);\n\t}, []);\n\treturn size;\n}\n\nexport default useWindowSize;","import React, { useEffect, useRef, useState, useContext } from \"react\";\nimport \"./DropdownMenu.scss\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport PropTypes from \"prop-types\";\nimport Portal from \"HOC/Portal\";\nimport { UserContext } from \"context/UserContext\";\nimport useWindowSize from \"Hooks/useWindowSize\";\n\nconst DropdownMenu = ({ classes, children, anchorEl, offset, onClickClose, scrollableAt }) => {\n\tconst [width] = useWindowSize();\n\tconst [cords, setCords] = useState({});\n\tconst [show, setShow] = useState(false);\n\tconst offsetRef = useRef(offset);\n\tconst [{ theme }] = useContext(UserContext);\n\n\tuseEffect(() => {\n\t\tconst dropDownMenuAnchorElement = anchorEl.current;\n\n\t\tconst openMenu = () => {\n\t\t\tconst rect = anchorEl.current.getBoundingClientRect();\n\t\t\tsetCords({\n\t\t\t\tleft: rect.x + rect.width + offsetRef.current.x,\n\t\t\t\ttop: rect.y + window.scrollY + offsetRef.current.y,\n\t\t\t});\n\t\t\tsetShow(true);\n\t\t};\n\n\t\tdropDownMenuAnchorElement.addEventListener(\"click\", openMenu);\n\n\t\tsetShow(false);\n\t\treturn () => {\n\t\t\tdropDownMenuAnchorElement.removeEventListener(\"click\", openMenu);\n\t\t};\n\t}, [width, anchorEl]);\n\n\tconst closeMenuClickHandler = () => {\n\t\tsetShow(false);\n\t};\n\n\tif (show) {\n\t\treturn (\n\t\t\t<Portal mountTo=\"root-menu\">\n\t\t\t\t<ClickAwayListener onClickAway={closeMenuClickHandler}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ top: cords.top, left: cords.left, maxHeight: scrollableAt }}\n\t\t\t\t\t\tclassName={`drop-down-menu ${!!scrollableAt ? \"scrollable\" : \"\"} ${\n\t\t\t\t\t\t\ttheme ? \"theme-light\" : \"theme-dark\"\n\t\t\t\t\t\t} ${classes.join(\" \")}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{Array.isArray(children) ? (\n\t\t\t\t\t\t\tchildren\n\t\t\t\t\t\t\t\t.filter((node) => node)\n\t\t\t\t\t\t\t\t.map((node) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tonClick={onClickClose ? closeMenuClickHandler : undefined}\n\t\t\t\t\t\t\t\t\t\tkey={\"\" + Math.random()}\n\t\t\t\t\t\t\t\t\t\tclassName=\"drop-down-menu-item\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{node}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"drop-down-menu-item\">{children}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</ClickAwayListener>\n\t\t\t</Portal>\n\t\t);\n\t} else {\n\t\treturn null;\n\t}\n};\n\nDropdownMenu.defaultProps = {\n\tclasses: [\"\"],\n\toffset: { x: 0, y: 0 },\n\tonClickClose: true,\n\tscrollableAt: undefined,\n};\n\nDropdownMenu.propTypes = {\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n\tchildren: PropTypes.node.isRequired,\n\toffset: PropTypes.shape({ x: PropTypes.number, y: PropTypes.number }),\n\tonClickClose: PropTypes.bool,\n\tscrollableAt: PropTypes.number,\n};\n\nexport default DropdownMenu;\n","import React, { useRef } from \"react\";\nimport \"./NavItem.scss\";\nimport PropTypes from \"prop-types\";\nimport DropdownMenu from \"components/DropdownMenu/DropdownMenu\";\n\nconst NavItem = ({\n\ticon,\n\tnavName,\n\tchildren,\n\tclicked,\n\tclasses,\n\toffset,\n\tdropDownOnClickClose,\n\tdropDownScrollableAt,\n}) => {\n\tconst anchorElement = useRef();\n\n\treturn (\n\t\t<li className={`nav-item ${classes.join(\" \")}`}>\n\t\t\t<button className=\"icon-button\" ref={anchorElement} onClick={clicked}>\n\t\t\t\t{!!icon && icon}\n\t\t\t\t<span>{navName}</span>\n\t\t\t</button>\n\t\t\t{children && (\n\t\t\t\t<DropdownMenu\n\t\t\t\t\tscrollableAt={dropDownScrollableAt}\n\t\t\t\t\tonClickClose={dropDownOnClickClose}\n\t\t\t\t\toffset={offset}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tanchorEl={anchorElement}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</DropdownMenu>\n\t\t\t)}\n\t\t</li>\n\t);\n};\n\nNavItem.defaultProps = {\n\tclasses: [\"\"],\n\ticon: null,\n\tchildren: null,\n\tnavName: \"\",\n\toffset: undefined,\n\tdropDownOnClickClose: true,\n\tclicked: undefined,\n};\n\nNavItem.propTypes = {\n\ticon: PropTypes.element,\n\tnavName: PropTypes.string,\n\ttoggleFunction: PropTypes.func,\n\tchildren: PropTypes.node,\n\tclicked: PropTypes.func,\n\toffset: PropTypes.shape({ x: PropTypes.number, y: PropTypes.number }),\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n\tdropDownOnClickClose: PropTypes.bool,\n};\n\nexport default NavItem;\n","import React, { useRef } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport PropTypes from \"prop-types\";\nimport \"./AutoCmpleteInput.scss\";\n\nconst AutoCompleteInput = ({ timeout, execMethod, searchResult, clickResult, clearResults }) => {\n\tconst searchInputRef = useRef();\n\n\tlet watingTimeout = 0;\n\n\tconst searchByText = () => {\n\t\tconst searchString = searchInputRef.current.value;\n\t\tif(searchString.length > 0) execMethod(searchString);\n\t}\n\n\tconst doSearch = (event) => {\n\t\tconst searchString = event.target.value;\n\t\tif (watingTimeout) clearTimeout(watingTimeout);\n\t\twatingTimeout = setTimeout(() => {\n\t\t\tif(searchString.length > 0) execMethod(searchString);\n\t\t}, timeout);\n\t};\n\n\tconst clearInputSearch = () => {\n\t\tsearchInputRef.current.value = \"\";\n\t\tclearResults();\n\t};\n\n\treturn (\n\t\t<ClickAwayListener onClickAway={clearResults}>\n\t\t\t<div className=\"auto-complete-input-wrapper\">\n\t\t\t\t<div className=\"auto-complete-input\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={searchInputRef}\n\t\t\t\t\t\tplaceholder=\"search...\"\n\t\t\t\t\t\tclassName=\"search-input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={doSearch}\n\t\t\t\t\t/>\n\t\t\t\t\t{searchResult.length > 0 ? (\n\t\t\t\t\t\t<ClearIcon onClick={clearInputSearch} className=\"search-icon clear-icon\" />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<SearchIcon onClick={searchByText} className=\"search-icon\" />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`search-result-container ${searchResult.length > 5 ? \"overflow-scroll \" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t{searchResult &&\n\t\t\t\t\t\tsearchResult.map((data) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"search-result-item\"\n\t\t\t\t\t\t\t\tonClick={() => clickResult(data)}\n\t\t\t\t\t\t\t\tkey={data._id}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>{data.text}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ClickAwayListener>\n\t);\n};\n\nAutoCompleteInput.defaultProps = {\n\ttimeout: 0,\n}\nAutoCompleteInput.propTypes = {\n\ttimeout: PropTypes.number,\n\texecMethod: PropTypes.func.isRequired,\n\tsearchResult: PropTypes.array.isRequired,\n\tclickResult: PropTypes.func.isRequired,\n\tclearResults: PropTypes.func.isRequired\n}\n\nexport default AutoCompleteInput;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 15L2.912 13.2359C2.03167 12.7341 1.29549 11.9849 0.782463 11.0688C0.26944 10.1526 -0.00105653 9.1041 3.10129e-06 8.03571V1.07143C0.000267839 0.787355 0.10571 0.514998 0.293189 0.314127C0.480668 0.113257 0.734868 0.000283648 1 0H11C11.2651 0.000283648 11.5193 0.113257 11.7068 0.314127C11.8943 0.514998 11.9997 0.787355 12 1.07143V8.03571C12.0011 9.1041 11.7306 10.1526 11.2175 11.0688C10.7045 11.9849 9.96833 12.7341 9.088 13.2359L6 15ZM1 1.07143V8.03571C0.999173 8.90989 1.22055 9.76781 1.64038 10.5174C2.06021 11.267 2.66264 11.8799 3.383 12.2904L6 13.7855L8.617 12.2909C9.33743 11.8804 9.93991 11.2674 10.3597 10.5177C10.7796 9.76802 11.0009 8.90999 11 8.03571V1.07143H1Z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 12.4698V2.14286H10V7.93125C9.99997 8.61028 9.82786 9.27656 9.50204 9.85898C9.17622 10.4414 8.70891 10.9181 8.15 11.2382L6 12.4698Z\"\n});\n\nvar SvgAdmin = function SvgAdmin(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 15,\n    viewBox: \"0 0 12 15\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAdmin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Admin.531d19f3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 13.4583H15.8333V15.0417H0V13.4583ZM0 2.375L3.95833 4.75L7.91667 0L11.875 4.75L15.8333 2.375V11.875H0V2.375Z\"\n});\n\nvar SvgCrown = function SvgCrown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCrown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/crown.5db87621.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 16H1C0.71875 16 0.481771 15.9036 0.289062 15.7109C0.0963542 15.5182 0 15.2812 0 15V5C0 4.72917 0.0963542 4.49479 0.289062 4.29688C0.481771 4.09896 0.71875 4 1 4H6V5C6 5.67708 6.1849 6.17969 6.55469 6.50781C6.92448 6.83594 7.40625 7 8 7C8.58333 7 9.0625 6.82812 9.4375 6.48438C9.8125 6.14062 10 5.64583 10 5V4H15C15.2708 4 15.5052 4.09896 15.7031 4.29688C15.901 4.49479 16 4.72917 16 5V15C16 15.2812 15.9036 15.5182 15.7109 15.7109C15.5182 15.9036 15.2812 16 15 16ZM5.5 12.5938V12.3125C6.5 11.9062 7 10.8021 7 9C7 8.34375 6.76823 7.84635 6.30469 7.50781C5.84115 7.16927 5.24219 7 4.50781 7C3.77344 7 3.17188 7.16927 2.70312 7.50781C2.23438 7.84635 2 8.34375 2 9C2 10.75 2.5 11.8438 3.5 12.2812V12.5938C2.78125 12.7188 2.1875 12.9531 1.71875 13.2969C1.25 13.6406 1.01042 14.0312 1 14.4688C1 14.5938 1.11198 14.6953 1.33594 14.7734C1.5599 14.8516 1.88802 14.9062 2.32031 14.9375C2.7526 14.9688 3.10938 14.987 3.39062 14.9922C3.67188 14.9974 4.04167 15 4.5 15C4.95833 15 5.32812 14.9974 5.60938 14.9922C5.89062 14.987 6.2474 14.9688 6.67969 14.9375C7.11198 14.9062 7.4401 14.8516 7.66406 14.7734C7.88802 14.6953 8 14.5938 8 14.4688C7.98958 14.0312 7.7526 13.6406 7.28906 13.2969C6.82552 12.9531 6.22917 12.7188 5.5 12.5938ZM13.5 9H9.5C9.36458 9 9.2474 9.04948 9.14844 9.14844C9.04948 9.2474 9 9.36458 9 9.5C9 9.63542 9.04948 9.7526 9.14844 9.85156C9.2474 9.95052 9.36458 10 9.5 10H13.5C13.6354 10 13.7526 9.95052 13.8516 9.85156C13.9505 9.7526 14 9.63542 14 9.5C14 9.36458 13.9505 9.2474 13.8516 9.14844C13.7526 9.04948 13.6354 9 13.5 9ZM9 11.5C9 11.6354 9.04948 11.7526 9.14844 11.8516C9.2474 11.9505 9.36458 12 9.5 12H11.5C11.6354 12 11.7526 11.9505 11.8516 11.8516C11.9505 11.7526 12 11.6354 12 11.5C12 11.3646 11.9505 11.2474 11.8516 11.1484C11.7526 11.0495 11.6354 11 11.5 11H9.5C9.36458 11 9.2474 11.0495 9.14844 11.1484C9.04948 11.2474 9 11.3646 9 11.5ZM13.5 13H9.5C9.36458 13 9.2474 13.0495 9.14844 13.1484C9.04948 13.2474 9 13.3646 9 13.5C9 13.6354 9.04948 13.7526 9.14844 13.8516C9.2474 13.9505 9.36458 14 9.5 14H13.5C13.6354 14 13.7526 13.9505 13.8516 13.8516C13.9505 13.7526 14 13.6354 14 13.5C14 13.3646 13.9505 13.2474 13.8516 13.1484C13.7526 13.0495 13.6354 13 13.5 13ZM9 2V5C9 5.28125 8.90104 5.51823 8.70312 5.71094C8.50521 5.90365 8.26823 6 7.99219 6C7.71615 6 7.48177 5.90365 7.28906 5.71094C7.09635 5.51823 7 5.28125 7 5V2C6.71875 2 6.48177 1.90365 6.28906 1.71094C6.09635 1.51823 6 1.28385 6 1.00781C6 0.731771 6.09635 0.494792 6.28906 0.296875C6.48177 0.0989583 6.71875 0 7 0H9C9.27083 0 9.50521 0.0989583 9.70312 0.296875C9.90104 0.494792 10 0.731771 10 1.00781C10 1.28385 9.90365 1.51823 9.71094 1.71094C9.51823 1.90365 9.28125 2 9 2Z\"\n});\n\nvar SvgVisitor = function SvgVisitor(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgVisitor, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/visitor.3ded8bd8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.75 3.78947C3.75 5.87874 5.4325 7.57895 7.5 7.57895C9.5675 7.57895 11.25 5.87874 11.25 3.78947C11.25 1.70021 9.5675 0 7.5 0C5.4325 0 3.75 1.70021 3.75 3.78947ZM14.1667 16H15V15.1579C15 11.9082 12.3825 9.26316 9.16667 9.26316H5.83333C2.61667 9.26316 0 11.9082 0 15.1579V16H14.1667Z\"\n});\n\nvar SvgRegularUser = function SvgRegularUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 16,\n    viewBox: \"0 0 15 16\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRegularUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/regular-user.d8810fcc.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport defaultAvatar from \"assets/images/default_avatar.png\";\n\nconst Image = ({ imageURL, errorImage, classes }) => {\n\tconst fallback = (e) => {\n\t\te.target.src = errorImage;\n\t};\n\n\treturn <img className={`custom image ${classes.join(\" \")}`} alt=\"\" src={imageURL} onError={fallback} />;\n};\nImage.defaultProps = {\n\timageURL: \"\",\n\terrorImage: defaultAvatar,\n\tclasses: [\"\"],\n};\n\nImage.propTypes = {\n\timageURL: PropTypes.string,\n\terrorImage: PropTypes.string,\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default Image;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Image from \"components/Image/Image\";\nimport \"./User.scss\";\n\nconst User = ({ imageURL, username, children }) => {\n\treturn (\n\t\t<div className=\"user-card\">\n\t\t\t<Image classes={[\"user-avatar\"]} imageURL={imageURL} />\n\t\t\t<span className=\"username\">{username}</span>\n\t\t\t<div className=\"user-buttons\">{children}</div>\n\t\t</div>\n\t);\n};\n\nUser.defaltProps = {\n\tchildren: null,\n\timageURL: \"\"\n};\n\nUser.propTypes = {\n\timageURL: PropTypes.string,\n\tusername: PropTypes.string.isRequired,\n\tchildren: PropTypes.node,\n};\n\nexport default User;\n","import React, { useRef, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport DropdownMenu from \"components/DropdownMenu/DropdownMenu\";\r\nimport { ReactComponent as Admin } from \"assets/images/Admin.svg\";\r\nimport { ReactComponent as Crown } from \"assets/images/crown.svg\";\r\nimport { ReactComponent as Visitor } from \"assets/images/visitor.svg\";\r\nimport { ReactComponent as RegularUser } from \"assets/images/regular-user.svg\";\r\nimport User from \"components/User/User\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport \"./BoardMemberUser.scss\";\r\n\r\nconst BoardMemberUser = ({ username, userId, imageURL, userType, removeUser, changeUserRole }) => {\r\n\tconst userRoleAnchorElement = useRef();\r\n\tconst optionsAnchorElement = useRef();\r\n\tconst [{ currentBoard }] = useContext(UserContext);\r\n\r\n\tconst userTypeIcon = (type) => {\r\n\t\tswitch (type) {\r\n\t\t\tcase \"owner\":\r\n\t\t\t\treturn <Crown className=\"owner-icon\" />;\r\n\t\t\tcase \"admin\":\r\n\t\t\t\treturn <Admin />;\r\n\t\t\tcase \"regular\":\r\n\t\t\t\treturn <RegularUser />;\r\n\t\t\tcase \"guest\":\r\n\t\t\t\treturn <Visitor />;\r\n\t\t\tdefault:\r\n\t\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tconst isAuthorized = () => {\r\n\t\tif (currentBoard.role === \"owner\") return true;\r\n\t\tif (currentBoard.role === \"admin\" && userType !== \"owner\" && userType !== \"admin\") return true;\r\n\t};\r\n\r\n\tconst roleList = [\r\n\t\t{ roleName: \"Admin\", role: \"admin\", icon: <Admin /> },\r\n\t\t{ roleName: \"Regular\", role: \"regular\", icon: <RegularUser /> },\r\n\t\t{ roleName: \"Guest\", role: \"guest\", icon: <Visitor /> },\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"board-user\">\r\n\t\t\t<User username={username} imageURL={imageURL}>\r\n\t\t\t\t<div className=\"user-type\" ref={userRoleAnchorElement}>\r\n\t\t\t\t\t{userTypeIcon(userType)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{userType !== \"owner\" && isAuthorized() && (\r\n\t\t\t\t\t<MoreVertIcon className=\"option-more\" ref={optionsAnchorElement} />\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{userType !== \"owner\" && isAuthorized() && (\r\n\t\t\t\t\t<DropdownMenu classes={[\"user-roles\"]} anchorEl={userRoleAnchorElement}>\r\n\t\t\t\t\t\t{roleList\r\n\t\t\t\t\t\t\t.filter(({ role }) => role !== userType)\r\n\t\t\t\t\t\t\t.map(({ roleName, role, icon }) => (\r\n\t\t\t\t\t\t\t\t<div key={role} onClick={() => changeUserRole(userId, role)}>\r\n\t\t\t\t\t\t\t\t\t{icon}\r\n\t\t\t\t\t\t\t\t\t<span>{roleName}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t)}\r\n\t\t\t\t{userType !== \"owner\" && isAuthorized() && (\r\n\t\t\t\t\t<DropdownMenu\r\n\t\t\t\t\t\tonClickClose={true}\r\n\t\t\t\t\t\tclasses={[\"user-option-menu\"]}\r\n\t\t\t\t\t\tanchorEl={optionsAnchorElement}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span onClick={removeUser}>remove</span>\r\n\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t)}\r\n\t\t\t</User>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nBoardMemberUser.defaultProps = {\r\n\timageURL: \"\"\r\n}\r\n\r\nBoardMemberUser.propTypes = {\r\n\tusername: PropTypes.string.isRequired,\r\n\tuserId: PropTypes.string.isRequired,\r\n\timageURL: PropTypes.string,\r\n\tuserType: PropTypes.string.isRequired,\r\n\tremoveUser: PropTypes.func.isRequired,\r\n\tchangeUserRole: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BoardMemberUser;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Pagination.scss\";\r\nimport KeyboardArrowLeftIcon from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\";\r\n\r\nconst Pagination = ({ currentPage, amountOfPages, handleChange }) => {\r\n\tconst previousePage = () => {\r\n\t\t\thandleChange(currentPage - 1);\r\n\t};\r\n\tconst nextPage = () => {\r\n\t\thandleChange(currentPage + 1);\r\n\t};\r\n\tif(\tamountOfPages < 2) return null\r\n\t else return (\r\n\t\t<nav className=\"pagination-container\">\r\n\t\t\t{currentPage !== 1 ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button onClick={previousePage} className=\" pagination-item arrow\">\r\n\t\t\t\t\t\t<KeyboardArrowLeftIcon />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div className={`three-dots ${currentPage - 1 === 1 ? \"hide\" : \"\"}`}>...</div>\r\n\t\t\t\t\t<button onClick={previousePage} className=\"pagination-item\">\r\n\t\t\t\t\t\t{currentPage - 1}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"empty\"></div>\r\n\t\t\t)}\r\n\t\t\t<button className=\"pagination-item current-page\">{currentPage}</button>\r\n\t\t\t{currentPage !== amountOfPages ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button onClick={nextPage} className=\"pagination-item\">\r\n\t\t\t\t\t\t{currentPage + 1}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div className={`three-dots ${currentPage + 1 === amountOfPages ? \"hide\" : \"\"}`}>...</div>\r\n\t\t\t\t\t<button onClick={nextPage} className=\"pagination-item arrow\">\r\n\t\t\t\t\t\t<KeyboardArrowRightIcon />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"empty\"></div>\r\n\t\t\t)}\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nPagination.propTypes = {\r\n\tcurrentPage: PropTypes.number.isRequired,\r\n\tamountOfPages: PropTypes.number.isRequired,\r\n\thandleChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import axios from \"axios\";\n\nconst callAPI = async ({ url, method, token, payload, setLoading }) => {\n\tlet headers = {};\n\tif (!!token) headers = { Authorization: localStorage.getItem(\"token\") };\n\t!!setLoading && setLoading(true);\n\ttry {\n\t\tconst res = await axios({ method, url: `/api${url}`, data: payload, headers });\n        !!setLoading && setLoading(false);\n\t\treturn { data: res.data, error: null, status: res.status };\n\t} catch (error) {\n\t\t!!setLoading && setLoading(false);\n\t\treturn { data: null, error: error.response?.data, status: error.response?.status };\n\t}\n};\n\nexport default callAPI;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 50,\n  cy: 50,\n  fill: \"none\",\n  stroke: \"#1d0e0b\",\n  strokeWidth: 10,\n  r: 35,\n  strokeDasharray: \"164.93361431346415 56.97787143782138\"\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0 50 50;360 50 50\",\n  keyTimes: \"0;1\"\n}));\n\nvar SvgRolling1S200Px = function SvgRolling1S200Px(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      margin: \"auto\",\n      background: \"transparent\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"20px\",\n    height: \"20px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRolling1S200Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Rolling-1s-200px.7bfab7c3.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\";\r\nimport { ReactComponent as Spinner } from \"assets/spinners/Rolling-1s-200px.svg\";\r\nimport \"./LoadingOverlay.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport { UserContext } from \"context/UserContext\";\r\n\r\nconst LoadingOverlay = ({ show, opacity, classes, children, color }) => {\r\n\tconst [{ theme }] = useContext(UserContext);\r\n\tlet overlayColor = theme ? \"255, 255, 255\" : \"71, 74, 75\";\r\n\tif (!!color) {\r\n\t\toverlayColor = theme ? color.light : color.dark;\r\n\t}\r\n\r\n\tif (show) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={`loading-overlay ${classes.join(\"\")}`}\r\n\t\t\t\tstyle={{ backgroundColor: `rgba(${overlayColor}, ${opacity})` }}\r\n\t\t\t>\r\n\t\t\t\t<Spinner className=\"loading-overlay-spinner\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <div>{children}</div>;\r\n\t}\r\n};\r\n\r\nLoadingOverlay.defaultProps = {\r\n\tshow: true,\r\n\topacity: 1,\r\n\tclasses: [\"\"],\r\n\tcolor: { light: \"255, 255, 255\", dark: \"83, 86, 87\" },\r\n};\r\n\r\nLoadingOverlay.propTypes = {\r\n\tshow: PropTypes.bool,\r\n\topacity: PropTypes.number,\r\n\tclasses: PropTypes.arrayOf(PropTypes.string),\r\n\tcolor: PropTypes.shape({ light: PropTypes.string, dark: PropTypes.string }),\r\n};\r\n\r\nexport default LoadingOverlay;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport AutoCompleteInput from \"components/AutoCompleteInput/AutoCompleteInput\";\r\nimport BoardMemberUser from \"./BoardMemberUser\";\r\nimport Pagination from \"components/Pagination/Pagination\";\r\nimport \"./BoardMembers.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\n\r\nconst BoardMembers = ({ boardId }) => {\r\n\tconst USER_LIMIT = 5;\r\n\tconst [members, setMembers] = useState([]);\r\n\tconst [page, setPage] = useState({ currentPage: 1, amountOfPages: 1 });\r\n\tconst [isPageLoading, setPageLoading] = useState(true);\r\n\tconst [searchRes, setSearchRes] = useState([]);\r\n\tconst [{ currentBoard }] = useContext(UserContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet _isMounted = true;\r\n\r\n\t\tconst fetchBoardMembers = async () => {\r\n\t\t\tconst { data } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/${boardId}/members?limit=${USER_LIMIT}&page=${page.currentPage}`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t});\r\n\t\t\tif (_isMounted) setPageLoading(false);\r\n\t\t\tif (!!data && _isMounted) {\r\n\t\t\t\tconst { totalPageCount, items } = data;\r\n\t\t\t\tsetPage((pages) => ({ ...pages, amountOfPages: totalPageCount }));\r\n\t\t\t\tsetMembers(items);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchBoardMembers();\r\n\t\treturn () => {\r\n\t\t\t_isMounted = false;\r\n\t\t};\r\n\t}, [boardId, page.currentPage]);\r\n\r\n\tconst dynamicSearchHandler = async (username) => {\r\n\t\tconst { data } = await fetchData({\r\n\t\t\tmethod: \"GET\",\r\n\t\t\turl: `/user/find_user?username=${username}`,\r\n\t\t\ttoken: true,\r\n\t\t});\r\n\t\tif (!!data) {\r\n\t\t\tconst parsedResult = data.map((user) => ({\r\n\t\t\t\t...user,\r\n\t\t\t\ttext: user.username,\r\n\t\t\t}));\r\n\t\t\tsetSearchRes(parsedResult);\r\n\t\t}\r\n\t};\r\n\tconst changePageHandler = (pageNumber) => {\r\n\t\tsetPage((pages) => ({ ...pages, currentPage: pageNumber }));\r\n\t};\r\n\tconst removeUserFromBoard = async (memberId) => {\r\n\t\tconst { data } = await fetchData({\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\turl: `/board/${boardId}/members/${memberId}`,\r\n\t\t\ttoken: true,\r\n\t\t});\r\n\t\tif (!!data) {\r\n\t\t\tsetMembers((members) => {\r\n\t\t\t\tconst tempMembers = [...members];\r\n\t\t\t\tconst indexOfFoundMember = tempMembers.findIndex(({ id }) => id === memberId);\r\n\t\t\t\ttempMembers.splice(indexOfFoundMember, 1);\r\n\t\t\t\treturn tempMembers;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst addUserToBoardHandler = async (user) => {\r\n\t\tsetSearchRes([]);\r\n\t\tconst { data } = await fetchData({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl: `/board/${boardId}/members?userId=${user._id}`,\r\n\t\t\ttoken: true,\r\n\t\t});\r\n\t\tif (!!data && members.length < USER_LIMIT) {\r\n\t\t\tsetMembers((members) => {\r\n\t\t\t\tconst tempUsers = [...members];\r\n\t\t\t\ttempUsers.push({ user, role: \"regular\" });\r\n\t\t\t\treturn tempUsers;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst clearSearchResults = () => {\r\n\t\tsetSearchRes([]);\r\n\t};\r\n\tconst changeUserRole = async (userId, newRole) => {\r\n\t\tconst foundUserIndex = members.findIndex(({ user }) => user._id === userId);\r\n\t\tconst { status } = await fetchData({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl: `/board/${boardId}/members/${userId}?newRole=${newRole}`,\r\n\t\t\ttoken: true,\r\n\t\t});\r\n\t\tif (status === 200) {\r\n\t\t\tsetMembers((members) => {\r\n\t\t\t\tconst newMembers = [...members];\r\n\t\t\t\tnewMembers[foundUserIndex].role = newRole;\r\n\t\t\t\treturn newMembers;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tconst isAuthorized = () => {\r\n\t\tconst { role } = currentBoard;\r\n\t\treturn role === \"owner\" || role === \"admin\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"board-members-modal\">\r\n\t\t\t{isAuthorized() && (\r\n\t\t\t\t<AutoCompleteInput\r\n\t\t\t\t\texecMethod={dynamicSearchHandler}\r\n\t\t\t\t\ttimeout={500}\r\n\t\t\t\t\tsearchResult={searchRes.filter(\r\n\t\t\t\t\t\t({ _id }) => members.findIndex(({ user }) => user._id === _id) < 0\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tclickResult={addUserToBoardHandler}\r\n\t\t\t\t\tclearResults={clearSearchResults}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<LoadingOverlay show={isPageLoading} opacity={0}>\r\n\t\t\t\t<div className=\"user-container\">\r\n\t\t\t\t\t{members.map(({ user, role }) => (\r\n\t\t\t\t\t\t<BoardMemberUser\r\n\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t\tremoveUser={() => removeUserFromBoard(user._id)}\r\n\t\t\t\t\t\t\tuserId={user._id}\r\n\t\t\t\t\t\t\tusername={user.username}\r\n\t\t\t\t\t\t\timageURL={user.avatarImageURL}\r\n\t\t\t\t\t\t\tuserType={role}\r\n\t\t\t\t\t\t\tchangeUserRole={changeUserRole}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</LoadingOverlay>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tamountOfPages={page.amountOfPages}\r\n\t\t\t\tcurrentPage={page.currentPage}\r\n\t\t\t\thandleChange={changePageHandler}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nBoardMembers.propTypes = {\r\n\tboardId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BoardMembers;\r\n","import React from \"react\";\nimport \"./Button.scss\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ children, classes, clicked, type, disabled, refEl }) => {\n\treturn (\n\t\t<button\n\t\t\tref={refEl}\n\t\t\tdisabled={disabled}\n\t\t\ttype={type}\n\t\t\tonClick={clicked}\n\t\t\tclassName={`btn-primary ${classes.join(\" \")}`}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n};\n\nButton.defaultProps = {\n\tclasses: [\"\"],\n\tclicked: null,\n\ttype: \"button\",\n\tdisabled: false,\n\trefEl: undefined,\n};\n\nButton.propTypes = {\n\trefEl: PropTypes.object,\n\tchildren: PropTypes.node.isRequired,\n\tclicked: PropTypes.func,\n\tdisabled: PropTypes.bool,\n\ttype: PropTypes.string,\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default Button;\n","import React from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport \"./TextInput.scss\";\nimport PropTypes from \"prop-types\";\n\nconst TextInput = ({ hasErrors, helperText, label, name, type, multiline, onChange, value, classes }) => {\n\tconst getLabel = () => {\n\t\treturn label.length > 0 ? label : name;\n\t};\n\n\treturn (\n\t\t<TextField\n\t\t\tonChange={onChange}\n\t\t\tvalue={value}\n\t\t\tclassName={`workflow-textfield ${classes.join(\" \")}`}\n\t\t\terror={hasErrors}\n\t\t\thelperText={helperText}\n\t\t\tlabel={getLabel()}\n\t\t\tname={name}\n\t\t\ttype={type}\n\t\t\tvariant={\"standard\"}\n\t\t\tmultiline={!!multiline}\n\t\t\trows={multiline?.rows}\n\t\t\trowsMax={multiline?.max}\n\t\t\tmargin=\"dense\"\n\t\t/>\n\t);\n};\n\nTextInput.defaultProps = {\n\thasErrors: false,\n\thelperText: \"\",\n\tlabel: \"\",\n\ttype: \"text\",\n\tmultiline: undefined,\n\tonChange: undefined,\n\tvalue: \"\",\n\tclasses: [],\n};\n\nTextInput.propTypes = {\n\thasErrors: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tlabel: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n\ttype: PropTypes.string,\n\tmultiline: PropTypes.shape({ rows: PropTypes.number.isRequired, max: PropTypes.number.isRequired }),\n\tonChange: PropTypes.func,\n\tvalue: PropTypes.string,\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default TextInput;\n","import React from \"react\";\r\nimport \"./SimpleForm.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport Button from \"components/Button/Button\";\r\nimport * as Yup from \"yup\";\r\nimport TextInput from \"components/TextInput/TextInput\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\n\r\nconst createInitialValueObject = (fieldObject) => {\r\n\tlet initialValues = {};\r\n\tObject.keys(fieldObject).forEach((fieldName) => {\r\n\t\tinitialValues[fieldName] = fieldObject[fieldName].initialVal;\r\n\t});\r\n\treturn initialValues;\r\n};\r\n\r\nconst SimpleForm = ({\r\n\tsubmitButtonName,\r\n\tvalidationSchema,\r\n\thandleSubmit,\r\n\tfields,\r\n\tclasses,\r\n\tloadingOverlayColor,\r\n}) => {\r\n\treturn (\r\n\t\t<div className={`simple-form-container ${classes.join(\" \")}`}>\r\n\t\t\t<Formik\r\n\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\tinitialValues={createInitialValueObject(fields)}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t{({ isSubmitting, isValid, errors }) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<LoadingOverlay show={isSubmitting} opacity={0.5} color={loadingOverlayColor} />\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t{Object.entries(fields).map(([field]) => (\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={field}\r\n\t\t\t\t\t\t\t\t\thasErrors={!!errors[field]}\r\n\t\t\t\t\t\t\t\t\thelperText={errors[field]}\r\n\t\t\t\t\t\t\t\t\tlabel={fields[field].label}\r\n\t\t\t\t\t\t\t\t\tname={field}\r\n\t\t\t\t\t\t\t\t\ttype={fields[field].type}\r\n\t\t\t\t\t\t\t\t\tas={TextInput}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclasses={[\"btn-accent\", \"btn-submit\"]}\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting || !isValid}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{submitButtonName}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Formik>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nSimpleForm.defaultProps = {\r\n\tvalidationSchema: Yup.object({}),\r\n\tsubmitButtonName: \"Submit\",\r\n\tclasses: [\"\"],\r\n\tloadingOverlayColor: undefined,\r\n};\r\n\r\nSimpleForm.propTypes = {\r\n\tsubmitButtonName: PropTypes.string,\r\n\tvalidationSchema: PropTypes.object,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\tfields: PropTypes.object.isRequired,\r\n\tclasses: PropTypes.arrayOf(PropTypes.string),\r\n\tloadingOverlayColor: PropTypes.shape({ light: PropTypes.string, dark: PropTypes.string }),\r\n};\r\n\r\nexport default SimpleForm;\r\n","import React, { createContext, useReducer } from \"react\";\n\nexport const ModalContext = createContext();\n\nconst initialState = { render: \"\", title: \"\", show: false }\n\nconst reducer = (state, {type, payload}) => {\n  switch(type) {\n    case \"OPEN\":\n      return { render: payload.render, title: payload.title, show: true };\n    case \"CLOSE\":\n      return { render: \"\", title: \"\", show: false };\n    default:\n      return state;\n  }\n}\n\nexport const ModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return <ModalContext.Provider value={[state, dispatch]}>{children}</ModalContext.Provider>;\n};","import React, { useContext } from \"react\";\nimport * as Yup from \"yup\";\nimport SimpleForm from \"components/SimpleForm/SimpleForm\";\nimport { ModalContext } from \"context/ModalContext\";\nimport fetchData from \"helper/fetchData\";\n\nconst validationSchema = Yup.object({\n\tnewPassword: Yup.string().min(5, \"must be at least 5 characters\").required(\"field is required\"),\n\tmatchPassword: Yup.string()\n\t\t.oneOf([Yup.ref(\"newPassword\")], \"password does not match\")\n\t\t.required(\"Password confirm is required\"),\n});\n\nconst fields = {\n\tnewPassword: { initialVal: \"\", type: \"password\", label: \"new password\" },\n\tmatchPassword: { initialVal: \"\", type: \"password\", label: \"match password\" },\n};\n\nconst ChangePassword = () => {\n\tconst [, modalDispatch] = useContext(ModalContext);\n\n\tconst handleSubmit = async (submittedData, { setSubmitting, setErrors }) => {\n\t\tconst { data, error } = await fetchData({\n\t\t\tmethod: \"PATCH\",\n\t\t\turl: \"/user/change_password\",\n\t\t\ttoken: true,\n\t\t\tsetLoading: setSubmitting,\n\t\t\tpayload: submittedData,\n\t\t});\n\t\tif (!!data) {\n\t\t\tmodalDispatch({ type: \"CLOSE\" });\n\t\t} else if (!!error) {\n\t\t\tsetErrors(error.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"change-password-modal\">\n\t\t\t<SimpleForm\n\t\t\t\tsubmitButtonName=\"change password\"\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tfields={fields}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default ChangePassword;\n","import React, { useContext } from \"react\";\nimport * as Yup from \"yup\";\nimport SimpleForm from \"components/SimpleForm/SimpleForm\";\nimport { ModalContext } from \"context/ModalContext\";\nimport fetchData from \"helper/fetchData\";\n\nconst validationSchema = Yup.object({\n\timageLink: Yup.string().url().required(\"image link is required\"),\n});\n\nconst fields = {\n\timageLink: { initialVal: \"\", type: \"text\", label: \"avatar image URL\" },\n};\n\nconst ChangeProfilePicture = ({ changeProfilePic }) => {\n\tconst [, modalDispatch] = useContext(ModalContext);\n\n\tconst handleSubmit = async (submittedData, { setSubmitting }) => {\n\t\tconst { data } = await fetchData({\n\t\t\tmethod: \"PATCH\",\n\t\t\turl: \"/user/change_avatar\",\n\t\t\ttoken: true,\n\t\t\tsetLoading: setSubmitting,\n\t\t\tpayload: { imageURL: submittedData.imageLink },\n\t\t});\n\t\tif (!!data) {\n\t\t\tmodalDispatch({ type: \"CLOSE\" });\n\t\t\tchangeProfilePic(submittedData.imageLink);\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"change-profile-picture-modal\">\n\t\t\t<SimpleForm\n\t\t\t\tsubmitButtonName=\"update\"\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tfields={fields}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default ChangeProfilePicture;\n","import React, { useContext } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport \"./Login.scss\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport SimpleForm from \"components/SimpleForm/SimpleForm\";\r\n\r\nconst validationSchema = Yup.object({\r\n\tusername: Yup.string().max(25, \"username is too long\").required(\"field is required\"),\r\n\tpassword: Yup.string().min(5, \"must be at least 5 characters\").required(\"field is required\"),\r\n});\r\n\r\nconst fields = {\r\n\tusername: { initialVal: \"\", type: \"text\" },\r\n\tpassword: { initialVal: \"\", type: \"password\" },\r\n};\r\n\r\nconst Login = () => {\r\n\tconst [, userDispatch] = useContext(UserContext);\r\n\tconst [, modalDispatch] = useContext(ModalContext);\r\n\r\n\tconst handleSubmit = async (submittedData, { setSubmitting, setErrors }) => {\r\n\t\tconst { data, error } = await fetchData({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: \"/login\",\r\n\t\t\tsetLoading: setSubmitting,\r\n\t\t\tpayload: submittedData,\r\n\t\t});\r\n\t\tif (!!data) {\r\n\t\t\tconst { token, user } = data;\r\n\t\t\tuserDispatch({ type: \"LOGIN_SUCCESS\", payload: { user, token } });\r\n\t\t\tmodalDispatch({ type: \"CLOSE\" });\r\n\t\t} else if (!!error) {\r\n\t\t\tsetErrors({ username: \"bad username\", password: \"bad password\" });\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`simple-form-container login-form`}>\r\n\t\t\t<SimpleForm\r\n\t\t\t\tsubmitButtonName=\"LogIn\"\r\n\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tfields={fields}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React, { createContext, useReducer, useEffect } from \"react\";\n\nexport const WarningNotificationContext = createContext();\n\nconst initialState = { type: \"SUCCESS\", message: \"\", show: false }\n\nconst reducer = (state, { type, payload }) => {\n  switch (type) {\n    case \"SUCCESS\":\n      return { type: \"SUCCESS\", message: payload.message, show: true };\n    case \"WARNING\":\n      return { type: \"WARNING\", message: payload.message, show: true };\n    case \"ERROR\":\n      return { type: \"ERROR\", message: payload.message, show: true };\n    case \"CLOSE\":\n      return { ...state, show: false };\n    default:\n      return state;\n  }\n}\n\nexport const WarningNotificationProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    const closeNotification = () => {\n      dispatch({ type: \"CLOSE\" })\n    }\n    if(state.show) setTimeout(closeNotification, 5000);\n    else clearTimeout(closeNotification);\n    return () => {\n      clearTimeout(closeNotification)\n    }\n  }, [state.show])\n\n  return <WarningNotificationContext.Provider value={[state, dispatch]}>{children}</WarningNotificationContext.Provider>;\n};","import React, { useState, useContext, useEffect } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport \"./BoardEditor.scss\";\r\nimport Button from \"components/Button/Button\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport TextInput from \"components/TextInput/TextInput\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\n\r\nimport fetchData from \"helper/fetchData\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { WarningNotificationContext } from \"context/WarningNotificationContext\";\r\n\r\n\r\nconst validationSchema = Yup.object({\r\n\tname: Yup.string().max(25, \"board name is too long\").required(\"field is required\"),\r\n\tdescription: Yup.string().max(400, \"description is too long\"),\r\n});\r\n\r\nconst BoardEditor = ({ boardId, submitType }) => {\r\n\tconst [, dispatchModal] = useContext(ModalContext);\r\n\tconst [, warningNotificationDispatch] = useContext(WarningNotificationContext);\r\n\tconst [loadingBoardInfo, setLoadingBoardInfo] = useState(false);\r\n\tconst [initialVals, setInitialVals] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getBoardInfo = async () => {\r\n\t\t\tsetLoadingBoardInfo(true);\r\n\t\t\tconst { data } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/${boardId}?short=true`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t});\r\n\t\t\tif (!!data) {\r\n\t\t\t\tconst { name, description } = data;\r\n\t\t\t\tsetInitialVals({ name, description });\r\n\t\t\t\tsetLoadingBoardInfo(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (submitType === \"Update\") getBoardInfo();\r\n\t\treturn () => {}\r\n\t}, [boardId, submitType])\r\n\r\n\tconst submitButtonClick = async (submittedData, { setSubmitting }) => {\r\n\t\tconst { data } = await fetchData({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: `/board/${!!boardId ? boardId : \"\"}`,\r\n\t\t\ttoken: true,\r\n\t\t\tsetLoading: setSubmitting,\r\n\t\t\tpayload: submittedData,\r\n\t\t});\r\n\t\tif (!!data) {\r\n\t\t\tdispatchModal({ type: \"CLOSE\" });\r\n\t\t\tconst boardId = data.board._id;\r\n\t\t\twarningNotificationDispatch({ type: \"SUCCESS\", payload: { message: data.message } })\r\n\t\t\thistory.push(`/board/${boardId}`);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"board-form-container-wrapper\">\r\n\t\t\t<LoadingOverlay show={loadingBoardInfo} opacity={0} >\r\n\t\t\t\t<div className=\"board-form-container\">\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\tinitialValues={initialVals}\r\n\t\t\t\t\t\tonSubmit={submitButtonClick}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{({ isSubmitting, isValid, errors }) => (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<LoadingOverlay show={isSubmitting} opacity={0.5} />\r\n\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"fields\">\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"board-name-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"board name\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\thasErrors={!!errors[\"name\"]}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors[\"name\"]}\r\n\t\t\t\t\t\t\t\t\t\t\tclasses={[\"board-name-field\"]}\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextInput}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tname={\"description\"}\r\n\t\t\t\t\t\t\t\t\t\t\tclasses={[\"board-description-field\"]}\r\n\t\t\t\t\t\t\t\t\t\t\tmultiline={{ rows: 7, max: 7 }}\r\n\t\t\t\t\t\t\t\t\t\t\thasErrors={!!errors[\"description\"]}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors[\"description\"]}\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextInput}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting || !isValid}\r\n\t\t\t\t\t\t\t\t\t\tclasses={[\"btn-accent\", \"btn-submit\"]}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{submitType}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Formik>\r\n\t\t\t\t</div>\r\n\t\t\t</LoadingOverlay>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default BoardEditor;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as Yup from \"yup\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport TextInput from \"components/TextInput/TextInput\";\r\nimport Button from \"components/Button/Button\";\r\n\r\nconst validationSchema = Yup.object({\r\n    name: Yup.string().max(25, \"name is too long\").required(\"field is required\"),\r\n    surname: Yup.string().max(25, \"surname is too long\").required(\"field is required\"),\r\n});\r\n\r\nconst fieldTypes = {\r\n    name: \"text\",\r\n    surname: \"text\",\r\n}\r\n\r\nconst RegisterStage1 = ({ changeFieldVals, initialFieldValues, changeStage }) => {\r\n\r\n    const nextStage = (submittedData) => {\r\n        changeFieldVals(submittedData);\r\n        changeStage(2);\r\n    }\r\n\r\n    const createFields = () => {\r\n        let fieldVals = {};\r\n        Object.keys(fieldTypes).forEach(fieldName => fieldVals[fieldName] = initialFieldValues[fieldName])\r\n        return fieldVals;\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            validationSchema={validationSchema}\r\n            initialValues={createFields()}\r\n            onSubmit={nextStage}\r\n        >\r\n            {({ isValid, errors }) => (\r\n                <Form>\r\n                    {\r\n                        Object.entries(fieldTypes).map(([fieldName, fieldType]) =>\r\n                            <Field\r\n                                key={fieldName}\r\n                                hasErrors={!!errors[fieldName]}\r\n                                helperText={errors[fieldName]}\r\n                                label={fieldName}\r\n                                name={fieldName}\r\n                                type={fieldType}\r\n                                as={TextInput} />)\r\n                    }\r\n                    <Button classes={[\"register-stage-controll-btn stage-next\"]} disabled={!isValid} type=\"submit\">Next</Button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nRegisterStage1.propTypes = {\r\n    changeFieldVals: PropTypes.func.isRequired,\r\n    initialFieldValues: PropTypes.object.isRequired,\r\n    changeStage: PropTypes.func.isRequired\r\n}\r\n\r\nexport default RegisterStage1;\r\n","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as Yup from \"yup\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport TextInput from \"components/TextInput/TextInput\";\r\nimport Button from \"components/Button/Button\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport { WarningNotificationContext } from \"context/WarningNotificationContext\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\n\r\n\r\nconst validationSchema = Yup.object({\r\n    email: Yup.string().email().required(\"field is required\"),\r\n    username: Yup.string().min(3, \"username is too short\").max(25, \"username is too long\").required(\"field is required\"),\r\n    password: Yup.string().min(5, \"must be at least 5 characters\").required(\"field is required\"),\r\n    matchPassword: Yup.string()\r\n        .oneOf([Yup.ref(\"password\")], \"password does not match\")\r\n        .required(\"Password confirm is required\"),\r\n});\r\n\r\nconst fieldTypes = {\r\n    email: \"email\",\r\n    username: \"text\",\r\n    password: \"password\",\r\n    matchPassword: \"password\"\r\n}\r\n\r\nconst RegisterStage2 = ({ initialFieldValues, changeStage }) => {\r\n\r\n    const [, modalDispatch] = useContext(ModalContext);\r\n    const [, warningNotificationDispatch] = useContext(WarningNotificationContext);\r\n\r\n    const handleGoBackStage = () => {\r\n        changeStage(stage => stage - 1);\r\n    }\r\n\r\n    const createFields = () => {\r\n        let fieldVals = {};\r\n        Object.keys(fieldTypes).forEach(fieldName => fieldVals[fieldName] = initialFieldValues[fieldName])\r\n        return fieldVals;\r\n    }\r\n\r\n\r\n    const submitRegistrationForm = async (submittedData, { setErrors, setSubmitting }) => {\r\n        const { error, status } = await fetchData({\r\n            method: \"POST\",\r\n            url: \"/register\",\r\n            setLoading: setSubmitting,\r\n            payload: { ...initialFieldValues, ...submittedData },\r\n        });\r\n        if (status === 201) { \r\n            warningNotificationDispatch({ type: \"SUCCESS\", payload: { message: \"successfuly registered!\" } })\r\n            modalDispatch({ type: \"CLOSE\" }); \r\n        }\r\n        else if(status === 500) warningNotificationDispatch({ type: \"WARNING\", payload: { message: \"server error\" } })\r\n        if (!!error) setErrors(error.message);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Formik\r\n                validationSchema={validationSchema}\r\n                initialValues={createFields()}\r\n                onSubmit={submitRegistrationForm}\r\n            >\r\n                {({ isSubmitting, isValid, errors }) => (\r\n                    <>\r\n                        <LoadingOverlay show={isSubmitting} opacity={0.5} />\r\n                        <Form>\r\n                            {\r\n                                Object.entries(fieldTypes).map(([fieldName, fieldType]) =>\r\n                                    <Field\r\n                                        key={fieldName}\r\n                                        hasErrors={!!errors[fieldName]}\r\n                                        helperText={errors[fieldName]}\r\n                                        label={fieldName}\r\n                                        name={fieldName}\r\n                                        type={fieldType}\r\n                                        as={TextInput} />)\r\n                            }\r\n                            <Button classes={[\"register-stage-controll-btn stage-back\"]} clicked={handleGoBackStage} >Go back</Button>\r\n                            <Button classes={[\"btn-accent\"]} disabled={!isValid} type=\"submit\">Finish</Button>\r\n                        </Form>\r\n                    </>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    )\r\n}\r\n\r\nRegisterStage2.propTypes = {\r\n    initialFieldValues: PropTypes.object.isRequired,\r\n    changeStage: PropTypes.func.isRequired\r\n}\r\n\r\nexport default RegisterStage2;\r\n","import React, { useState } from \"react\";\r\nimport \"./Register.scss\";\r\nimport RegisterStage1 from \"./RegisterStage1\";\r\nimport RegisterStage2 from \"./RegisterStage2\";\r\n\r\nconst Register = () => {\r\n\tconst [registerStage, setRegisterStage] = useState(1);\r\n\r\n\tconst [registerFormField, setRegisterFormFields] = useState({\r\n\t\tusername: \"\",\r\n\t\tpassword: \"\",\r\n\t\tmatchPassword: \"\",\r\n\t\temail: \"\",\r\n\t\tname: \"\",\r\n\t\tsurname: \"\"\r\n\t})\r\n\r\n\tconst handleChangeFieldValues = (newValues) => {\r\n\t\tsetRegisterFormFields(fields => ({ ...fields, ...newValues }));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"register-form\">\r\n\t\t\t{registerStage === 1 &&\r\n\t\t\t\t<RegisterStage1\r\n\t\t\t\t\tchangeFieldVals={handleChangeFieldValues}\r\n\t\t\t\t\tinitialFieldValues={registerFormField}\r\n\t\t\t\t\tchangeStage={setRegisterStage}\r\n\t\t\t\t/>}\r\n\t\t\t{registerStage === 2 &&\r\n\t\t\t\t<RegisterStage2\r\n\t\t\t\t\t\tchangeStage={setRegisterStage}\r\n\t\t\t\t\tinitialFieldValues={registerFormField}\r\n\t\t\t\t/>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Register;\r\n","import React, { useRef, useState, useContext, useEffect } from \"react\";\nimport \"./Tooltip.scss\";\nimport Portal from \"HOC/Portal\";\nimport PropTypes from \"prop-types\";\nimport { UserContext } from \"context/UserContext\";\n\nfunction Tooltip({ classes, children, anchorEl, offset }) {\n\tconst [showTooltip, setShowTooltip] = useState(false);\n\tconst [cords, setCords] = useState({ left: 0, top: 0 });\n\tconst toolTipRef = useRef();\n\tconst [{ theme }] = useContext(UserContext);\n\n\tuseEffect(() => {\n\t\tlet waitTimeBeforeRender = 0;\n\n\t\tconst showToolTiphandler = () => {\n\t\t\twaitTimeBeforeRender = setTimeout(() => {\n\t\t\t\tsetShowTooltip(true);\n\t\t\t\tconst rect = anchorEl.current.getBoundingClientRect();\n\t\t\t\tconst toolTipContainerWith = toolTipRef.current.getBoundingClientRect().width;\n\t\t\t\tsetCords({\n\t\t\t\t\tleft: rect.x + rect.width / 2 - toolTipContainerWith / 2 + offset.x,\n\t\t\t\t\ttop: rect.y + 30 + offset.y,\n\t\t\t\t});\n\t\t\t}, 500);\n\t\t};\n\n\t\tconst hideToolTipHandler = () => {\n\t\t\tif (waitTimeBeforeRender) clearTimeout(waitTimeBeforeRender);\n\t\t\tsetShowTooltip(false);\n\t\t};\n\n\t\tconst tooltipAnchorElement = anchorEl.current;\n\t\ttooltipAnchorElement.addEventListener(\"mouseenter\", showToolTiphandler);\n\t\ttooltipAnchorElement.addEventListener(\"mouseleave\", hideToolTipHandler);\n\n\t\treturn () => {\n\t\t\tif (waitTimeBeforeRender) clearTimeout(waitTimeBeforeRender);\n\t\t\ttooltipAnchorElement.removeEventListener(\"mouseenter\", showToolTiphandler);\n\t\t\ttooltipAnchorElement.removeEventListener(\"mouseleave\", hideToolTipHandler);\n\t\t};\n\t}, [offset, anchorEl]);\n\n\tif (showTooltip) {\n\t\treturn (\n\t\t\t<Portal mountTo=\"root-menu\">\n\t\t\t\t<div\n\t\t\t\t\tref={toolTipRef}\n\t\t\t\t\tstyle={{ top: cords.top, left: cords.left }}\n\t\t\t\t\tclassName={`tool-tip-wrapper ${theme ? \"theme-light\" : \"theme-dark\"} ${classes.join(\n\t\t\t\t\t\t\" \"\n\t\t\t\t\t)}`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</Portal>\n\t\t);\n\t} else {\n\t\treturn null;\n\t}\n}\nTooltip.defaultProps = {\n\tclasses: [\"\"],\n\toffset: { x: 0, y: 0 },\n};\n\nTooltip.propTypes = {\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n\tanchorEl: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n\t]).isRequired,\n\tchildren: PropTypes.node.isRequired,\n\toffset: PropTypes.shape({ x: PropTypes.number, y: PropTypes.number }),\n};\n\nexport default Tooltip;\n","import React, { useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport \"./TagButton.scss\";\nimport Tooltip from \"components/Tooltip/Tooltip\";\n\nconst TagButton = ({ clicked, showIcon, color, name, selected }) => {\n\tconst anchorEl = useRef();\n\n\treturn (\n\t\t<div className=\"color-tile-wrapper\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={clicked}\n\t\t\t\tclassName={`color-tile ${color} ${selected ? \"selected\" : \"\"}`}\n\t\t\t\tref={anchorEl}\n\t\t\t>\n\t\t\t\t{showIcon && <LocalOfferIcon />}\n\t\t\t</button>\n\t\t\t{name && (\n\t\t\t\t<Tooltip offset={{ x: 0, y: 20 }} anchorEl={anchorEl}>\n\t\t\t\t\t<span>{name}</span>\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nTagButton.propTypes = {\n\tclicked: PropTypes.func.isRequired,\n\tshowIcon: PropTypes.bool.isRequired,\n\tcolor: PropTypes.string.isRequired,\n\tname: PropTypes.string.isRequired,\n\tselected: PropTypes.bool.isRequired,\n};\n\nexport default TagButton;\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport TextInput from \"components/TextInput/TextInput\";\r\nimport Button from \"components/Button/Button\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport TagButton from \"components/Tag/TagButton\";\r\nimport \"./Tags.scss\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport PropTypes from \"prop-types\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\nimport { UserContext } from \"context/UserContext\";\r\n\r\nconst colorList = [\"red\", \"yellow\", \"green\", \"tiel\", \"purple\", \"majenta\", \"pink\", \"black\", \"white\"];\r\n\r\nconst createInitalTagValues = (boardColors) => {\r\n\tconst initialTagValues = [];\r\n\tcolorList.forEach((color) => {\r\n\t\tconst foundTag = boardColors.find(({ colorCode }) => colorCode === color);\r\n\t\tif (foundTag === undefined) initialTagValues.push({ id: \"\", color, name: \"\" });\r\n\t\telse initialTagValues.push({ id: foundTag._id, color, name: foundTag.name });\r\n\t});\r\n\treturn initialTagValues;\r\n};\r\n\r\nconst Tags = ({ boardId }) => {\r\n\tconst [inputTagName, setInputTagName] = useState(\"\");\r\n\tconst [selectedColor, setSelectedColor] = useState(\"\");\r\n\tconst [boardTags, setBoardTags] = useState([]);\r\n\tconst [isTagLoading, setTagLoading] = useState(true);\r\n\tconst [{ currentBoard }] = useContext(UserContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet _isMounted = true;\r\n\r\n\t\tconst getBoardTags = async () => {\r\n\t\t\tconst { data } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/${boardId}/tag/`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t});\r\n\t\t\tif (_isMounted) setTagLoading(false);\r\n\t\t\tif (!!data && _isMounted) {\r\n\t\t\t\tconst { tags } = data;\r\n\t\t\t\tsetBoardTags(createInitalTagValues(tags));\r\n\t\t\t}\r\n\t\t};\r\n\t\tgetBoardTags();\r\n\t\treturn () => {\r\n\t\t\t_isMounted = false;\r\n\t\t};\r\n\t}, [boardId]);\r\n\r\n\tconst handleTagNameInput = (event) => {\r\n\t\tconst inputValue = event.target.value.replace(/\\n/g, \"\");\r\n\t\tif (inputValue.length <= 30) {\r\n\t\t\tsetInputTagName(inputValue);\r\n\t\t}\r\n\t};\r\n\r\n\tconst isAuthorized = () => {\r\n\t\treturn currentBoard.role === \"admin\" || currentBoard.role === \"owner\";\r\n\t};\r\n\r\n\tconst selectTag = (index) => {\r\n\t\tif (isAuthorized()) {\r\n\t\t\tsetInputTagName(boardTags[index].name);\r\n\t\t\tsetSelectedColor(boardTags[index].color);\r\n\t\t}\r\n\t};\r\n\r\n\tconst createNewTag = async () => {\r\n\t\tif (selectedColor !== \"\" && inputTagName !== \"\") {\r\n\t\t\tconst indexOfTag = boardTags.findIndex((tag) => tag.color === selectedColor);\r\n\t\t\tlet tagId = \"\";\r\n\r\n\t\t\tlet requestURL = \"\";\r\n\t\t\tif (boardTags[indexOfTag].id === \"\") requestURL = `/board/${boardId}/tag`;\r\n\t\t\telse requestURL = `/board/${boardId}/tag/${boardTags[indexOfTag].id}`;\r\n\r\n\t\t\tconst { data } = await fetchData({\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turl: requestURL,\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tname: inputTagName,\r\n\t\t\t\t\tcolorCode: selectedColor,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tif (!!data) tagId = data.tag._id;\r\n\r\n\t\t\tif (tagId !== \"\")\r\n\t\t\t\tsetBoardTags((tags) => {\r\n\t\t\t\t\tconst tempTags = [...tags];\r\n\t\t\t\t\ttempTags[indexOfTag].name = inputTagName;\r\n\t\t\t\t\ttempTags[indexOfTag].id = tagId;\r\n\t\t\t\t\treturn tempTags;\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst deleteTag = async () => {\r\n\t\tif (selectedColor !== \"\" && inputTagName !== \"\") {\r\n\t\t\tconst indexOfTag = boardTags.findIndex((tag) => tag.color === selectedColor);\r\n\t\t\tconst { status } = await fetchData({\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t\turl: `/board/${boardId}/tag/${boardTags[indexOfTag].id}`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t});\r\n\t\t\tif (status === 200)\r\n\t\t\t\tsetBoardTags((tags) => {\r\n\t\t\t\t\tconst tempTags = [...tags];\r\n\t\t\t\t\ttempTags[indexOfTag].name = \"\";\r\n\t\t\t\t\ttempTags[indexOfTag].id = \"\";\r\n\t\t\t\t\tsetInputTagName(\"\");\r\n\t\t\t\t\tsetSelectedColor(\"\");\r\n\t\t\t\t\treturn tempTags;\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst canDeleteTag = () => {\r\n\t\tconst indexOfTag = boardTags.findIndex((tag) => tag.color === selectedColor);\r\n\t\tif (indexOfTag > -1) {\r\n\t\t\treturn boardTags[indexOfTag].id === \"\";\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"tag-form-wrapper\">\r\n\t\t\t<LoadingOverlay show={isTagLoading} opacity={0}>\r\n\t\t\t\t<div className=\"tag-form\">\r\n\t\t\t\t\t{isAuthorized() && (\r\n\t\t\t\t\t\t<div className=\"tag-name-input-wrappper\">\r\n\t\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\t\tonChange={handleTagNameInput}\r\n\t\t\t\t\t\t\t\tlabel={\"tag name\"}\r\n\t\t\t\t\t\t\t\tname={\"tagName\"}\r\n\t\t\t\t\t\t\t\ttype={\"text\"}\r\n\t\t\t\t\t\t\t\tvalue={inputTagName}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclasses={[\"check-btn\"]}\r\n\t\t\t\t\t\t\t\tdisabled={!inputTagName || !selectedColor}\r\n\t\t\t\t\t\t\t\tclicked={createNewTag}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CheckIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button disabled={canDeleteTag()} clicked={deleteTag}>\r\n\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"tag-color-container\">\r\n\t\t\t\t\t\t{boardTags.map(({ color, id, name }, index) => (\r\n\t\t\t\t\t\t\t<TagButton\r\n\t\t\t\t\t\t\t\tkey={color}\r\n\t\t\t\t\t\t\t\tclicked={() => selectTag(index)}\r\n\t\t\t\t\t\t\t\tselected={selectedColor === color}\r\n\t\t\t\t\t\t\t\tshowIcon={id !== \"\"}\r\n\t\t\t\t\t\t\t\tcolor={color}\r\n\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</LoadingOverlay>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTags.propTypes = {\r\n\tboardId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Tags;\r\n","import React from \"react\";\r\nimport \"./Tag.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\n\r\nconst Tag = ({ colorCode, tagName, deleteTag }) => {\r\n\treturn (\r\n\t\t<div className={`filter-tag ${colorCode}`}>\r\n\t\t\t<span className=\"tag-name\">{tagName}</span>\r\n\t\t\t{deleteTag !== undefined && <ClearIcon className=\"delete-tag\" onClick={deleteTag} />}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTag.defaultProps = {\r\n\tdeleteTag: undefined\r\n}\r\n\r\nTag.propTypes = {\r\n\tcolorCode: PropTypes.string.isRequired,\r\n\ttagName: PropTypes.string.isRequired,\r\n\tdeleteTag: PropTypes.func,\r\n};\r\n\r\nexport default Tag;\r\n","import io from \"socket.io-client\";\r\n\r\nconst ws = io.connect(\"/\")\r\n\r\nexport { ws }","import { ws } from \"socket\";\r\n\r\nconst emitWS = async ({ roomId, eventName, token, payload, res }) => {\r\n\tlet userToken = undefined;\r\n\tif (!!token) userToken = localStorage.getItem(\"token\");\r\n\tws.emit(eventName, { roomId, token: userToken, payload }, res);\r\n};\r\n\r\nexport { emitWS };\r\n","import React, { useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"components/Button/Button\";\r\nimport DropdownMenu from \"components/DropdownMenu/DropdownMenu\";\r\nimport Tag from \"components/Tag/Tag\";\r\n\r\nconst TagChoiceControll = ({ availableTags, chosenBoardTags, removeTagFromList, addTagToList }) => {\r\n\r\n    const tagChoiceButton = useRef();\r\n\r\n    return (\r\n        <div className=\"list-of-tags\">\r\n            <Button refEl={tagChoiceButton}>Choose Tags</Button>\r\n            <DropdownMenu\r\n                offset={{ x: -102, y: 35 }}\r\n                scrollableAt={160}\r\n                anchorEl={tagChoiceButton}\r\n                classes={[\"tag-drop-down\"]}\r\n            >\r\n                {availableTags\r\n                    .filter(\r\n                        ({ _id: tagId }) =>\r\n                            chosenBoardTags.findIndex(({ _id }) => _id === tagId) < 0\r\n                    )\r\n                    .map(({ _id, colorCode, name }, index) => (\r\n                        <div\r\n                            key={_id}\r\n                            onClick={() => addTagToList(_id)}\r\n                            className={`tag-item ${colorCode}`}\r\n                        >\r\n                            {name}\r\n                        </div>\r\n                    ))}\r\n            </DropdownMenu>\r\n            <div className=\"chosen-tags-container\">\r\n                {chosenBoardTags.map(({ _id, colorCode, name }, index) => (\r\n                    <Tag\r\n                        key={_id}\r\n                        deleteTag={() => removeTagFromList(index)}\r\n                        tagName={name}\r\n                        colorCode={colorCode}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nTagChoiceControll.propTypes = {\r\n    availableTags: PropTypes.array.isRequired,\r\n    chosenBoardTags: PropTypes.array.isRequired,\r\n    removeTagFromList: PropTypes.func.isRequired,\r\n    addTagToList: PropTypes.func.isRequired\r\n}\r\n\r\nexport default TagChoiceControll\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport AutoCompleteInput from \"components/AutoCompleteInput/AutoCompleteInput\";\r\nimport User from \"components/User/User\";\r\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\r\nimport fetchData from \"helper/fetchData\";\r\n\r\n\r\nconst UserListManager = ({ users, setUsers, boardId }) => {\r\n\r\n    const [userSearchResult, setUserSearchResult] = useState([]);\r\n\r\n    const searchUser = async (username) => {\r\n        const { data } = await fetchData({\r\n            method: \"GET\",\r\n            url: `/board/${boardId}/members?username=${username}`,\r\n            token: true,\r\n        });\r\n        setUserSearchResult(\r\n            data\r\n                .filter(({ user }) => users.findIndex(({ _id }) => _id === user._id) < 0)\r\n                .map(({ user }) => ({ ...user, text: user.username }))\r\n        );\r\n    };\r\n    const addUserToList = (user) => {\r\n\t\tsetUsers((users) => {\r\n\t\t\tconst newUsers = [...users];\r\n\t\t\tnewUsers.push(user);\r\n\t\t\treturn newUsers;\r\n\t\t});\r\n\t\tsetUserSearchResult([]);\r\n    };\r\n    \r\n    const removeUserFromList = (userIndex) => {\r\n\t\tsetUsers((users) => {\r\n\t\t\tconst newUsers = [...users];\r\n\t\t\tnewUsers.splice(userIndex, 1);\r\n\t\t\treturn newUsers;\r\n\t\t});\r\n    };\r\n    \r\n    const clearUserSearchResults = () => {\r\n\t\tsetUserSearchResult([]);\r\n\t};\r\n\r\n    return (\r\n        <div className=\"user-container\">\r\n            <AutoCompleteInput\r\n                execMethod={searchUser}\r\n                timeout={700}\r\n                searchResult={userSearchResult}\r\n                clickResult={addUserToList}\r\n                clearResults={clearUserSearchResults}\r\n            />\r\n            <div\r\n                className={`user-card-container ${users.length > 4 ? \"overflow-scroll\" : \"\"\r\n                    }`}\r\n            >\r\n                {users.map(({ _id, username, avatarImageURL }, index) => (\r\n                    <User key={_id} username={username} imageURL={avatarImageURL}>\r\n                        <RemoveCircleOutlineIcon\r\n                            className=\"remove-user-icon\"\r\n                            onClick={() => removeUserFromList(index)}\r\n                        />\r\n                    </User>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nUserListManager.propTypes = {\r\n    users: PropTypes.array.isRequired,\r\n    setUsers: PropTypes.func.isRequired,\r\n    boardId: PropTypes.string.isRequired\r\n}\r\n\r\nexport default UserListManager\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport \"./TaskEditor.scss\";\r\nimport TextInput from \"components/TextInput/TextInput\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\n\r\nimport Button from \"components/Button/Button\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\nimport { emitWS } from \"helper/socketData\";\r\nimport TagChoiceControll from \"./TagChoiceControll\";\r\nimport UserListManager from \"./UserListManager\";\r\nimport { WarningNotificationContext } from \"context/WarningNotificationContext\";\r\n\r\n\r\n// import { userList_DATA, tags_DATA } from \"data\";\r\n\r\nconst validationSchema = Yup.object({\r\n\ttitle: Yup.string().max(100, \"task title is too long\").required(\"field is required\"),\r\n\tdescription: Yup.string().max(500, \"description is too long\"),\r\n});\r\n\r\nconst TaskEditor = ({ buttonName, action, updateTask, initialValues, boardId, taskId, columnId }) => {\r\n\tconst [, modalDispatch] = useContext(ModalContext);\r\n    const [, warningNotificationDispatch] = useContext(WarningNotificationContext);\r\n\r\n\tconst initialVals = {\r\n\t\ttitle: initialValues ? initialValues.name : \"\",\r\n\t\tdescription: initialValues ? initialValues.description : \"\",\r\n\t};\r\n\tconst [users, setUsers] = useState(initialValues ? [...initialValues.people] : []);\r\n\r\n\tconst [availableTags, setAvailableTags] = useState([]);\r\n\tconst [chosenBoardTags, setChosenBoardTags] = useState(initialValues ? [...initialValues.tags] : []);\r\n\r\n\tuseEffect(() => {\r\n\t\t//  fetch all available tags at mount of  the component\r\n\t\tconst getBoardTags = async () => {\r\n\t\t\tconst { data } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/${boardId}/tag`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t});\r\n\t\t\tif (!!data) setAvailableTags(data.tags);\r\n\r\n\t\t}\r\n\t\tgetBoardTags();\r\n\t\treturn () => { };\r\n\t}, [boardId]);\r\n\r\n\tconst submitOnButtonClick = async (submittedData, { setSubmitting }) => {\r\n\t\tconst submittingTask = {\r\n\t\t\t...submittedData,\r\n\t\t\tpeople: users.map(({ _id }) => _id),\r\n\t\t\ttags: chosenBoardTags.map(({ _id }) => _id),\r\n\t\t};\r\n\t\tif (action === \"CREATE\") {\r\n\t\t\temitWS({\r\n\t\t\t\troomId: boardId,\r\n\t\t\t\teventName: \"createTask\",\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\t...submittingTask,\r\n\t\t\t\t\tcolumnId,\r\n\t\t\t\t},\r\n\t\t\t\tres: (res) => {\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\twarningNotificationDispatch({ type: \"SUCCESS\", payload: { message: \"new task created\" } })\r\n\t\t\t\t\t\tmodalDispatch({ type: \"CLOSE\" });\r\n\t\t\t\t\t} else if(res.error) {\r\n\t\t\t\t\t\twarningNotificationDispatch({ type: \"ERROR\", payload: { message: \"error - while creating new task\" } })\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (action === \"UPDATE\") {\r\n\t\t\tconst { data, error } = await fetchData({\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turl: `/board/${boardId}/task/${taskId}`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tsetLoading: setSubmitting,\r\n\t\t\t\tpayload: submittingTask,\r\n\t\t\t});\r\n\t\t\tif (!!data){ \r\n\t\t\t\twarningNotificationDispatch({ type: \"SUCCESS\", payload: { message: \"successfuly updated task\" } })\r\n\t\t\t\tupdateTask(data.task)\r\n\t\t\t} else if(!!error) {\r\n\t\t\t\twarningNotificationDispatch({ type: \"ERROR\", payload: { message: \"error - while updating new task\" } })\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// TAGS\r\n\tconst addTagToList = (tagId) => {\r\n\t\tconst foundTag = availableTags.find(({ _id }) => _id === tagId);\r\n\t\tsetChosenBoardTags((tags) => {\r\n\t\t\tconst newTags = [...tags];\r\n\t\t\tnewTags.push(foundTag);\r\n\t\t\treturn newTags;\r\n\t\t});\r\n\t};\r\n\tconst removeTagFromList = (tagIndex) => {\r\n\t\tsetChosenBoardTags((tags) => {\r\n\t\t\tconst newTags = [...tags];\r\n\t\t\tnewTags.splice(tagIndex, 1);\r\n\t\t\treturn newTags;\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"new-task-container\">\r\n\t\t\t<Formik\r\n\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\tinitialValues={initialVals}\r\n\t\t\t\tonSubmit={submitOnButtonClick}\r\n\t\t\t>\r\n\t\t\t\t{({ isSubmitting, isValid, errors }) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<LoadingOverlay opacity={0.5} show={isSubmitting} ></LoadingOverlay>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<div className=\"fields\">\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tclassName=\"new-task-input\"\r\n\t\t\t\t\t\t\t\t\tlabel={\"task title\"}\r\n\t\t\t\t\t\t\t\t\tname={\"title\"}\r\n\t\t\t\t\t\t\t\t\thasErrors={!!errors[\"title\"]}\r\n\t\t\t\t\t\t\t\t\thelperText={errors[\"title\"]}\r\n\t\t\t\t\t\t\t\t\tclasses={[\"board-name-field\"]}\r\n\t\t\t\t\t\t\t\t\tas={TextInput}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tclasses={[\"board-description-field\"]}\r\n\t\t\t\t\t\t\t\t\tname={\"description\"}\r\n\t\t\t\t\t\t\t\t\thasErrors={!!errors[\"description\"]}\r\n\t\t\t\t\t\t\t\t\thelperText={errors[\"description\"]}\r\n\t\t\t\t\t\t\t\t\tmultiline={{ rows: 7, max: 7 }}\r\n\t\t\t\t\t\t\t\t\tas={TextInput}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<UserListManager\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\tsetUsers={setUsers}\r\n\t\t\t\t\t\t\t\tboardId={boardId}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<TagChoiceControll\r\n\t\t\t\t\t\t\t\tavailableTags={availableTags}\r\n\t\t\t\t\t\t\t\tchosenBoardTags={chosenBoardTags}\r\n\t\t\t\t\t\t\t\tremoveTagFromList={removeTagFromList}\r\n\t\t\t\t\t\t\t\taddTagToList={addTagToList}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting || !isValid}\r\n\t\t\t\t\t\t\t\tclasses={[\"btn-accent btn-submit\"]}\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{buttonName}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Formik>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\nexport default TaskEditor;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./TaskDisplay.scss\";\r\nimport User from \"components/User/User\";\r\nimport Tag from \"components/Tag/Tag\";\r\nimport Button from \"components/Button/Button\";\r\n\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport { WarningNotificationContext } from \"context/WarningNotificationContext\";\r\nimport { UserContext } from \"context/UserContext\";\r\n\r\nimport TaskEditor from \"modalForms/TaskEditor/TaskEditor\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\nimport { emitWS } from \"helper/socketData\";\r\n\r\n\r\nconst TaskDisplay = ({ taskId, updateTask }) => {\r\n\tconst [, dispatchModal] = useContext(ModalContext);\r\n\tconst [, dispatchWarningNotification] = useContext(WarningNotificationContext);\r\n\tconst [{ currentBoard, user }] = useContext(UserContext);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst [taskDetails, setTaskDetails] = useState({\r\n\t\ttitle: \"\",\r\n\t\tdescription: \"\",\r\n\t\ttags: [],\r\n\t\ttaskAuthor: {\r\n\t\t\t_id: \"loading\",\r\n\t\t\tusername: \"loading\",\r\n\t\t},\r\n\t\tpeopleAssigned: [],\r\n\t});\r\n\tconst [isTaskLoading, setTaskLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet _isMounted = true;\r\n\t\tconst getTaskInfo = async () => {\r\n\t\t\tconst { data, status } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/${currentBoard.id}/task/${taskId}`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t});\r\n\r\n\t\t\tif (_isMounted) setTaskLoading(false);\r\n\t\t\tif (status === 400) {\r\n\t\t\t\tdispatchWarningNotification({ type: \"WARNING\", payload: { message: \"Task not found\" } })\r\n\t\t\t\tdispatchModal({ type: \"CLOSE\" })\r\n\t\t\t} else if (!!data && _isMounted) {\r\n\t\t\t\thistory.push({\r\n\t\t\t\t\tsearch: `?task=${taskId}`\r\n\t\t\t\t})\r\n\t\t\t\tsetTaskDetails({\r\n\t\t\t\t\ttitle: data.task.title,\r\n\t\t\t\t\tdescription: data.task.description,\r\n\t\t\t\t\ttags: data.task.tags,\r\n\t\t\t\t\ttaskAuthor: data.task.author,\r\n\t\t\t\t\tpeopleAssigned: data.task.people,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\tgetTaskInfo();\r\n\t\treturn () => {\r\n\t\t\thistory.push({\r\n\t\t\t\tsearch: \"\"\r\n\t\t\t})\r\n\t\t\t_isMounted = false;\r\n\t\t};\r\n\t}, [currentBoard.id, taskId, history, dispatchModal, dispatchWarningNotification]);\r\n\r\n\tconst deleteTask = async () => {\r\n\t\tconst shouldDelete = window.confirm(\"are you sure you want to delete this task?\")\r\n\t\tif (shouldDelete) {\r\n\t\t\temitWS({\r\n\t\t\t\troomId: currentBoard.id,\r\n\t\t\t\teventName: \"deleteTask\",\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\ttaskId,\r\n\t\t\t\t},\r\n\t\t\t\tres: (res) => {\r\n\t\t\t\t\tif (res.success) dispatchModal({ type: \"CLOSE\" });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst openTaskEditModal = () => {\r\n\t\tdispatchModal({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: {\r\n\t\t\t\ttitle: \"Edit Task\",\r\n\t\t\t\trender: (\r\n\t\t\t\t\t<TaskEditor\r\n\t\t\t\t\t\tbuttonName=\"Update\"\r\n\t\t\t\t\t\tupdateTask={updateTask}\r\n\t\t\t\t\t\tboardId={currentBoard.id}\r\n\t\t\t\t\t\ttaskId={taskId}\r\n\t\t\t\t\t\taction={\"UPDATE\"}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tname: taskDetails.title,\r\n\t\t\t\t\t\t\tdescription: taskDetails.description,\r\n\t\t\t\t\t\t\ttags: taskDetails.tags,\r\n\t\t\t\t\t\t\tpeople: taskDetails.peopleAssigned,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst isAuthorizedToEdit = () => {\r\n\t\tconst { role } = currentBoard;\r\n\t\tif (role === \"guest\") {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn taskDetails.taskAuthor._id === user._id || role === \"owner\" || role === \"admin\";\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"display-task-wrapper\">\r\n\t\t\t<LoadingOverlay show={isTaskLoading} opacity={0}>\r\n\t\t\t\t<div className=\"display-task\">\r\n\t\t\t\t\t<div className=\"text-details\">\r\n\t\t\t\t\t\t{isAuthorizedToEdit() &&\r\n\t\t\t\t\t\t\t<div className=\"info-header\">\r\n\t\t\t\t\t\t\t\t<Button classes={[\"edit-btn delete-btn\"]} clicked={deleteTask}>\r\n\t\t\t\t\t\t\t\t\tdelete\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button classes={[\"edit-btn\"]} clicked={openTaskEditModal}>\r\n\t\t\t\t\t\t\t\t\tedit\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>}\r\n\r\n\t\t\t\t\t\t<h1 className=\"task-title\">{taskDetails.title}</h1>\r\n\t\t\t\t\t\t<p className=\"task-description\">{taskDetails.description}</p>\r\n\t\t\t\t\t\t<div className=\"tag-container\">\r\n\t\t\t\t\t\t\t{taskDetails.tags.map(({ _id, colorCode, name }) => (\r\n\t\t\t\t\t\t\t\t<Tag key={_id} colorCode={colorCode} tagName={name} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"people-details\">\r\n\t\t\t\t\t\t<h2 className=\"added-by user-title\">Task Author</h2>\r\n\t\t\t\t\t\t<User\r\n\t\t\t\t\t\t\tusername={taskDetails.taskAuthor.username}\r\n\t\t\t\t\t\t\timageURL={taskDetails.taskAuthor.avatarImageURL}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<h2 className=\"assigned-people-title user-title\">People</h2>\r\n\t\t\t\t\t\t<div className=\"assigned-people-container\">\r\n\t\t\t\t\t\t\t{taskDetails.peopleAssigned.map(({ _id, username, avatarImageURL }) => (\r\n\t\t\t\t\t\t\t\t<User key={_id} username={username} imageURL={avatarImageURL} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</LoadingOverlay>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTaskDisplay.propTypes = {\r\n\ttaskId: PropTypes.string.isRequired,\r\n\tupdateTask: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TaskDisplay;\r\n","import React, { useContext } from \"react\";\nimport NavItem from \"components/Navbar/NavItem\";\nimport { Login, Register } from \"modalForms\";\nimport { ModalContext } from \"context/ModalContext\";\n\nconst DefaultNav = () => {\n\tconst [, modalDispatch] = useContext(ModalContext);\n\n\tconst openLoginModal = () => {\n\t\tmodalDispatch({\n\t\t\ttype: \"OPEN\",\n\t\t\tpayload: { render: <Login />, title: \"Login\" },\n\t\t});\n\t};\n\tconst openRegisterModal = () => {\n\t\tmodalDispatch({\n\t\t\ttype: \"OPEN\",\n\t\t\tpayload: { render: <Register />, title: \"Register\" },\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<NavItem navName=\"Login\" clicked={openLoginModal} />\n\t\t\t<NavItem navName=\"Register\" clicked={openRegisterModal} />\n\t\t</>\n\t);\n};\n\nexport default DefaultNav;\n","import React from \"react\";\nimport \"./SwitchButton.scss\";\nimport PropTypes from \"prop-types\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\nimport Brightness3Icon from \"@material-ui/icons/Brightness3\";\n\nconst SwitchButton = ({ toggle, isOn }) => {\n\treturn (\n\t\t<div onClick={toggle} className={`switch-button ${isOn ? \"switch-on\" : \"\"}`}>\n\t\t\t<div className=\"circle\">{isOn ? <Brightness3Icon /> : <Brightness7Icon />}</div>\n\t\t</div>\n\t);\n};\n\nSwitchButton.propTypes = {\n\ttoggle: PropTypes.func.isRequired,\n\tisOn: PropTypes.bool.isRequired,\n};\n\nexport default SwitchButton;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport \"./Notification.scss\";\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst Notification = ({ boardTitle, message, url, removeNotification }) => {\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst shortenText = (text, maxChars) => {\r\n\t\treturn text.length > maxChars ? `${text.substring(0, maxChars - 3)}...` : text;\r\n\t};\r\n\r\n\tconst clickNotificationLink = () => {\r\n\t\tremoveNotification();\r\n\t\tif(!!url) history.push(url);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"notification\">\r\n\t\t\t<div onClick={clickNotificationLink} className=\"notification-body\">\r\n\t\t\t\t<h2>{shortenText(boardTitle, 22)}</h2>\r\n\t\t\t\t<span>{shortenText(message, 55)}</span>\r\n\t\t\t</div>\r\n\t\t\t<CloseIcon onClick={removeNotification} />\r\n\t\t</div>\r\n\t);\r\n};\r\nNotification.defaultProps = {\r\n\turl: undefined\r\n}\r\n\r\nNotification.propTypes = {\r\n\turl: PropTypes.string,\r\n\tboardTitle: PropTypes.string.isRequired,\r\n\tmessage: PropTypes.string.isRequired,\r\n\tremoveNotification: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport NavItem from \"components/Navbar/NavItem\";\r\nimport SwitchButton from \"components/SwitchButton/SwitchButton\";\r\nimport Notification from \"components/Notification/Notification\";\r\nimport AccountBoxIcon from \"@material-ui/icons/AccountBox\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport fetchData from \"helper/fetchData\";\r\n\r\nconst LoggedInUserNav = () => {\r\n\tconst history = useHistory();\r\n\r\n\tconst [{ user, theme }, dispatchUser] = useContext(UserContext);\r\n\tconst [notifications, setNotification] = useState([]);\r\n\r\n\tconst handlGetMyNotifications = async () => {\r\n\t\tconst { data } = await fetchData({\r\n\t\t\turl: \"/notification\",\r\n\t\t\ttoken: true,\r\n\t\t\tmethod: \"GET\",\r\n\t\t});\r\n\t\tif (!!data) setNotification(data.notifications);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\thandlGetMyNotifications();\r\n\t\treturn () => { }\r\n\t}, [])\r\n\r\n\tconst goToHomePage = () => {\r\n\t\thistory.push(\"/\");\r\n\t};\r\n\r\n\tconst logOutUser = () => {\r\n\t\tdispatchUser({ type: \"LOGOUT\" });\r\n\t};\r\n\tconst toggleTheme = () => {\r\n\t\tdispatchUser({ type: \"THEME_TOGGLE\" });\r\n\t};\r\n\tconst removeMessage = async (index) => {\r\n\t\tconst { status } = await fetchData({\r\n\t\t\turl: `/notification/${notifications[index]._id}`,\r\n\t\t\ttoken: true,\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t});\r\n\t\tif (status) setNotification((notifications) => {\r\n\t\t\tconst newNotification = [...notifications];\r\n\t\t\tnewNotification.splice(index, 1);\r\n\t\t\treturn newNotification;\r\n\t\t});\r\n\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SwitchButton toggle={toggleTheme} isOn={!theme} />\r\n\t\t\t<NavItem clicked={goToHomePage} icon={<HomeIcon />} />\r\n\t\t\t<NavItem\r\n\t\t\t\toffset={{ x: -60, y: 10 }}\r\n\t\t\t\ticon={<AccountBoxIcon />}\r\n\t\t\t\tnavName={user.username}\r\n\t\t\t\tclasses={[\"profile-nav\"]}\r\n\t\t\t>\r\n\t\t\t\t<Link to=\"/profile\">Profile</Link>\r\n\t\t\t\t<button className=\"logout-btn\" onClick={logOutUser}>\r\n\t\t\t\t\tlogout\r\n\t\t\t\t</button>\r\n\t\t\t</NavItem>\r\n\t\t\t<NavItem\r\n\t\t\t\tclicked={handlGetMyNotifications}\r\n\t\t\t\toffset={{ x: -20, y: 10 }}\r\n\t\t\t\tclasses={[\"notification-nav\"]}\r\n\t\t\t\tdropDownScrollableAt={400}\r\n\t\t\t\tdropDownOnClickClose={false}\r\n\t\t\t\ticon={\r\n\t\t\t\t\t<Badge color=\"secondary\" variant=\"dot\" invisible={notifications.length < 1}>\r\n\t\t\t\t\t\t<NotificationsIcon />\r\n\t\t\t\t\t</Badge>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{notifications.map(({ _id, title, info, url }, index) => (\r\n\t\t\t\t\t<Notification\r\n\t\t\t\t\t\tkey={_id}\r\n\t\t\t\t\t\tmessage={info}\r\n\t\t\t\t\t\tboardTitle={title}\r\n\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\tremoveNotification={() => removeMessage(index)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</NavItem>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default LoggedInUserNav;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Navbar.scss\";\r\n\r\nimport DefaultNav from \"./DefaultNav\";\r\nimport LoggedInUserNav from \"./LoggedInUserNav\";\r\n\r\nconst Navbar = ({isAuth}) => {\r\n\treturn <nav className=\"navbar\">{isAuth ? <LoggedInUserNav /> : <DefaultNav />}</nav>;\r\n};\r\n\r\nNavbar.defaultProps = {\r\n  isAuth: false\r\n};\r\n\r\nNavbar.propTypes = {\r\n  isAuth: PropTypes.bool\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Backdrop.scss\";\n\nconst Backdrop = ({ show, clicked }) => (\n  <div\n    onClick={clicked}\n    role=\"presentation\"\n    className={show ? \"backdrop backdrop-open\" : \"backdrop\"}\n  ></div>\n);\n\nBackdrop.defaultProps = {\n  clicked: undefined\n}\n\nBackdrop.propTypes = {\n  show: PropTypes.bool.isRequired,\n  clicked: PropTypes.func,\n};\n\nexport default Backdrop;","import React, { useContext } from \"react\";\nimport \"./Modal.scss\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { ModalContext } from \"context/ModalContext\";\nimport { UserContext } from \"context/UserContext\";\nimport Portal from \"HOC/Portal\";\n\nconst Modal = () => {\n\tconst [{ show, title, render }, modalDispatch] = useContext(ModalContext);\n\tconst [{ theme }] = useContext(UserContext);\n\n\tconst closeModal = () => {\n\t\tmodalDispatch({ type: \"CLOSE\" });\n\t};\n\n\tconst bodyElement = document.getElementsByTagName(\"body\")[0];\n\n\tif (show) {\n\t\tbodyElement.style.overflowY = \"hidden\";\n\t\twindow.scrollTo(0, 0);\n\t} else bodyElement.style.overflowY = \"auto\";\n\n\tif (show) {\n\t\treturn (\n\t\t\t<Portal mountTo=\"root-modal\">\n\t\t\t\t<>\n\t\t\t\t\t<div className={`modal-container ${theme ? \"theme-light\" : \"theme-dark\"}`}>\n\t\t\t\t\t\t<div className={`modal modal-open`}>\n\t\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t\t<h2 className=\"modal-title\">{title}</h2>\n\t\t\t\t\t\t\t\t<CloseIcon onClick={closeModal} className=\"close\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"modal-body\">{render}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Backdrop show={show} clicked={closeModal} />\n\t\t\t\t</>\n\t\t\t</Portal>\n\t\t);\n\t}\n\treturn null;\n};\n\nexport default Modal;\n","import React, { useContext } from \"react\";\nimport \"./WelcomePage.scss\";\nimport Button from \"components/Button/Button\";\nimport { ModalContext } from \"context/ModalContext\";\nimport { UserContext } from \"context/UserContext\";\nimport workflowPerson from \"assets/images/workflow-person.svg\";\nimport workflowPersonDark from \"assets/images/workflow-person_dark.svg\";\nimport { Register } from \"modalForms\";\nimport taskColumns from \"assets/images/task_columns.svg\";\nimport taskColumnsDark from \"assets/images/task_columns_dark.svg\";\n\nconst WelcomePage = () => {\n\tconst [, modalDispatch] = useContext(ModalContext);\n\tconst [{theme}] = useContext(UserContext);\n\n\tconst openRegisterModal = () => {\n\t\tmodalDispatch({ type: \"OPEN\", payload: { render: <Register />, title: \"Register\" } });\n\t};\n\n\treturn (\n\t\t<div className=\"welcome-section\">\n\t\t\t<section className=\"introduction-section\">\n\t\t\t\t<img src={workflowPerson} alt=\"person-task\" className={`person-image ${theme ? \"\" : \"hide\"}`} />\n\t\t\t\t<img src={workflowPersonDark} alt=\"person-task\" className={`person-image ${theme ? \"hide\" : \"\"}`} />\n\t\t\t\t<div className=\"text-subsection\">\n\t\t\t\t\t<h1>Work-Flow</h1>\n\t\t\t\t\t<h2>work more collaboratively and get more done.</h2>\n\t\t\t\t\t<p>Work-Flow is a web-based Kanban-style list making application used to manage work at personal or organizational level.\n\t\t\t\t\t\t Using this application organizing your work will be easy.</p>\n\t\t\t\t\t<Button clicked={openRegisterModal} classes={[\"btn-accent join-now\"]}>\n\t\t\t\t\t\tJoin us Now\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className=\"task-column-section\">\n\t\t\t\t<div className=\"task-text\">\n\t\t\t\t\t<h1>Tasks</h1>\n\t\t\t\t\t<h2>Create tasks and assign them to your teammates - add custom tags to differentiate tasks at a glance</h2>\n\t\t\t\t</div>\n\t\t\t\t<img src={taskColumns} alt=\"task-columns\" className={`task-columns-img ${theme ? \"\" : \"hide\"}`} />\n\t\t\t\t<img src={taskColumnsDark} alt=\"task-columns\" className={`task-columns-img ${theme ? \"hide\" : \"\"}`} />\n\t\t\t</section>\n\n\t\t</div>\n\t);\n};\n\nexport default WelcomePage;\n","import React, { useState } from \"react\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport \"./ExpandText.scss\";\nimport PropTypes from \"prop-types\";\n\nconst ExpandText = ({ text, children, isOpen, classes }) => {\n\tconst [show, setShow] = useState(isOpen);\n\n\tconst toggleExpand = () => {\n\t\tsetShow((isOpen) => !isOpen);\n\t};\n\n\treturn (\n\t\t<div className={`expand-text-container ${classes.join(\" \")}`}>\n\t\t\t<div className=\"expand-text-header\">\n\t\t\t\t<h2 className=\"text-title\">{text}</h2>\n\t\t\t\t{children.props.children !== \"\" && <ArrowDropDownIcon onClick={toggleExpand} className={`${show ? \"open\" : \"\"}`} />}\n\t\t\t</div>\n\t\t\t<div className={`expand-content ${show ? \"\" : \"close\"}`}>{children}</div>\n\t\t</div>\n\t);\n};\nExpandText.defaultProps = {\n\tclasses: [\"\"],\n\tisOpen: false,\n};\n\nExpandText.propTypes = {\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n\tisOpen: PropTypes.bool,\n\tchildren: PropTypes.node.isRequired,\n\ttext: PropTypes.string.isRequired,\n};\n\nexport default ExpandText;\n","import React, { createContext } from \"react\";\n\nexport const TaskContext = createContext();\n\nexport const TaskProvider = ({ values, children }) => {\n\treturn <TaskContext.Provider value={values}>{children}</TaskContext.Provider>;\n};\n","import React, { useContext, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Task.scss\";\r\nimport Image from \"components/Image/Image\";\r\nimport { TaskDisplay } from \"modalForms\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport { TaskContext } from \"context/TaskContext\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport Tooltip from \"components/Tooltip/Tooltip\";\r\n\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\n\r\nconst Task = ({ taskId, title, indexes, tags, people }) => {\r\n\tconst [, modalDispatch] = useContext(ModalContext);\r\n\tconst [, setTasks] = useContext(TaskContext);\r\n\tconst [{ currentBoard }] = useContext(UserContext);\r\n\r\n\tconst poepleAnchorElement = useRef();\r\n\tconst tagsAnchorElement = useRef();\r\n\r\n\tconst { taskIndex, columnIndex } = indexes;\r\n\r\n\tconst updateTask = (updatedTask) => {\r\n\t\tsetTasks((tasks) => {\r\n\t\t\tconst tempTasks = [...tasks];\r\n\t\t\ttempTasks[columnIndex].tasks[taskIndex] = updatedTask;\r\n\t\t\treturn tempTasks;\r\n\t\t});\r\n\t\tmodalDispatch({ type: \"CLOSE\" });\r\n\t};\r\n\r\n\tconst openTaskDetailsModal = () => {\r\n\t\tmodalDispatch({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: {\r\n\t\t\t\trender: <TaskDisplay taskId={taskId} updateTask={updateTask} />,\r\n\t\t\t\ttitle: \"Task Details\",\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst displayAssignedUsers = (users) => {\r\n\t\tconst maxUserAmount = 3;\r\n\t\tconst userAmount = users.length;\r\n\t\tlet displayUsers = [];\r\n\t\tif (userAmount > maxUserAmount) {\r\n\t\t\tdisplayUsers = users.slice(0, maxUserAmount);\r\n\t\t} else {\r\n\t\t\tdisplayUsers = users;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"task-user-wrapper\">\r\n\t\t\t\t{displayUsers.map(({ _id, avatarImageURL }) => (\r\n\t\t\t\t\t<Image key={_id} classes={[\"avatar\"]} imageURL={avatarImageURL} />\r\n\t\t\t\t))}\r\n\t\t\t\t{maxUserAmount - userAmount < 0 && (\r\n\t\t\t\t\t<span className=\"additional-users\">{`+${Math.abs(maxUserAmount - userAmount)}`}</span>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Draggable draggableId={taskId} index={taskIndex} isDragDisabled={currentBoard.role === \"guest\"}>\r\n\t\t\t{(provided, snapshot) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\tclassName={`task-card ${snapshot.isDragging ? \"isDragging\" : \"\"}`}\r\n\t\t\t\t\tonClick={openTaskDetailsModal}\r\n\t\t\t\t\tstyle={{ ...provided.draggableProps.style }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3 className=\"task-title\">{title}</h3>\r\n\t\t\t\t\t<div className=\"card-bottom\">\r\n\t\t\t\t\t\t<div className=\"task-tags\">\r\n\t\t\t\t\t\t\t<div className=\"tags\" ref={tagsAnchorElement}>\r\n\t\t\t\t\t\t\t\t{tags &&\r\n\t\t\t\t\t\t\t\t\ttags.map(({ colorCode, _id }) => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={_id} className={`tag-mini ${colorCode}`}></div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Tooltip anchorEl={tagsAnchorElement}>\r\n\t\t\t\t\t\t\t{tags && tags.map(({ _id, name }) => <span key={_id}>{name}</span>)}\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<div className=\"task-people\" ref={poepleAnchorElement}>\r\n\t\t\t\t\t\t\t{people && displayAssignedUsers(people)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Tooltip anchorEl={poepleAnchorElement}>\r\n\t\t\t\t\t\t\t{people && people.map(({ _id, username }) => <span key={_id}>{username}</span>)}\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Draggable>\r\n\t);\r\n};\r\n\r\nTask.defaultProps = {\r\n\ttags: undefined,\r\n\tpeople: undefined,\r\n};\r\nTask.propTypes = {\r\n\ttaskId: PropTypes.string.isRequired,\r\n\ttitle: PropTypes.string.isRequired,\r\n\tindexes: PropTypes.shape({ taskIndex: PropTypes.number, columnIndex: PropTypes.number }).isRequired,\r\n\ttags: PropTypes.array,\r\n\tpeople: PropTypes.array,\r\n};\r\n\r\nexport default Task;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ColumnNameInput = ({ initialVal, onEnter, hideInput, editTitle }) => {\r\n\tconst columnNameInputRef = useRef();\r\n\r\n\tconst [columnNameState, setColumnName] = useState(initialVal);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!!columnNameInputRef.current) columnNameInputRef.current.focus();\r\n\t\treturn () => {};\r\n\t}, [editTitle]);\r\n\r\n\tconst cancelEditHandler = () => {\r\n\t\tsetColumnName(initialVal);\r\n\t\thideInput();\r\n\t};\r\n\r\n\tconst columnNameOnChangeHandler = (e) => {\r\n\t\tconst updatedColumnName = e.target.value;\r\n\t\tif (updatedColumnName.length > 0) {\r\n\t\t\tsetColumnName(updatedColumnName);\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateColumnName = (e) => {\r\n\t\tif (e.key === \"Enter\" && columnNameState.trim() !== \"\") {\r\n\t\t\tonEnter(columnNameState);\r\n\t\t}\r\n\t};\r\n\tif (editTitle)\r\n\t\treturn (\r\n\t\t\t<input\r\n\t\t\t\tref={columnNameInputRef}\r\n\t\t\t\tclassName=\"column-name-input\"\r\n\t\t\t\tonKeyDown={updateColumnName}\r\n\t\t\t\tonBlur={cancelEditHandler}\r\n\t\t\t\tonChange={columnNameOnChangeHandler}\r\n\t\t\t\tvalue={columnNameState}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t/>\r\n\t\t);\r\n\telse return <h2 className=\"task-column-name\">{initialVal}</h2>;\r\n};\r\n\r\nColumnNameInput.propTypes = {\r\n\tinitialVal: PropTypes.string.isRequired,\r\n\tonEnter: PropTypes.func.isRequired,\r\n\thideInput: PropTypes.func.isRequired,\r\n\teditTitle: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default ColumnNameInput;\r\n","import React, { useState, useContext, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./TaskColumn.scss\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport PlaylistAddIcon from \"@material-ui/icons/PlaylistAdd\";\r\nimport Task from \"./Task\";\r\nimport DropdownMenu from \"components/DropdownMenu/DropdownMenu\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport { TaskContext } from \"context/TaskContext\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport ColumnNameInput from \"./ColumnNameInput\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport { emitWS } from \"helper/socketData\";\r\n\r\nimport { Droppable } from \"react-beautiful-dnd\";\r\n\r\nimport { TaskEditor } from \"modalForms\";\r\n\r\nconst TaskColumn = ({ columnName, columnId, columnIndex, boardId, listOfTasks }) => {\r\n\tconst [, modalDispatch] = useContext(ModalContext);\r\n\tconst [, setTasks] = useContext(TaskContext);\r\n\tconst [{ currentBoard }] = useContext(UserContext);\r\n\r\n\tconst [showTitleInput, setShowTitleInput] = useState(false);\r\n\r\n\tconst anchorElement = useRef();\r\n\r\n\tconst openBoardTagsModal = () => {\r\n\t\tmodalDispatch({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: {\r\n\t\t\t\trender: (\r\n\t\t\t\t\t<TaskEditor\r\n\t\t\t\t\t\tcolumnId={columnId}\r\n\t\t\t\t\t\tboardId={boardId}\r\n\t\t\t\t\t\taction=\"CREATE\"\r\n\t\t\t\t\t\tbuttonName=\"Create\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t\ttitle: \"New Task\",\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst removeColumn = async () => {\r\n\t\tconst shouldDelete = window.confirm(\"are you sure you want to delete this column?\")\r\n\t\tif (shouldDelete) {\r\n\t\t\temitWS({\r\n\t\t\t\troomId: boardId,\r\n\t\t\t\teventName: \"deleteColumn\",\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tpayload: { columnId, columnIndex },\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst activateColumnNameEditInput = () => {\r\n\t\tsetShowTitleInput(true);\r\n\t};\r\n\tconst dissableColumnNameEditInput = () => {\r\n\t\tsetShowTitleInput(false);\r\n\t};\r\n\r\n\tconst changeColumnNameOnKeyPressEnter = async (newName) => {\r\n\t\tconst { status } = await fetchData({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl: `/board/${boardId}/column/${columnId}`,\r\n\t\t\ttoken: true,\r\n\t\t\tpayload: {\r\n\t\t\t\tname: newName,\r\n\t\t\t},\r\n\t\t});\r\n\t\tif (status === 200) {\r\n\t\t\tsetTasks((tasks) => {\r\n\t\t\t\tconst tempTasks = [...tasks];\r\n\t\t\t\tconst foundColumnIndex = tempTasks.findIndex(({ _id }) => _id === columnId);\r\n\t\t\t\ttempTasks[foundColumnIndex].name = newName;\r\n\t\t\t\treturn tempTasks;\r\n\t\t\t});\r\n\t\t\tsetShowTitleInput(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst isAuthorized = () => {\r\n\t\tconst { role } = currentBoard;\r\n\t\treturn role === \"admin\" || role === \"owner\";\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<Droppable droppableId={columnId} type=\"droppableTaskToColumn\">\r\n\t\t\t{(provided, snapshot) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\t{...provided.droppableProps}\r\n\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\tclassName={`task-column ${snapshot.isDraggingOver ? \"active\" : \"\"}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"task-column-header\">\r\n\t\t\t\t\t\t\t<span className=\"task-count\">{listOfTasks.length}</span>\r\n\t\t\t\t\t\t\t<ColumnNameInput\r\n\t\t\t\t\t\t\t\thideInput={dissableColumnNameEditInput}\r\n\t\t\t\t\t\t\t\tinitialVal={columnName}\r\n\t\t\t\t\t\t\t\tonEnter={changeColumnNameOnKeyPressEnter}\r\n\t\t\t\t\t\t\t\teditTitle={showTitleInput}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcurrentBoard.role !== \"guest\" &&\r\n\t\t\t\t\t\t\t\t<button onClick={openBoardTagsModal} className=\"add-new-task-btn\">\r\n\t\t\t\t\t\t\t\t\t<PlaylistAddIcon />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisAuthorized() &&\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<button ref={anchorElement} className=\"more-options\">\r\n\t\t\t\t\t\t\t\t\t\t<MoreVertIcon />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<DropdownMenu anchorEl={anchorElement}>\r\n\t\t\t\t\t\t\t\t\t\t<span onClick={removeColumn}>delete</span>\r\n\t\t\t\t\t\t\t\t\t\t<span onClick={activateColumnNameEditInput}>edit</span>\r\n\t\t\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t\t\t</>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={\"task-container\"}>\r\n\t\t\t\t\t\t\t{listOfTasks &&\r\n\t\t\t\t\t\t\t\tlistOfTasks.map(({ _id, title, tags, people }, index) => (\r\n\t\t\t\t\t\t\t\t\t<Task\r\n\t\t\t\t\t\t\t\t\t\tkey={_id}\r\n\t\t\t\t\t\t\t\t\t\ttaskId={_id}\r\n\t\t\t\t\t\t\t\t\t\tboardId={boardId}\r\n\t\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\t\ttags={tags}\r\n\t\t\t\t\t\t\t\t\t\tpeople={people}\r\n\t\t\t\t\t\t\t\t\t\tindexes={{ taskIndex: index, columnIndex }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t{provided.placeholder}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t</Droppable>\r\n\t);\r\n};\r\n\r\nTaskColumn.propTypes = {\r\n\tcolumnName: PropTypes.string.isRequired,\r\n\tcolumnId: PropTypes.string.isRequired,\r\n\tlistOfTasks: PropTypes.array.isRequired,\r\n\tcolumnIndex: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default TaskColumn;\r\n","import React, { useState } from \"react\";\r\nimport \"./NewColumn.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { emitWS } from \"helper/socketData\";\r\n\r\nconst NewColumn = ({ boardId }) => {\r\n\tconst [columnName, setColumnName] = useState(\"\");\r\n\r\n\tconst handleNewColumnChange = (event) => {\r\n\t\tconst newColumnName = event.target.value;\r\n\t\tif (newColumnName.length < 20) {\r\n\t\t\tsetColumnName(newColumnName);\r\n\t\t}\r\n\t};\r\n\r\n\tconst createNewColumn = async (event) => {\r\n\t\tif (event.key === \"Enter\" && columnName.trim() !== \"\") {\r\n\t\t\temitWS({\r\n\t\t\t\troomId: boardId,\r\n\t\t\t\teventName: \"createNewColumn\",\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tpayload: { name: columnName },\r\n\t\t\t\tres: (response) => {\r\n\t\t\t\t\tif(!response.error) setColumnName(\"\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"add-new-column\">\r\n\t\t\t<input\r\n\t\t\t\tonKeyDown={createNewColumn}\r\n\t\t\t\tvalue={columnName}\r\n\t\t\t\tonChange={handleNewColumnChange}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"+ new column\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nNewColumn.propTypes = {\r\n\tboardId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default NewColumn;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport TaskColumn from \"components/Task/TaskColumn\";\r\nimport { TaskContext } from \"context/TaskContext\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport NewColumn from \"components/NewColumn/NewColumn\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { ws } from \"socket\";\r\n\r\nconst TaskBoard = ({ boardId }) => {\r\n\tconst [tasks, setTasks] = useContext(TaskContext);\r\n\tconst [{ currentBoard }] = useContext(UserContext);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tconst createSocketNewBoard = (newColumn) => {\r\n\t\t\tsetTasks((tasks) => {\r\n\t\t\t\tconst tempTasks = [...tasks];\r\n\t\t\t\ttempTasks.push(newColumn);\r\n\t\t\t\treturn tempTasks;\r\n\t\t\t});\r\n\t\t};\r\n\t\tconst deleteSocketColumn = (deleteResponse) => {\r\n\t\t\tsetTasks((tasks) => {\r\n\t\t\t\tconst newTasks = [...tasks];\r\n\t\t\t\tnewTasks.splice(deleteResponse.index, 1);\r\n\t\t\t\treturn newTasks;\r\n\t\t\t});\r\n\t\t};\r\n\t\tconst moveSocketColumn = (moveResponse) => {\r\n\t\t\tsetTasks((tasks) => {\r\n\t\t\t\tconst tempTasks = [...tasks];\r\n\t\t\t\tconst movingColumn = tempTasks.splice(moveResponse.source, 1)[0];\r\n\t\t\t\ttempTasks.splice(moveResponse.destination, 0, movingColumn);\r\n\t\t\t\treturn tempTasks;\r\n\t\t\t});\r\n\t\t};\r\n\t\tconst createTask = (data) => {\r\n\t\t\tconst { success, task } = data;\r\n\t\t\tif (success) {\r\n\t\t\t\tsetTasks((tasks) => {\r\n\t\t\t\t\tconst tempTasks = [...tasks];\r\n\t\t\t\t\ttempTasks[task.columnIndex].tasks.push(task);\r\n\t\t\t\t\treturn tempTasks;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst deleteTask = (data) => {\r\n\t\t\tconst { success, index } = data;\r\n\t\t\tif (success) {\r\n\t\t\t\tsetTasks((tasks) => {\r\n\t\t\t\t\tconst newTasks = [...tasks];\r\n\t\t\t\t\tnewTasks[index.col].tasks.splice(index.task, 1);\r\n\t\t\t\t\treturn newTasks;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst moveTask = (data) => {\r\n\t\t\tconst { success, source, destination } = data;\r\n\t\t\tif (success) {\r\n\t\t\t\tsetTasks((taskColumns) => {\r\n\t\t\t\t\tconst tempTasks = [...taskColumns];\r\n\t\t\t\t\tconst movingTask = tempTasks[source.columnIndex].tasks.splice(source.taskIndex, 1)[0];\r\n\t\t\t\t\ttempTasks[destination.columnIndex].tasks.splice(destination.taskIndex, 0, movingTask);\r\n\t\t\t\t\treturn tempTasks;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tws.on(\"createNewColumn\", createSocketNewBoard);\r\n\t\tws.on(\"deleteColumn\", deleteSocketColumn);\r\n\t\tws.on(\"moveColumn\", moveSocketColumn);\r\n\t\tws.on(\"createTask\", createTask);\r\n\t\tws.on(\"deleteTask\", deleteTask);\r\n\t\tws.on(\"moveTask\", moveTask);\r\n\t\treturn () => {\r\n\t\t\tws.removeListener(\"createNewColumn\", createSocketNewBoard);\r\n\t\t\tws.removeListener(\"deleteColumn\", deleteSocketColumn);\r\n\t\t\tws.removeListener(\"moveColumn\", moveSocketColumn);\r\n\t\t\tws.removeListener(\"createTask\", createTask);\r\n\t\t\tws.removeListener(\"moveTask\", moveTask);\r\n\t\t};\r\n\t}, [setTasks]);\r\n\r\n\tconst isAuthorized = () => {\r\n\t\tconst { role } = currentBoard;\r\n\t\treturn role === \"owner\" || role === \"admin\";\r\n\t}\r\n\r\n\tconst DraggableTaskColumn = (id, name, tasks, index) => {\r\n\t\treturn (\r\n\t\t\t<Draggable key={id} draggableId={id} index={index} isDragDisabled={currentBoard.role === \"guest\"}>\r\n\t\t\t\t{(provided, snapshot) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TaskColumn\r\n\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\tcolumnId={id}\r\n\t\t\t\t\t\t\t\tcolumnIndex={index}\r\n\t\t\t\t\t\t\t\tcolumnName={name}\r\n\t\t\t\t\t\t\t\tlistOfTasks={tasks}\r\n\t\t\t\t\t\t\t\tboardId={boardId}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t</Draggable>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"board-page-container\">\r\n\t\t\t<Droppable droppableId=\"droppable\" type=\"droppableColumn\" direction=\"horizontal\">\r\n\t\t\t\t{(provided, snapshot) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"board-page-flex\" ref={provided.innerRef}>\r\n\t\t\t\t\t\t\t{tasks.map(({ _id, name, tasks }, index) =>\r\n\t\t\t\t\t\t\t\tDraggableTaskColumn(_id, name, tasks, index)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{provided.placeholder}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t</Droppable>\r\n\t\t\t<div>\r\n\t\t\t\t{isAuthorized() && <NewColumn boardId={boardId} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTaskBoard.propTypes = {\r\n\tboardId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default TaskBoard;\r\n","import React, { useRef, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport DropdownMenu from \"components/DropdownMenu/DropdownMenu\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport BoardEditor from \"modalForms/BoardEditor/BoardEditor\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\n\r\n\r\nconst BoardOptions = ({ boardId, removeBoardCallback, isAuthor }) => {\r\n    const moreOptionsAnchor = useRef();\r\n    const [, modalDispatch] = useContext(ModalContext);\r\n\r\n    const editEventModal = () => {\r\n        modalDispatch({\r\n            type: \"OPEN\",\r\n            payload: {\r\n                render: (\r\n                    <BoardEditor\r\n                        boardId={boardId}\r\n                        submitType=\"Update\"\r\n                    />\r\n                ),\r\n                title: \"Edit Board\",\r\n            },\r\n        });\r\n    };\r\n\r\n    const leavingEvent = async () => {\r\n        const { error } = await fetchData({\r\n            method: \"DELETE\",\r\n            url: `/board/${boardId}/leave_board`,\r\n            token: true,\r\n        });\r\n        if (!error) removeBoardCallback(boardId);\r\n    };\r\n\r\n    const deleteBoardHandler = async () => {\r\n        const shouldDelete = window.confirm(\"are you sure you want to delete this board?\")\r\n        if (shouldDelete) {\r\n            const { error } = await fetchData({\r\n                method: \"DELETE\",\r\n                url: `/board/${boardId}`,\r\n                token: true,\r\n            });\r\n            if (!error) removeBoardCallback(boardId);\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"board-options\">\r\n            <MoreVertIcon ref={moreOptionsAnchor} />\r\n            <DropdownMenu anchorEl={moreOptionsAnchor}>\r\n                {isAuthor && <span onClick={editEventModal}>edit</span>}\r\n                {isAuthor && <span onClick={deleteBoardHandler}>delete</span>}\r\n                {!isAuthor && <span onClick={leavingEvent}>leave</span>}\r\n            </DropdownMenu>\r\n\r\n        </div>\r\n    )\r\n}\r\nBoardOptions.defaultProps = {\r\n    isAuthor: false,\r\n    removeBoardCallback: undefined\r\n}\r\n\r\nBoardOptions.propTypes = {\r\n    boardId: PropTypes.string.isRequired,\r\n    removeBoardCallback: PropTypes.func,\r\n    isAuthor: PropTypes.bool\r\n}\r\n\r\nexport default BoardOptions\r\n","import { emitWS } from \"helper/socketData\";\r\n\r\nconst handleMoveColumn = async (boardId, setTasks, sourceIndex, destinationIndex) => {\r\n\tif (sourceIndex !== destinationIndex) {\r\n\t\tsetTasks((tasks) => {\r\n\t\t\tconst tempTasks = [...tasks];\r\n\t\t\tconst movingColumn = tempTasks.splice(sourceIndex, 1)[0];\r\n\t\t\ttempTasks.splice(destinationIndex, 0, movingColumn);\r\n\t\t\treturn tempTasks;\r\n\t\t});\r\n\t\temitWS({\r\n\t\t\troomId: boardId,\r\n\t\t\teventName: \"moveColumn\",\r\n\t\t\ttoken: true,\r\n\t\t\tpayload: {\r\n\t\t\t\tsourceIndex,\r\n\t\t\t\tdestinationIndex,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst handleMoveTask = async (boardId, setTasks, tasks, source, destination) => {\r\n\tconst indexOfSourceColumn = tasks.findIndex(({ _id }) => _id === source.droppableId);\r\n\tconst indexOfDestinationColumn = tasks.findIndex(({ _id }) => _id === destination.droppableId);\r\n\tsetTasks((taskColumns) => {\r\n\t\tconst tempTasks = [...taskColumns];\r\n\t\tconst movingTask = tempTasks[indexOfSourceColumn].tasks.splice(source.index, 1)[0];\r\n\t\ttempTasks[indexOfDestinationColumn].tasks.splice(destination.index, 0, movingTask);\r\n\t\treturn tempTasks;\r\n\t});\r\n\tconst sourceIndexes = { columnIndex: indexOfSourceColumn, taskIndex: source.index }\r\n\tconst destinationIndexes = { columnIndex: indexOfDestinationColumn, taskIndex: destination.index }\r\n\tif (sourceIndexes.columnIndex !== destinationIndexes.columnIndex || sourceIndexes.taskIndex !== destinationIndexes.taskIndex) {\r\n\t\temitWS({\r\n\t\t\troomId: boardId,\r\n\t\t\teventName: \"moveTask\",\r\n\t\t\ttoken: true,\r\n\t\t\tpayload: {\r\n\t\t\t\tsource: sourceIndexes,\r\n\t\t\t\tdestination: destinationIndexes,\r\n\t\t\t}\r\n\t\t\r\n\t\t});\r\n\t}\r\n\r\n};\r\n\r\nexport const onDragEnd = (boardId, result, tasks, setTasks) => {\r\n\tif (!result.destination) return;\r\n\tconst { source, destination, type } = result;\r\n\tif (type === \"droppableTaskToColumn\") handleMoveTask(boardId, setTasks, tasks, source, destination);\r\n\telse if (type === \"droppableColumn\") handleMoveColumn(boardId, setTasks, source.index, destination.index);\r\n};\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { DragDropContext } from \"react-beautiful-dnd\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./BoardPage.scss\";\r\nimport ExpandText from \"components/ExpandText/ExpandText\";\r\nimport Button from \"components/Button/Button\";\r\nimport TaskBoard from \"./TaskBoard\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport BoardOptions from \"components/BoardCard/BoardOptions\";\r\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport { BoardMembers, Tags } from \"modalForms\";\r\nimport { TaskProvider } from \"context/TaskContext\";\r\nimport { TaskDisplay } from \"modalForms\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\nimport { onDragEnd } from \"./dragHelper\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { ws } from \"socket\";\r\n\r\nconst BoardPage = ({ boardId, query }) => {\r\n\tconst [boardInfo, setBoardInfo] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t});\r\n\tconst [tasks, setTasks] = useState([]);\r\n\tconst [isTaskLoading, setTaskLoading] = useState(false);\r\n\tconst [, modalDispatch] = useContext(ModalContext);\r\n\tconst [{ user, currentBoard }, userDispatch] = useContext(UserContext);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tlet _isMounted = true;\r\n\t\tconst updateTaskHandler = () => {};\r\n\t\tconst openTask = () => {\r\n\t\t\tmodalDispatch({\r\n\t\t\t\ttype: \"OPEN\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\trender: <TaskDisplay taskId={query.task} updateTask={updateTaskHandler} />,\r\n\t\t\t\t\ttitle: \"Task Details\",\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!!query && !!query.task) {\r\n\t\t\tsetTimeout(openTask, 1000);\r\n\t\t}\r\n\r\n\t\tconst getLoggedInUserRole = async () => {\r\n\t\t\tconst { data, status } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/${boardId}/members/${user._id}`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t});\r\n\t\t\tif (_isMounted && status === 200) {\r\n\t\t\t\tws.emit(\"joinBoardRoom\", { room: boardId });\r\n\t\t\t\tuserDispatch({ type: \"SET_ROLE\", payload: { role: data.member.role, boardId } });\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst getBoardTasks = async () => {\r\n\t\t\tconst { data, status } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/${boardId}`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tsetLoading: setTaskLoading,\r\n\t\t\t});\r\n\t\t\tif (status === 200) {\r\n\t\t\t\tsetTasks(data.columns);\r\n\t\t\t\tsetBoardInfo({ name: data.name, description: data.description });\r\n\t\t\t} else {\r\n\t\t\t\thistory.replace(`/error/${status}`);\r\n\t\t\t}\r\n\t\t};\r\n\t\tgetBoardTasks();\r\n\t\t!!user && getLoggedInUserRole();\r\n\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(openTask);\r\n\t\t\tws.emit(\"leaveBoardRoom\", { room: boardId });\r\n\t\t\t_isMounted = false;\r\n\t\t};\r\n\t}, [user, boardId, userDispatch, history, modalDispatch]);\r\n\r\n\tconst openBoardMembersModal = () => {\r\n\t\tmodalDispatch({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: { render: <BoardMembers boardId={boardId} />, title: \"Board Members\" },\r\n\t\t});\r\n\t};\r\n\tconst openBoardTagsModal = () => {\r\n\t\tmodalDispatch({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: { render: <Tags boardId={boardId} />, title: \"Board Tags\" },\r\n\t\t});\r\n\t};\r\n\tconst redirectToDashboard = () => {\r\n\t\thistory.replace(\"/\")\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"board-page-wrapper\">\r\n\t\t\t<LoadingOverlay show={isTaskLoading} opacity={0} classes={[\"task-loading\"]}>\r\n\t\t\t\t<div className=\"board-page\">\r\n\t\t\t\t\t<ExpandText classes={[\"board-title\"]} text={boardInfo.name}>\r\n\t\t\t\t\t\t<div>{boardInfo.description}</div>\r\n\t\t\t\t\t</ExpandText>\r\n\t\t\t\t\t<div className=\"board-button-group\">\r\n\t\t\t\t\t\t<Button clicked={openBoardMembersModal}>\r\n\t\t\t\t\t\t\t<PeopleIcon />\r\n\t\t\t\t\t\t\t<span>Peolpe</span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button clicked={openBoardTagsModal}>\r\n\t\t\t\t\t\t\t<LocalOfferIcon />\r\n\t\t\t\t\t\t\t<span>Tags</span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<BoardOptions\r\n\t\t\t\t\t\t\tboardId={boardId}\r\n\t\t\t\t\t\t\tremoveBoardCallback={redirectToDashboard}\r\n\t\t\t\t\t\t\tisAuthor={currentBoard.role === \"owner\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<DragDropContext onDragEnd={(result) => onDragEnd(boardId, result, tasks, setTasks)}>\r\n\t\t\t\t\t\t<TaskProvider values={[tasks, setTasks]}>\r\n\t\t\t\t\t\t\t<TaskBoard boardId={boardId} />\r\n\t\t\t\t\t\t</TaskProvider>\r\n\t\t\t\t\t</DragDropContext>\r\n\t\t\t\t</div>\r\n\t\t\t</LoadingOverlay>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nBoardPage.defaultProps = {\r\n\tquery: undefined\r\n}\r\n\r\nBoardPage.propTypes = {\r\n\tquery: PropTypes.object,\r\n\tboardId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BoardPage;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 15L5.71429 13.5V11.25H9.28571C9.47515 11.25 9.65684 11.171 9.79079 11.0303C9.92475 10.8897 10 10.6989 10 10.5V9.3105C10 8.916 9.84714 8.529 9.58143 8.25L8.57143 7.1895V4.5C8.76087 4.5 8.94255 4.42098 9.07651 4.28033C9.21046 4.13968 9.28571 3.94891 9.28571 3.75V1.5C9.28571 0.67275 8.645 0 7.85714 0H2.14286C1.355 0 0.714286 0.67275 0.714286 1.5V3.75C0.714286 3.94891 0.789541 4.13968 0.923495 4.28033C1.05745 4.42098 1.23913 4.5 1.42857 4.5V7.1895L0.418571 8.25C0.151305 8.5317 0.000860877 8.91287 0 9.3105V10.5C0 10.6989 0.075255 10.8897 0.20921 11.0303C0.343164 11.171 0.524845 11.25 0.714286 11.25H4.28571V13.5L5 15Z\"\n});\n\nvar SvgPinFull = function SvgPinFull(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 15,\n    viewBox: \"0 0 10 15\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPinFull, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-full.02f56801.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport \"./ContainerBox.scss\";\nimport PropTypes from \"prop-types\";\n\nconst ContainerBox = ({ children, classes }) => {\n\treturn <div className={`container-box ${classes.join([\" \"])}`}>{children}</div>;\n};\n\nContainerBox.defaultProps = {\n\tclasses: [\"\"],\n};\n\nContainerBox.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tclasses: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default ContainerBox;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 15L5.71429 13.5V11.25H9.28571C9.47515 11.25 9.65684 11.171 9.79079 11.0303C9.92475 10.8897 10 10.6989 10 10.5V9.3105C10 8.916 9.84714 8.529 9.58143 8.25L8.57143 7.1895V4.5C8.76087 4.5 8.94255 4.42098 9.07651 4.28033C9.21046 4.13968 9.28571 3.94891 9.28571 3.75V1.5C9.28571 0.67275 8.645 0 7.85714 0H2.14286C1.355 0 0.714286 0.67275 0.714286 1.5V3.75C0.714286 3.94891 0.789541 4.13968 0.923495 4.28033C1.05745 4.42098 1.23913 4.5 1.42857 4.5V7.1895L0.418571 8.25C0.151305 8.5317 0.000860877 8.91287 0 9.3105V10.5C0 10.6989 0.075255 10.8897 0.20921 11.0303C0.343164 11.171 0.524845 11.25 0.714286 11.25H4.28571V13.5L5 15ZM2.14286 1.5H7.85714V3H2.14286V1.5ZM1.42857 9.3105L2.64786 8.03025C2.71432 7.96072 2.76702 7.87808 2.80294 7.78707C2.83886 7.69607 2.85728 7.59851 2.85714 7.5V4.5H7.14286V7.5C7.14286 7.6995 7.21786 7.89 7.35214 8.03025L8.57143 9.3105V9.75H1.42857V9.3105Z\"\n});\n\nvar SvgPinEmpty = function SvgPinEmpty(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    viewBox: \"0 0 10 15\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPinEmpty, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin-empty.ec38a0ab.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { ReactComponent as Pin } from \"assets/images/pin-empty.svg\";\nimport { ReactComponent as Pined } from \"assets/images/pin-full.svg\";\nimport \"./BoardCard.scss\";\nimport BoardOptions from \"./BoardOptions\";\n\nconst BoardCard = ({ boardInfo, boardId, isPinned, pinBoard, removeBoard, isAuthor }) => {\n\tconst history = useHistory();\n\n\n\tconst togglePinBoard = (e) => {\n\t\te.stopPropagation();\n\t\tpinBoard();\n\t};\n\n\n\tconst goToBoard = () => {\n\t\thistory.push(`/board/${boardId}`);\n\t};\n\n\treturn (\n\t\t<div className=\"board-card\">\n\t\t\t<div className=\"bg-columns\">\n\t\t\t\t<div className=\"column\"></div>\n\t\t\t\t<div className=\"column\"></div>\n\t\t\t\t<div className=\"column\"></div>\n\t\t\t\t<div className=\"column\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"board-card-body\">\n\t\t\t\t<h1 onClick={goToBoard} className=\"board-title\">\n\t\t\t\t\t{boardInfo.name}\n\t\t\t\t</h1>\n\t\t\t\t<div className=\"board-menu\">\n\t\t\t\t\t{isPinned ? (\n\t\t\t\t\t\t<Pined className=\"pin-icon\" onClick={togglePinBoard} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Pin className=\"pin-icon\" onClick={togglePinBoard} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t<BoardOptions\n\t\t\t\t\t\tboardId={boardId}\n\t\t\t\t\t\tremoveBoardCallback={removeBoard}\n\t\t\t\t\t\tisAuthor={isAuthor}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nBoardCard.propTypes = {\n\tisPinned: false,\n\tisAuthor: false,\n};\nBoardCard.propTypes = {\n\tboardInfo: PropTypes.shape({\n\t\tname: PropTypes.string,\n\t\tdescription: PropTypes.string,\n\t\tmembers: PropTypes.array,\n\t}).isRequired,\n\tisPinned: PropTypes.bool,\n\tpinBoard: PropTypes.func.isRequired,\n\tremoveBoard: PropTypes.func.isRequired,\n\tboardId: PropTypes.string.isRequired,\n\tisAuthor: PropTypes.bool,\n};\n\nexport default BoardCard;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\nimport Pagination from \"components/Pagination/Pagination\";\r\nimport BoardCard from \"components/BoardCard/BoardCard\";\r\nimport \"./MyBoardContainer.scss\";\r\n\r\nconst MyBoardContainer = ({\r\n\ttitle,\r\n\trenderIcon,\r\n\tboardList,\r\n\tisLoading,\r\n\ttogglePinBoard,\r\n\tremoveBoard,\r\n\tpage,\r\n\tchangePage,\r\n\tclasses,\r\n\temptyMessage,\r\n}) => {\r\n\treturn (\r\n\t\t<div className={`board-container-wrapper ${classes.join(\" \")}`}>\r\n\t\t\t<h1 className=\"board-container-title\">\r\n\t\t\t\t{renderIcon}\r\n\t\t\t\t<span>{title}</span>\r\n\t\t\t</h1>\r\n\t\t\t<LoadingOverlay show={isLoading} opacity={0}>\r\n\t\t\t\t<div className=\"board-container\">\r\n\t\t\t\t\t{boardList.map(({ _id, pinned, name, description, members, isAuthor }, index) => (\r\n\t\t\t\t\t\t<BoardCard\r\n\t\t\t\t\t\t\tkey={_id}\r\n\t\t\t\t\t\t\tboardId={_id}\r\n\t\t\t\t\t\t\tisPinned={pinned}\r\n\t\t\t\t\t\t\tpinBoard={() => togglePinBoard(index)}\r\n\t\t\t\t\t\t\tremoveBoard={removeBoard}\r\n\t\t\t\t\t\t\tboardInfo={{ name, description, members }}\r\n\t\t\t\t\t\t\tisAuthor={isAuthor}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{boardList.length < 1 && <div className=\"empty-board\">{emptyMessage}</div>}\r\n\t\t\t\t</div>\r\n\t\t\t</LoadingOverlay>\r\n\t\t\t{!!page && (\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tamountOfPages={page.amountOfPages}\r\n\t\t\t\t\tcurrentPage={page.currentPage}\r\n\t\t\t\t\thandleChange={changePage}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nMyBoardContainer.defaultProps = {\r\n\tisLoading: false,\r\n\tchangePage: undefined,\r\n\tpage: undefined,\r\n\tclasses: [\"\"],\r\n\temptyMessage: \"empty\",\r\n};\r\n\r\nMyBoardContainer.propTypes = {\r\n\ttitle: PropTypes.string.isRequired,\r\n\trenderIcon: PropTypes.object.isRequired,\r\n\tboardList: PropTypes.array.isRequired,\r\n\tisLoading: PropTypes.bool,\r\n\ttogglePinBoard: PropTypes.func.isRequired,\r\n\tremoveBoard: PropTypes.func.isRequired,\r\n\tchangePage: PropTypes.func,\r\n\tclasses: PropTypes.arrayOf(PropTypes.string),\r\n\temptyMessage: PropTypes.string,\r\n\tpage: PropTypes.shape({ amountOfPages: PropTypes.number, currentPage: PropTypes.number }),\r\n};\r\n\r\nexport default MyBoardContainer;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { ReactComponent as Pin } from \"assets/images/pin-full.svg\";\r\nimport \"./DashboardPage.scss\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\r\nimport Button from \"components/Button/Button\";\r\nimport BoardEditor from \"modalForms/BoardEditor/BoardEditor\";\r\nimport ContainerBox from \"components/ContainerBox/ContainerBox\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport fetchData from \"helper/fetchData\";\r\n\r\nimport MyBoardContainer from \"./MyBoardContainer\";\r\n\r\n\r\nfunction DashboardPage() {\r\n\tconst [page, setPage] = useState({ currentPage: 1, amountOfPages: 1 });\r\n\tconst [pinnedBoards, setPinnedBoards] = useState({items: [], isLoading: false});\r\n\tconst [boards, setBoards] = useState({items: [], isLoading: false});\r\n\tconst [, modalDispatch] = useContext(ModalContext);\r\n\r\n\tconst boardLoadingHandler = (setState, loadingState) => {\r\n\t\tsetState(prevState => ({...prevState, isLoading: loadingState}))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getPinnedBoards = async () => {\r\n\t\t\tconst { data } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: \"/board/user/pined_boards\",\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tsetLoading: (loadingState) => boardLoadingHandler(setPinnedBoards, loadingState),\r\n\t\t\t});\r\n\t\t\tif (!!data) setPinnedBoards(prevState => ({...prevState, items: data}));\r\n\t\t};\r\n\t\tgetPinnedBoards();\r\n\t\treturn () => {};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getMyBoards = async () => {\r\n\t\t\tconst { data } = await fetchData({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/board/user/my_boards?page=${page.currentPage}&limit=8`,\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tsetLoading: (loadingState) => boardLoadingHandler(setBoards, loadingState),\r\n\t\t\t});\r\n\t\t\tif (!!data) {\r\n\t\t\t\tsetPage((prevState) => ({ ...prevState, amountOfPages: data.totalPageCount }));\r\n\t\t\t\tsetBoards(prevState => ({...prevState, items: data.items}));\r\n\t\t\t}\r\n\t\t};\r\n\t\tgetMyBoards();\r\n\t\treturn () => {};\r\n\t}, [page.currentPage]);\r\n\r\n\tconst openCreateNewBoardModal = () => {\r\n\t\tmodalDispatch({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: {\r\n\t\t\t\trender: <BoardEditor submitType=\"Create\" />,\r\n\t\t\t\ttitle: \"New Board\",\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst removeBoard = (boardId) => {\r\n\t\tconst indexOfBoardInBoardList = boards.items.findIndex(({ _id }) => _id === boardId);\r\n\t\tconst indexOfBoardInPinnedBoardList = pinnedBoards.items.findIndex(({ _id }) => _id === boardId);\r\n\r\n\t\tif (indexOfBoardInBoardList > -1) {\r\n\t\t\tsetBoards((boards) => {\r\n\t\t\t\tconst newBoards = [...boards.items];\r\n\t\t\t\tnewBoards.splice(indexOfBoardInBoardList, 1);\r\n\t\t\t\treturn ({...boards, items: newBoards});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (indexOfBoardInPinnedBoardList > -1) {\r\n\t\t\tsetPinnedBoards((boards) => {\r\n\t\t\t\tconst newBoards = [...boards.items];\r\n\t\t\t\tnewBoards.splice(indexOfBoardInPinnedBoardList, 1);\r\n\t\t\t\treturn ({...boards, items: newBoards });\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst togglePinBoard = async (boardIndex, pinnedBoardIndex) => {\r\n\t\tconst foundPinnedBoardIndex =\r\n\t\t\tpinnedBoardIndex > -1\r\n\t\t\t\t? pinnedBoardIndex\r\n\t\t\t\t: pinnedBoards.items.findIndex((board) => board._id === boards.items[boardIndex]._id);\r\n\t\tconst foundBoardIndex =\r\n\t\t\tboardIndex > -1\r\n\t\t\t\t? boardIndex\r\n\t\t\t\t: boards.items.findIndex((board) => board._id === pinnedBoards.items[pinnedBoardIndex]._id);\r\n\t\tconst { data } = await fetchData({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl: `/board/user/pined_boards?boardId=${boards.items[foundBoardIndex]._id}`,\r\n\t\t\ttoken: true,\r\n\t\t});\r\n\t\tif (!!data) {\r\n\t\t\tsetPinnedBoards((pinnedBoards) => {\r\n\t\t\t\tconst tempPinnedBoards = [...pinnedBoards.items];\r\n\r\n\t\t\t\tif (boards.items[foundBoardIndex].pinned) {\r\n\t\t\t\t\ttempPinnedBoards.splice(foundPinnedBoardIndex, 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttempPinnedBoards.push({ ...boards.items[foundBoardIndex], pinned: true });\r\n\t\t\t\t}\r\n\t\t\t\treturn ({...pinnedBoards, items: tempPinnedBoards});\r\n\t\t\t});\r\n\r\n\t\t\tsetBoards((boards) => {\r\n\t\t\t\tconst modifiedBoards = [...boards.items];\r\n\t\t\t\tmodifiedBoards[foundBoardIndex].pinned = !modifiedBoards[foundBoardIndex].pinned;\r\n\t\t\t\treturn ({...boards, items: modifiedBoards});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst changePage = (pageNumber) => {\r\n\t\tsetPage((pageState) => ({ ...pageState, currentPage: pageNumber }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ContainerBox classes={[\"dashboard-container\"]}>\r\n\t\t\t<MyBoardContainer\r\n\t\t\t\tclasses={[\"pinned-boards\"]}\r\n\t\t\t\ttitle={\"Pinned\"}\r\n\t\t\t\trenderIcon={<Pin className=\"pin-icon\" />}\r\n\t\t\t\tboardList={pinnedBoards.items}\r\n\t\t\t\tisLoading={pinnedBoards.isLoading}\r\n\t\t\t\tremoveBoard={removeBoard}\r\n\t\t\t\ttogglePinBoard={(index) => togglePinBoard(-1, index)}\r\n\t\t\t\temptyMessage={\"you have no pinned boards\"}\r\n\t\t\t/>\r\n\t\t\t<Button clicked={openCreateNewBoardModal} classes={[\"new-board-btn\"]}>\r\n\t\t\t\t<AddBoxIcon />\r\n\t\t\t\tNew Board\r\n\t\t\t</Button>\r\n\t\t\t<MyBoardContainer\r\n\t\t\t\tclasses={[\"main-boards\"]}\r\n\t\t\t\ttitle={\"Boards\"}\r\n\t\t\t\trenderIcon={<DashboardIcon className=\"board-icon\" />}\r\n\t\t\t\tboardList={boards.items}\r\n\t\t\t\tisLoading={boards.isLoading}\r\n\t\t\t\tremoveBoard={removeBoard}\r\n\t\t\t\tchangePage={changePage}\r\n\t\t\t\tpage={page}\r\n\t\t\t\ttogglePinBoard={(index) => togglePinBoard(index, -1)}\r\n\t\t\t\temptyMessage={\"you are not a part of any board\"}\r\n\t\t\t/>\r\n\t\t</ContainerBox>\r\n\t);\r\n}\r\n\r\nexport default DashboardPage;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport \"./ProfilePage.scss\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport SimpleForm from \"components/SimpleForm/SimpleForm\";\r\nimport Image from \"components/Image/Image\";\r\nimport Button from \"components/Button/Button\";\r\nimport ContainerBox from \"components/ContainerBox/ContainerBox\";\r\nimport { ModalContext } from \"context/ModalContext\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport { ChangePassword, ChangeProfilePicture } from \"modalForms\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\nimport fetchData from \"helper/fetchData\";\r\n\r\n\r\nconst validationSchema = Yup.object({\r\n\tusername: Yup.string().max(25, \"username is too long\").required(\"field is required\"),\r\n\temail: Yup.string().email().required(\"field is required\"),\r\n\tname: Yup.string().max(25, \"name is too long\").required(\"field is required\"),\r\n\tsurname: Yup.string().max(25, \"surname is too long\").required(\"field is required\"),\r\n});\r\n\r\nconst ProfilePage = () => {\r\n\tconst [, modalDispatch] = useContext(ModalContext);\r\n\tconst [{ user }] = useContext(UserContext);\r\n\r\n\tconst [profileInfo, setProfileInfo] = useState({\r\n\t\tusername: { initialVal: \"\", type: \"text\" },\r\n\t\tname: { initialVal: \"\", type: \"text\" },\r\n\t\tsurname: { initialVal: \"\", type: \"text\" },\r\n\t\temail: { initialVal: \"\", type: \"text\" },\r\n\t});\r\n\tconst [profilePicture, setProfilePicture] = useState(\"\");\r\n\tconst [isProfileLoaded, setProfileLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tif (!!user) {\r\n\t\t\tconst { username, email, name, surname, avatarImageURL } = user;\r\n\t\t\tsetProfilePicture(avatarImageURL);\r\n\t\t\tsetProfileInfo({\r\n\t\t\t\tusername: { initialVal: username, type: \"text\" },\r\n\t\t\t\tname: { initialVal: name, type: \"text\" },\r\n\t\t\t\tsurname: { initialVal: surname, type: \"text\" },\r\n\t\t\t\temail: { initialVal: email, type: \"text\" },\r\n\t\t\t});\r\n\t\t\tsetProfileLoading(false);\r\n\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t};\r\n\t}, [user]);\r\n\r\n\tconst handleSaveChanges = async (submittedData, { setSubmitting, setErrors }) => {\r\n\t\tconst { error } = await fetchData({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: \"/user/update_credentials\",\r\n\t\t\ttoken: true,\r\n\t\t\tsetLoading: setSubmitting,\r\n\t\t\tpayload: submittedData,\r\n\t\t});\r\n\t\tif (!!error) {\r\n\t\t\tsetErrors(error.message);\r\n\t\t}\r\n\t};\r\n\tconst changeImageModalOpen = () => {\r\n\t\tmodalDispatch({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: {\r\n\t\t\t\trender: <ChangeProfilePicture changeProfilePic={setProfilePicture} />,\r\n\t\t\t\ttitle: \"Change profile picture\",\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\tconst changePasswordModalOpen = () => {\r\n\t\tmodalDispatch({\r\n\t\t\ttype: \"OPEN\",\r\n\t\t\tpayload: {\r\n\t\t\t\trender: <ChangePassword />,\r\n\t\t\t\ttitle: \"Change password\",\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ContainerBox classes={[\"\"]}>\r\n\t\t\t<LoadingOverlay classes={[\"profile-page-loading-overlay\"]} show={isProfileLoaded} opacity={0}>\r\n\t\t\t\t<div className=\"profile-page-container\">\r\n\t\t\t\t\t<div className=\"profile-image\">\r\n\t\t\t\t\t\t<Image imageURL={profilePicture} />\r\n\t\t\t\t\t\t<button onClick={changeImageModalOpen} className=\"change-image-btn\">\r\n\t\t\t\t\t\t\t<ImageIcon />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"profile-info\">\r\n\t\t\t\t\t\t<h1 className=\"username\">{`@${profileInfo.username.initialVal}`}</h1>\r\n\t\t\t\t\t\t<h3 className=\"name-surname\">{`${profileInfo.name.initialVal} ${profileInfo.surname.initialVal}`}</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<SimpleForm\r\n\t\t\t\t\t\tsubmitButtonName=\"save changes\"\r\n\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\thandleSubmit={handleSaveChanges}\r\n\t\t\t\t\t\tfields={profileInfo}\r\n\t\t\t\t\t\tloadingOverlayColor={{ light: \"245, 249, 250\", dark: \"51, 54, 55\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button clicked={changePasswordModalOpen} classes={[\"change-password\"]}>\r\n\t\t\t\t\t\tchange password\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</LoadingOverlay>\r\n\t\t</ContainerBox>\r\n\t);\r\n};\r\n\r\nexport default ProfilePage;\r\n","import React from \"react\";\r\nimport \"./ErrorPage.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport costam from \"assets/images/drawkit-nature-man-colour.svg\";\r\n\r\nfunction ErrorPage({ errorCode }) {\r\n\r\n  const translateErrorCode = () => {\r\n    switch (errorCode) {\r\n      case \"400\":\r\n        return \"BAD REQUEST\";\r\n      case \"401\":\r\n        return \"UNAUTHORIZED\";\r\n      case \"403\":\r\n        return \"FORBIDDEN\";\r\n      case \"404\":\r\n        return \"NOT FOUND\";\r\n      case \"500\":\r\n        return \"INTERNAL SERVER ERROR\";\r\n      case \"502\":\r\n        return \"BAD GATEWAY\";\r\n    \r\n      default:\r\n        return \"UKNOWN ERROR\";\r\n    }\r\n  }\r\n\r\n\treturn (\r\n\t\t<div className=\"error-page-wrapper\">\r\n      <div className=\"error-container\">\r\n      <img src={costam} alt=\"error-page-guy\" id=\"error-page-image\" />{\" \"}\r\n\t\t\t<h2 className=\"error-title\">{`ERROR: ${errorCode}`}</h2>\r\n\t\t\t<p className=\"error-detail\">{translateErrorCode()}</p>\r\n      </div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nErrorPage.defaultProps = {\r\n\terrorCode: \"400\",\r\n};\r\nErrorPage.propTypes = {\r\n\terrorCode: PropTypes.string,\r\n};\r\n\r\nexport default ErrorPage;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction ProtectedRoute({ auth, path, render, component }) {\r\n\treturn auth ? <Route exact path={path} render={render} component={component} /> : <Redirect to=\"/\" />;\r\n}\r\n\r\nProtectedRoute.defaultProps = {\r\n\trender: undefined,\r\n\tcomponent: undefined\r\n};\r\nProtectedRoute.propTypes = {\r\n\tauth: PropTypes.bool.isRequired,\r\n\tpath: PropTypes.string.isRequired,\r\n\trender: PropTypes.func,\r\n\tcomponent: PropTypes.func,\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useContext } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { WelcomePage, ProfilePage, BoardPage, DashboardPage, ErrorPage } from \"pages\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport queryString from \"query-string\";\r\n\r\nconst Routes = () => {\r\n\tconst [{ authStatus }] = useContext(UserContext);\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route exact path=\"/\" component={authStatus === \"success\" ? DashboardPage : WelcomePage} />\r\n\t\t\t<ProtectedRoute auth={authStatus === \"success\"} path=\"/profile\" component={ProfilePage} />\r\n\t\t\t<ProtectedRoute\r\n\t\t\t\tauth={authStatus === \"success\"}\r\n\t\t\t\tpath=\"/board/:id\"\r\n\t\t\t\trender={({ match, location }) => <BoardPage boardId={match.params.id} query={queryString.parse(location.search)} />}\r\n\t\t\t/>\r\n\t\t\t<Route exact path=\"/error/:code\" render={({match}) => <ErrorPage errorCode={match.params.code} />} />\r\n\t\t\t<Route render={() => <Redirect to=\"/\" />} />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport CodeIcon from \"@material-ui/icons/Code\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport \"./Footer.scss\";\n\nconst Footer = () => {\n\treturn (\n\t\t<footer className=\"app-footer\">\n\t\t\t<a\n\t\t\t\thref=\"https://github.com/DaRoTP/Task-Manager_node-react\"\n\t\t\t\tclassName=\"footer-item source-code\">\n\t\t\t\t<CodeIcon />\n\t\t\t\t<span>source code</span>\n\t\t\t</a>\n\t\t\t<a\n\t\t\t\thref=\"https://github.com/DaRoTP\"\n\t\t\t\tclassName=\"footer-item author\">\n\t\t\t\t<AccountCircleIcon />\n\t\t\t\t<span>Author: @DaRo</span>\n\t\t\t</a>\n\t\t</footer>\n\t);\n};\n\nexport default Footer;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\"\r\nimport Portal from \"HOC/Portal\";\r\nimport \"./WarningNotification.scss\";\r\n\r\nimport ErrorIcon from '@material-ui/icons/NotInterested';\r\nimport WaringIcon from '@material-ui/icons/ReportProblem';\r\nimport SuccessIcon from '@material-ui/icons/CheckCircle';\r\n\r\nconst WarningNotification = ({message, type, show}) => {\r\n\r\n    const warningIcon = () => {\r\n        switch (type) {\r\n            case \"SUCCESS\":\r\n                return <SuccessIcon />\r\n            case \"ERROR\":\r\n                return <ErrorIcon />\r\n            case \"WARNING\":\r\n                return <WaringIcon />\r\n            default:\r\n                return <ErrorIcon />\r\n        }\r\n    }\r\n    if(show) {\r\n        return (\r\n            <Portal mountTo=\"root-warning-notifications\">\r\n                <div className={`warning-notification ${type.toLowerCase()}`}>\r\n                    <div className=\"notification-body-wrapper\">\r\n                        { warningIcon() }\r\n                        <span className=\"warning-body\">{message}</span>\r\n                    </div>\r\n                </div>\r\n            </Portal>\r\n        )\r\n    } else return null;\r\n    \r\n}\r\n\r\nWarningNotification.defaultProps = {\r\n    type: \"SUCCESS\",\r\n    show: true\r\n}\r\n\r\nWarningNotification.propTypes = {\r\n    show: PropTypes.bool,\r\n    message: PropTypes.string.isRequired,\r\n    type: PropTypes.string\r\n}\r\n\r\nexport default WarningNotification\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport Navbar from \"components/Navbar/Navbar\";\r\nimport Modal from \"components/Modal/Modal\";\r\nimport \"./App.scss\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport { WarningNotificationContext } from \"context/WarningNotificationContext\";\r\n\r\nimport Routes from \"routes/Routes\";\r\n\r\nimport Footer from \"components/Footer/Footer\";\r\nimport LoadingOverlay from \"components/LoadingOverlay/LoadingOverlay\";\r\nimport fetchData from \"helper/fetchData\";\r\nimport WarningNotification from \"components/WarningNotification/WarningNotification\";\r\n\r\n\r\nfunction App() {\r\n\tconst [{ authStatus, theme }, dispatchUser] = useContext(UserContext);\r\n\tconst [{\r\n\t\ttype: WarningNotificationType,\r\n\t\tmessage: WarningNotificationMessage,\r\n\t\tshow: WarningNotificationShow\r\n\t}] = useContext(WarningNotificationContext);\r\n\tconst [authLoading, setAuthLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst checkUserAuthentication = async () => {\r\n\t\t\tconst { data, status } = await fetchData({\r\n\t\t\t\turl: \"/isAuth\",\r\n\t\t\t\ttoken: true,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t});\r\n\t\t\tif (status === 401) dispatchUser({ type: \"LOGIN_FAIL\" });\r\n\t\t\tif (!!data) dispatchUser({ type: \"LOGIN_SUCCESS\", payload: { user: data.user } });\r\n\t\t};\r\n\t\tcheckUserAuthentication();\r\n\r\n\t\treturn () => { };\r\n\t}, [dispatchUser]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (authStatus === \"success\" || authStatus === \"failed\") setAuthLoading(false);\r\n\t\treturn () => { };\r\n\t}, [authStatus]);\r\n\r\n\treturn (\r\n\t\t<div className={`App ${theme ? \"theme-light\" : \"theme-dark\"}`}>\r\n\t\t\t<WarningNotification show={WarningNotificationShow} message={WarningNotificationMessage} type={WarningNotificationType} />\r\n\t\t\t<Modal />\r\n\t\t\t<Navbar isAuth={authStatus === \"success\"} />\r\n\t\t\t<LoadingOverlay classes={[\"authentication-loading\"]} show={authLoading} opacity={0}>\r\n\t\t\t\t<Routes />\r\n\t\t\t</LoadingOverlay>\r\n\t\t\t<Footer />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { ModalProvider } from \"./context/ModalContext\";\nimport { UserProvider } from \"./context/UserContext\";\nimport { WarningNotificationProvider } from \"./context/WarningNotificationContext\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n\t<ModalProvider>\n\t\t<UserProvider>\n\t\t\t<WarningNotificationProvider>\n\t\t\t\t<Router>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</WarningNotificationProvider>\n\t\t</UserProvider>\n\t</ModalProvider>,\n\tdocument.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}