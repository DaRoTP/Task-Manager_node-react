(this["webpackJsonpworkflow-app"]=this["webpackJsonpworkflow-app"]||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/default_avatar.cf89e8e6.png"},162:function(e,t,a){e.exports=a.p+"static/media/workflow-person.8d3d8fc2.svg"},163:function(e,t,a){e.exports=a.p+"static/media/workflow-person_dark.3de0a3ca.svg"},164:function(e,t,a){e.exports=a.p+"static/media/task_columns.a5a786b6.svg"},165:function(e,t,a){e.exports=a.p+"static/media/task_columns_dark.7669f118.svg"},173:function(e,t,a){e.exports=a.p+"static/media/drawkit-nature-man-colour.e631e62e.svg"},183:function(e,t,a){e.exports=a(292)},204:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},211:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},258:function(e,t){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),s=a(85),i=a.n(s),l=(a(204),a(3)),u=a.n(l),m=a(6),d=a(2),f=(a(206),a(207),a(208),a(321)),p=function(e){var t=e.children,a=e.mountTo,n=document.getElementById(a);return Object(c.createPortal)(t,n)},b=a(5),v=Object(n.createContext)(),E={authStatus:null,user:null,currentBoard:{role:null,id:null},theme:!0},g=function(e,t){var a=t.type,n=t.payload;switch(a){case"LOGIN_SUCCESS":return n.token&&localStorage.setItem("token",n.token),Object(b.a)(Object(b.a)({},e),{},{user:n.user,authStatus:"success"});case"LOGIN_FAIL":return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{user:null,authStatus:"failed"});case"LOGOUT":return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{user:null,authStatus:null,currentBoard:{role:null,id:null}});case"THEME_DARK":return localStorage.setItem("theme","dark"),Object(b.a)(Object(b.a)({},e),{},{theme:!1});case"THEME_LIGHT":return localStorage.setItem("theme","light"),Object(b.a)(Object(b.a)({},e),{},{theme:!0});case"THEME_TOGGLE":return localStorage.setItem("theme",e.theme?"dark":"light"),Object(b.a)(Object(b.a)({},e),{},{theme:!e.theme});case"SET_ROLE":return Object(b.a)(Object(b.a)({},e),{},{currentBoard:{role:n.role,id:n.boardId}});default:return e}},h=function(e){var t=e.children,a=Object(n.useReducer)(g,E),c=Object(d.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("theme");return e&&s("light"===e?{type:"THEME_LIGHT"}:{type:"THEME_DARK"}),function(){}}),[]),r.a.createElement(v.Provider,{value:[o,s]},t)};var O=function(){var e=Object(n.useState)([0,0]),t=Object(d.a)(e,2),a=t[0],r=t[1];return Object(n.useLayoutEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a},j=function(e){var t=e.classes,a=e.children,c=e.anchorEl,o=e.offset,s=e.onClickClose,i=e.scrollableAt,l=O(),u=Object(d.a)(l,1)[0],m=Object(n.useState)({}),b=Object(d.a)(m,2),E=b[0],g=b[1],h=Object(n.useState)(!1),j=Object(d.a)(h,2),y=j[0],k=j[1],w=Object(n.useRef)(o),C=Object(n.useContext)(v),x=Object(d.a)(C,1)[0].theme;Object(n.useEffect)((function(){var e=c.current,t=function(){var e=c.current.getBoundingClientRect();g({left:e.x+e.width+w.current.x,top:e.y+window.scrollY+w.current.y}),k(!0)};return e.addEventListener("click",t),k(!1),function(){e.removeEventListener("click",t)}}),[u,c]);var N=function(){k(!1)};return y?r.a.createElement(p,{mountTo:"root-menu"},r.a.createElement(f.a,{onClickAway:N},r.a.createElement("div",{style:{top:E.top,left:E.left,maxHeight:i},className:"drop-down-menu ".concat(i?"scrollable":""," ").concat(x?"theme-light":"theme-dark"," ").concat(t.join(" "))},Array.isArray(a)?a.filter((function(e){return e})).map((function(e){return r.a.createElement("div",{onClick:s?N:void 0,key:""+Math.random(),className:"drop-down-menu-item"},e)})):r.a.createElement("div",{className:"drop-down-menu-item"},a)))):null};j.defaultProps={classes:[""],offset:{x:0,y:0},onClickClose:!0,scrollableAt:void 0};var y=j,k=function(e){var t=e.icon,a=e.navName,c=e.children,o=e.clicked,s=e.classes,i=e.offset,l=e.dropDownOnClickClose,u=e.dropDownScrollableAt,m=Object(n.useRef)();return r.a.createElement("li",{className:"nav-item ".concat(s.join(" "))},r.a.createElement("button",{className:"icon-button",ref:m,onClick:o},!!t&&t,r.a.createElement("span",null,a)),c&&r.a.createElement(y,{scrollableAt:u,onClickClose:l,offset:i,classes:s,anchorEl:m},c))};k.defaultProps={classes:[""],icon:null,children:null,navName:"",offset:void 0,dropDownOnClickClose:!0,clicked:void 0};var w=k,C=a(11),x=a(146),N=a.n(x),S=a(87),I=a.n(S),R=(a(211),function(e){var t=e.timeout,a=e.execMethod,c=e.searchResult,o=e.clickResult,s=e.clearResults,i=Object(n.useRef)(),l=0;return r.a.createElement(f.a,{onClickAway:s},r.a.createElement("div",{className:"auto-complete-input-wrapper"},r.a.createElement("div",{className:"auto-complete-input"},r.a.createElement("input",{ref:i,placeholder:"search...",className:"search-input",type:"text",onChange:function(e){var n=e.target.value;l&&clearTimeout(l),l=setTimeout((function(){n.length>0&&a(n)}),t)}}),c.length>0?r.a.createElement(I.a,{onClick:function(){i.current.value="",s()},className:"search-icon clear-icon"}):r.a.createElement(N.a,{onClick:function(){var e=i.current.value;e.length>0&&a(e)},className:"search-icon"})),r.a.createElement("div",{className:"search-result-container ".concat(c.length>5?"overflow-scroll ":"")},c&&c.map((function(e){return r.a.createElement("div",{className:"search-result-item",onClick:function(){return o(e)},key:e._id},r.a.createElement("span",null,e.text))})))))});R.defaultProps={timeout:0};var P=R,T=a(59),L=a.n(T);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var A=r.a.createElement("path",{d:"M6 15L2.912 13.2359C2.03167 12.7341 1.29549 11.9849 0.782463 11.0688C0.26944 10.1526 -0.00105653 9.1041 3.10129e-06 8.03571V1.07143C0.000267839 0.787355 0.10571 0.514998 0.293189 0.314127C0.480668 0.113257 0.734868 0.000283648 1 0H11C11.2651 0.000283648 11.5193 0.113257 11.7068 0.314127C11.8943 0.514998 11.9997 0.787355 12 1.07143V8.03571C12.0011 9.1041 11.7306 10.1526 11.2175 11.0688C10.7045 11.9849 9.96833 12.7341 9.088 13.2359L6 15ZM1 1.07143V8.03571C0.999173 8.90989 1.22055 9.76781 1.64038 10.5174C2.06021 11.267 2.66264 11.8799 3.383 12.2904L6 13.7855L8.617 12.2909C9.33743 11.8804 9.93991 11.2674 10.3597 10.5177C10.7796 9.76802 11.0009 8.90999 11 8.03571V1.07143H1Z"}),B=r.a.createElement("path",{d:"M6 12.4698V2.14286H10V7.93125C9.99997 8.61028 9.82786 9.27656 9.50204 9.85898C9.17622 10.4414 8.70891 10.9181 8.15 11.2382L6 12.4698Z"}),U=function(e){var t=e.svgRef,a=e.title,n=_(e,["svgRef","title"]);return r.a.createElement("svg",V({width:12,height:15,viewBox:"0 0 12 15",ref:t},n),a?r.a.createElement("title",null,a):null,A,B)},H=r.a.forwardRef((function(e,t){return r.a.createElement(U,V({svgRef:t},e))}));a.p;function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=r.a.createElement("path",{d:"M0 13.4583H15.8333V15.0417H0V13.4583ZM0 2.375L3.95833 4.75L7.91667 0L11.875 4.75L15.8333 2.375V11.875H0V2.375Z"}),G=function(e){var t=e.svgRef,a=e.title,n=M(e,["svgRef","title"]);return r.a.createElement("svg",q({width:16,height:16,viewBox:"0 0 16 16",ref:t},n),a?r.a.createElement("title",null,a):null,D)},F=r.a.forwardRef((function(e,t){return r.a.createElement(G,q({svgRef:t},e))}));a.p;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var z=r.a.createElement("path",{d:"M15 16H1C0.71875 16 0.481771 15.9036 0.289062 15.7109C0.0963542 15.5182 0 15.2812 0 15V5C0 4.72917 0.0963542 4.49479 0.289062 4.29688C0.481771 4.09896 0.71875 4 1 4H6V5C6 5.67708 6.1849 6.17969 6.55469 6.50781C6.92448 6.83594 7.40625 7 8 7C8.58333 7 9.0625 6.82812 9.4375 6.48438C9.8125 6.14062 10 5.64583 10 5V4H15C15.2708 4 15.5052 4.09896 15.7031 4.29688C15.901 4.49479 16 4.72917 16 5V15C16 15.2812 15.9036 15.5182 15.7109 15.7109C15.5182 15.9036 15.2812 16 15 16ZM5.5 12.5938V12.3125C6.5 11.9062 7 10.8021 7 9C7 8.34375 6.76823 7.84635 6.30469 7.50781C5.84115 7.16927 5.24219 7 4.50781 7C3.77344 7 3.17188 7.16927 2.70312 7.50781C2.23438 7.84635 2 8.34375 2 9C2 10.75 2.5 11.8438 3.5 12.2812V12.5938C2.78125 12.7188 2.1875 12.9531 1.71875 13.2969C1.25 13.6406 1.01042 14.0312 1 14.4688C1 14.5938 1.11198 14.6953 1.33594 14.7734C1.5599 14.8516 1.88802 14.9062 2.32031 14.9375C2.7526 14.9688 3.10938 14.987 3.39062 14.9922C3.67188 14.9974 4.04167 15 4.5 15C4.95833 15 5.32812 14.9974 5.60938 14.9922C5.89062 14.987 6.2474 14.9688 6.67969 14.9375C7.11198 14.9062 7.4401 14.8516 7.66406 14.7734C7.88802 14.6953 8 14.5938 8 14.4688C7.98958 14.0312 7.7526 13.6406 7.28906 13.2969C6.82552 12.9531 6.22917 12.7188 5.5 12.5938ZM13.5 9H9.5C9.36458 9 9.2474 9.04948 9.14844 9.14844C9.04948 9.2474 9 9.36458 9 9.5C9 9.63542 9.04948 9.7526 9.14844 9.85156C9.2474 9.95052 9.36458 10 9.5 10H13.5C13.6354 10 13.7526 9.95052 13.8516 9.85156C13.9505 9.7526 14 9.63542 14 9.5C14 9.36458 13.9505 9.2474 13.8516 9.14844C13.7526 9.04948 13.6354 9 13.5 9ZM9 11.5C9 11.6354 9.04948 11.7526 9.14844 11.8516C9.2474 11.9505 9.36458 12 9.5 12H11.5C11.6354 12 11.7526 11.9505 11.8516 11.8516C11.9505 11.7526 12 11.6354 12 11.5C12 11.3646 11.9505 11.2474 11.8516 11.1484C11.7526 11.0495 11.6354 11 11.5 11H9.5C9.36458 11 9.2474 11.0495 9.14844 11.1484C9.04948 11.2474 9 11.3646 9 11.5ZM13.5 13H9.5C9.36458 13 9.2474 13.0495 9.14844 13.1484C9.04948 13.2474 9 13.3646 9 13.5C9 13.6354 9.04948 13.7526 9.14844 13.8516C9.2474 13.9505 9.36458 14 9.5 14H13.5C13.6354 14 13.7526 13.9505 13.8516 13.8516C13.9505 13.7526 14 13.6354 14 13.5C14 13.3646 13.9505 13.2474 13.8516 13.1484C13.7526 13.0495 13.6354 13 13.5 13ZM9 2V5C9 5.28125 8.90104 5.51823 8.70312 5.71094C8.50521 5.90365 8.26823 6 7.99219 6C7.71615 6 7.48177 5.90365 7.28906 5.71094C7.09635 5.51823 7 5.28125 7 5V2C6.71875 2 6.48177 1.90365 6.28906 1.71094C6.09635 1.51823 6 1.28385 6 1.00781C6 0.731771 6.09635 0.494792 6.28906 0.296875C6.48177 0.0989583 6.71875 0 7 0H9C9.27083 0 9.50521 0.0989583 9.70312 0.296875C9.90104 0.494792 10 0.731771 10 1.00781C10 1.28385 9.90365 1.51823 9.71094 1.71094C9.51823 1.90365 9.28125 2 9 2Z"}),K=function(e){var t=e.svgRef,a=e.title,n=W(e,["svgRef","title"]);return r.a.createElement("svg",Z({width:16,height:16,viewBox:"0 0 16 16",ref:t},n),a?r.a.createElement("title",null,a):null,z)},Y=r.a.forwardRef((function(e,t){return r.a.createElement(K,Z({svgRef:t},e))}));a.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var $=r.a.createElement("path",{d:"M3.75 3.78947C3.75 5.87874 5.4325 7.57895 7.5 7.57895C9.5675 7.57895 11.25 5.87874 11.25 3.78947C11.25 1.70021 9.5675 0 7.5 0C5.4325 0 3.75 1.70021 3.75 3.78947ZM14.1667 16H15V15.1579C15 11.9082 12.3825 9.26316 9.16667 9.26316H5.83333C2.61667 9.26316 0 11.9082 0 15.1579V16H14.1667Z"}),X=function(e){var t=e.svgRef,a=e.title,n=Q(e,["svgRef","title"]);return r.a.createElement("svg",J({width:15,height:16,viewBox:"0 0 15 16",ref:t},n),a?r.a.createElement("title",null,a):null,$)},ee=r.a.forwardRef((function(e,t){return r.a.createElement(X,J({svgRef:t},e))})),te=(a.p,a(147)),ae=function(e){var t=e.imageURL,a=e.errorImage,n=e.classes;return r.a.createElement("img",{className:"custom image ".concat(n.join(" ")),alt:"",src:t,onError:function(e){e.target.src=a}})};ae.defaultProps={imageURL:"",errorImage:a.n(te).a,classes:[""]};var ne=ae,re=(a(214),function(e){var t=e.imageURL,a=e.username,n=e.children;return r.a.createElement("div",{className:"user-card"},r.a.createElement(ne,{classes:["user-avatar"],imageURL:t}),r.a.createElement("span",{className:"username"},a),r.a.createElement("div",{className:"user-buttons"},n))});re.defaltProps={children:null,imageURL:""};var ce=re,oe=(a(215),function(e){var t=e.username,a=e.userId,c=e.imageURL,o=e.userType,s=e.removeUser,i=e.changeUserRole,l=Object(n.useRef)(),u=Object(n.useRef)(),m=Object(n.useContext)(v),f=Object(d.a)(m,1)[0].currentBoard,p=function(){return"owner"===f.role||("admin"===f.role&&"owner"!==o&&"admin"!==o||void 0)},b=[{roleName:"Admin",role:"admin",icon:r.a.createElement(H,null)},{roleName:"Regular",role:"regular",icon:r.a.createElement(ee,null)},{roleName:"Guest",role:"guest",icon:r.a.createElement(Y,null)}];return r.a.createElement("div",{className:"board-user"},r.a.createElement(ce,{username:t,imageURL:c},r.a.createElement("div",{className:"user-type",ref:l},function(e){switch(e){case"owner":return r.a.createElement(F,{className:"owner-icon"});case"admin":return r.a.createElement(H,null);case"regular":return r.a.createElement(ee,null);case"guest":return r.a.createElement(Y,null);default:return null}}(o)),"owner"!==o&&p()&&r.a.createElement(L.a,{className:"option-more",ref:u}),"owner"!==o&&p()&&r.a.createElement(y,{classes:["user-roles"],anchorEl:l},b.filter((function(e){return e.role!==o})).map((function(e){var t=e.roleName,n=e.role,c=e.icon;return r.a.createElement("div",{key:n,onClick:function(){return i(a,n)}},c,r.a.createElement("span",null,t))}))),"owner"!==o&&p()&&r.a.createElement(y,{onClickClose:!0,classes:["user-option-menu"],anchorEl:u},r.a.createElement("span",{onClick:s},"remove"))))});oe.defaultProps={imageURL:""};var se=oe,ie=(a(216),a(148)),le=a.n(ie),ue=a(149),me=a.n(ue),de=function(e){var t=e.currentPage,a=e.amountOfPages,n=e.handleChange,c=function(){n(t-1)},o=function(){n(t+1)};return a<2?null:r.a.createElement("nav",{className:"pagination-container"},1!==t?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:c,className:" pagination-item arrow"},r.a.createElement(le.a,null)),r.a.createElement("div",{className:"three-dots ".concat(t-1===1?"hide":"")},"..."),r.a.createElement("button",{onClick:c,className:"pagination-item"},t-1)):r.a.createElement("div",{className:"empty"}),r.a.createElement("button",{className:"pagination-item current-page"},t),t!==a?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:o,className:"pagination-item"},t+1),r.a.createElement("div",{className:"three-dots ".concat(t+1===a?"hide":"")},"..."),r.a.createElement("button",{onClick:o,className:"pagination-item arrow"},r.a.createElement(me.a,null))):r.a.createElement("div",{className:"empty"}))},fe=(a(217),function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,o,s,l,m,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.method,r=t.token,c=t.payload,o=t.setLoading,s={},r&&(s={Authorization:localStorage.getItem("token")}),o&&o(!0),e.prev=4,e.next=7,i()({method:n,url:"/api".concat(a),data:c,headers:s});case 7:return l=e.sent,o&&o(!1),e.abrupt("return",{data:l.data,error:null,status:l.status});case 12:return e.prev=12,e.t0=e.catch(4),o&&o(!1),e.abrupt("return",{data:null,error:null===(m=e.t0.response)||void 0===m?void 0:m.data,status:null===(d=e.t0.response)||void 0===d?void 0:d.status});case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}());function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ve=r.a.createElement("circle",{cx:50,cy:50,fill:"none",stroke:"#1d0e0b",strokeWidth:10,r:35,strokeDasharray:"164.93361431346415 56.97787143782138"},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})),Ee=function(e){var t=e.svgRef,a=e.title,n=be(e,["svgRef","title"]);return r.a.createElement("svg",pe({style:{margin:"auto",background:"transparent",display:"block",shapeRendering:"auto"},width:"20px",height:"20px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t},n),a?r.a.createElement("title",null,a):null,ve)},ge=r.a.forwardRef((function(e,t){return r.a.createElement(Ee,pe({svgRef:t},e))})),he=(a.p,a(218),function(e){var t=e.show,a=e.opacity,c=e.classes,o=e.children,s=e.color,i=Object(n.useContext)(v),l=Object(d.a)(i,1)[0].theme,u=l?"255, 255, 255":"71, 74, 75";return s&&(u=l?s.light:s.dark),t?r.a.createElement("div",{className:"loading-overlay ".concat(c.join("")),style:{backgroundColor:"rgba(".concat(u,", ").concat(a,")")}},r.a.createElement(ge,{className:"loading-overlay-spinner"})):r.a.createElement("div",null,o)});he.defaultProps={show:!0,opacity:1,classes:[""],color:{light:"255, 255, 255",dark:"83, 86, 87"}};var Oe=he,je=function(e){var t=e.boardId,a=Object(n.useState)([]),c=Object(d.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)({currentPage:1,amountOfPages:1}),l=Object(d.a)(i,2),f=l[0],p=l[1],E=Object(n.useState)(!0),g=Object(d.a)(E,2),h=g[0],O=g[1],j=Object(n.useState)([]),y=Object(d.a)(j,2),k=y[0],w=y[1],x=Object(n.useContext)(v),N=Object(d.a)(x,1)[0].currentBoard;Object(n.useEffect)((function(){var e=!0;return function(){var a=Object(m.a)(u.a.mark((function a(){var n,r,c,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe({method:"GET",url:"/board/".concat(t,"/members?limit=").concat(5,"&page=").concat(f.currentPage),token:!0});case 2:n=a.sent,r=n.data,e&&O(!1),r&&e&&(c=r.totalPageCount,o=r.items,p((function(e){return Object(b.a)(Object(b.a)({},e),{},{amountOfPages:c})})),s(o));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){e=!1}}),[t,f.currentPage]);var S=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"GET",url:"/user/find_user?username=".concat(t),token:!0});case 2:a=e.sent,(n=a.data)&&(r=n.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{text:e.username})})),w(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"DELETE",url:"/board/".concat(t,"/members/").concat(a),token:!0});case 2:n=e.sent,n.data&&s((function(e){var t=Object(C.a)(e),n=t.findIndex((function(e){return e.id===a}));return t.splice(n,1),t}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w([]),e.next=3,fe({method:"PATCH",url:"/board/".concat(t,"/members?userId=").concat(a._id),token:!0});case 3:n=e.sent,n.data&&o.length<5&&s((function(e){var t=Object(C.a)(e);return t.push({user:a,role:"regular"}),t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(u.a.mark((function e(a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.findIndex((function(e){return e.user._id===a})),e.next=3,fe({method:"PATCH",url:"/board/".concat(t,"/members/").concat(a,"?newRole=").concat(n),token:!0});case 3:c=e.sent,200===c.status&&s((function(e){var t=Object(C.a)(e);return t[r].role=n,t}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"board-members-modal"},function(){var e=N.role;return"owner"===e||"admin"===e}()&&r.a.createElement(P,{execMethod:S,timeout:500,searchResult:k.filter((function(e){var t=e._id;return o.findIndex((function(e){return e.user._id===t}))<0})),clickResult:R,clearResults:function(){w([])}}),r.a.createElement(Oe,{show:h,opacity:0},r.a.createElement("div",{className:"user-container"},o.map((function(e){var t=e.user,a=e.role;return r.a.createElement(se,{key:t._id,removeUser:function(){return I(t._id)},userId:t._id,username:t.username,imageURL:t.avatarImageURL,userType:a,changeUserRole:T})})))),r.a.createElement(de,{amountOfPages:f.amountOfPages,currentPage:f.currentPage,handleChange:function(e){p((function(t){return Object(b.a)(Object(b.a)({},t),{},{currentPage:e})}))}}))},ye=a(8),ke=(a(219),a(18)),we=(a(221),function(e){var t=e.children,a=e.classes,n=e.clicked,c=e.type,o=e.disabled,s=e.refEl;return r.a.createElement("button",{ref:s,disabled:o,type:c,onClick:n,className:"btn-primary ".concat(a.join(" "))},t)});we.defaultProps={classes:[""],clicked:null,type:"button",disabled:!1,refEl:void 0};var Ce=we,xe=a(326),Ne=(a(222),function(e){var t=e.hasErrors,a=e.helperText,n=e.label,c=e.name,o=e.type,s=e.multiline,i=e.onChange,l=e.value,u=e.classes;return r.a.createElement(xe.a,{onChange:i,value:l,className:"workflow-textfield ".concat(u.join(" ")),error:t,helperText:a,label:n.length>0?n:c,name:c,type:o,variant:"standard",multiline:!!s,rows:null===s||void 0===s?void 0:s.rows,rowsMax:null===s||void 0===s?void 0:s.max,margin:"dense"})});Ne.defaultProps={hasErrors:!1,helperText:"",label:"",type:"text",multiline:void 0,onChange:void 0,value:"",classes:[]};var Se=Ne,Ie=function(e){var t={};return Object.keys(e).forEach((function(a){t[a]=e[a].initialVal})),t},Re=function(e){var t=e.submitButtonName,a=e.validationSchema,n=e.handleSubmit,c=e.fields,o=e.classes,s=e.loadingOverlayColor;return r.a.createElement("div",{className:"simple-form-container ".concat(o.join(" "))},r.a.createElement(ke.c,{validationSchema:a,initialValues:Ie(c),onSubmit:n},(function(e){var a=e.isSubmitting,n=e.isValid,o=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{show:a,opacity:.5,color:s}),r.a.createElement(ke.b,null,Object.entries(c).map((function(e){var t=Object(d.a)(e,1)[0];return r.a.createElement(ke.a,{key:t,hasErrors:!!o[t],helperText:o[t],label:c[t].label,name:t,type:c[t].type,as:Se})})),r.a.createElement(Ce,{classes:["btn-accent","btn-submit"],type:"submit",disabled:a||!n},t)))})))};Re.defaultProps={validationSchema:ye.a({}),submitButtonName:"Submit",classes:[""],loadingOverlayColor:void 0};var Pe=Re,Te=Object(n.createContext)(),Le={render:"",title:"",show:!1},Ve=function(e,t){var a=t.type,n=t.payload;switch(a){case"OPEN":return{render:n.render,title:n.title,show:!0};case"CLOSE":return{render:"",title:"",show:!1};default:return e}},_e=function(e){var t=e.children,a=Object(n.useReducer)(Ve,Le),c=Object(d.a)(a,2),o=c[0],s=c[1];return r.a.createElement(Te.Provider,{value:[o,s]},t)},Ae=ye.a({newPassword:ye.c().min(5,"must be at least 5 characters").required("field is required"),matchPassword:ye.c().oneOf([ye.b("newPassword")],"password does not match").required("Password confirm is required")}),Be={newPassword:{initialVal:"",type:"password",label:"new password"},matchPassword:{initialVal:"",type:"password",label:"match password"}},Ue=function(){var e=Object(n.useContext)(Te),t=Object(d.a)(e,2)[1],a=function(){var e=Object(m.a)(u.a.mark((function e(a,n){var r,c,o,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,c=n.setErrors,e.next=3,fe({method:"PATCH",url:"/user/change_password",token:!0,setLoading:r,payload:a});case 3:o=e.sent,s=o.data,i=o.error,s?t({type:"CLOSE"}):i&&c(i.message);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"change-password-modal"},r.a.createElement(Pe,{submitButtonName:"change password",validationSchema:Ae,handleSubmit:a,fields:Be}))},He=ye.a({imageLink:ye.c().url().required("image link is required")}),qe={imageLink:{initialVal:"",type:"text",label:"avatar image URL"}},Me=function(e){var t=e.changeProfilePic,a=Object(n.useContext)(Te),c=Object(d.a)(a,2)[1],o=function(){var e=Object(m.a)(u.a.mark((function e(a,n){var r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,fe({method:"PATCH",url:"/user/change_avatar",token:!0,setLoading:r,payload:{imageURL:a.imageLink}});case 3:o=e.sent,o.data&&(c({type:"CLOSE"}),t(a.imageLink));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"change-profile-picture-modal"},r.a.createElement(Pe,{submitButtonName:"update",validationSchema:He,handleSubmit:o,fields:qe}))},De=(a(223),ye.a({username:ye.c().max(25,"username is too long").required("field is required"),password:ye.c().min(5,"must be at least 5 characters").required("field is required")})),Ge={username:{initialVal:"",type:"text"},password:{initialVal:"",type:"password"}},Fe=function(){var e=Object(n.useContext)(v),t=Object(d.a)(e,2)[1],a=Object(n.useContext)(Te),c=Object(d.a)(a,2)[1],o=function(){var e=Object(m.a)(u.a.mark((function e(a,n){var r,o,s,i,l,m,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,o=n.setErrors,e.next=3,fe({method:"POST",url:"/login",setLoading:r,payload:a});case 3:s=e.sent,i=s.data,l=s.error,i?(m=i.token,d=i.user,t({type:"LOGIN_SUCCESS",payload:{user:d,token:m}}),c({type:"CLOSE"})):l&&o({username:"bad username",password:"bad password"});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"simple-form-container login-form"},r.a.createElement(Pe,{submitButtonName:"LogIn",validationSchema:De,handleSubmit:o,fields:Ge}))},Ze=(a(224),a(19)),We=Object(n.createContext)(),ze={type:"SUCCESS",message:"",show:!1},Ke=function(e,t){var a=t.type,n=t.payload;switch(a){case"SUCCESS":return{type:"SUCCESS",message:n.message,show:!0};case"WARNING":return{type:"WARNING",message:n.message,show:!0};case"ERROR":return{type:"ERROR",message:n.message,show:!0};case"CLOSE":return Object(b.a)(Object(b.a)({},e),{},{show:!1});default:return e}},Ye=function(e){var t=e.children,a=Object(n.useReducer)(Ke,ze),c=Object(d.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){var e=function(){s({type:"CLOSE"})};return o.show?setTimeout(e,5e3):clearTimeout(e),function(){clearTimeout(e)}}),[o.show]),r.a.createElement(We.Provider,{value:[o,s]},t)},Je=ye.a({name:ye.c().max(25,"board name is too long").required("field is required"),description:ye.c().max(400,"description is too long")}),Qe=function(e){var t=e.boardId,a=e.submitType,c=Object(n.useContext)(Te),o=Object(d.a)(c,2)[1],s=Object(n.useContext)(We),i=Object(d.a)(s,2)[1],l=Object(n.useState)(!1),f=Object(d.a)(l,2),p=f[0],b=f[1],v=Object(n.useState)({name:"",description:""}),E=Object(d.a)(v,2),g=E[0],h=E[1],O=Object(Ze.g)();Object(n.useEffect)((function(){return"Update"===a&&function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fe({method:"GET",url:"/board/".concat(t,"?short=true"),token:!0});case 3:a=e.sent,(n=a.data)&&(r=n.name,c=n.description,h({name:r,description:c}),b(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[t,a]);var j=function(){var e=Object(m.a)(u.a.mark((function e(a,n){var r,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,fe({method:"POST",url:"/board/".concat(t||""),token:!0,setLoading:r,payload:a});case 3:c=e.sent,(s=c.data)&&(o({type:"CLOSE"}),l=s.board._id,i({type:"SUCCESS",payload:{message:s.message}}),O.push("/board/".concat(l)));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"board-form-container-wrapper"},r.a.createElement(Oe,{show:p,opacity:0},r.a.createElement("div",{className:"board-form-container"},r.a.createElement(ke.c,{validationSchema:Je,initialValues:g,onSubmit:j},(function(e){var t=e.isSubmitting,n=e.isValid,c=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{show:t,opacity:.5}),r.a.createElement(ke.b,null,r.a.createElement("div",{className:"fields"},r.a.createElement(ke.a,{className:"board-name-input",label:"board name",name:"name",hasErrors:!!c.name,helperText:c.name,classes:["board-name-field"],as:Se}),r.a.createElement(ke.a,{name:"description",classes:["board-description-field"],multiline:{rows:7,max:7},hasErrors:!!c.description,helperText:c.description,as:Se})),r.a.createElement(Ce,{disabled:t||!n,classes:["btn-accent","btn-submit"],type:"submit"},a)))})))))},$e=(a(226),ye.a({name:ye.c().max(25,"name is too long").required("field is required"),surname:ye.c().max(25,"surname is too long").required("field is required")})),Xe={name:"text",surname:"text"},et=function(e){var t=e.changeFieldVals,a=e.initialFieldValues,n=e.changeStage;return r.a.createElement(ke.c,{validationSchema:$e,initialValues:function(){var e={};return Object.keys(Xe).forEach((function(t){return e[t]=a[t]})),e}(),onSubmit:function(e){t(e),n(2)}},(function(e){var t=e.isValid,a=e.errors;return r.a.createElement(ke.b,null,Object.entries(Xe).map((function(e){var t=Object(d.a)(e,2),n=t[0],c=t[1];return r.a.createElement(ke.a,{key:n,hasErrors:!!a[n],helperText:a[n],label:n,name:n,type:c,as:Se})})),r.a.createElement(Ce,{classes:["register-stage-controll-btn stage-next"],disabled:!t,type:"submit"},"Next"))}))},tt=ye.a({email:ye.c().email().required("field is required"),username:ye.c().min(3,"username is too short").max(25,"username is too long").required("field is required"),password:ye.c().min(5,"must be at least 5 characters").required("field is required"),matchPassword:ye.c().oneOf([ye.b("password")],"password does not match").required("Password confirm is required")}),at={email:"email",username:"text",password:"password",matchPassword:"password"},nt=function(e){var t=e.initialFieldValues,a=e.changeStage,c=Object(n.useContext)(Te),o=Object(d.a)(c,2)[1],s=Object(n.useContext)(We),i=Object(d.a)(s,2)[1],l=function(){a((function(e){return e-1}))},f=function(){var e=Object(m.a)(u.a.mark((function e(a,n){var r,c,s,l,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setErrors,c=n.setSubmitting,e.next=3,fe({method:"POST",url:"/register",setLoading:c,payload:Object(b.a)(Object(b.a)({},t),a)});case 3:s=e.sent,l=s.error,201===(m=s.status)?(i({type:"SUCCESS",payload:{message:"successfuly registered!"}}),o({type:"CLOSE"})):500===m&&i({type:"WARNING",payload:{message:"server error"}}),l&&r(l.message);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.c,{validationSchema:tt,initialValues:function(){var e={};return Object.keys(at).forEach((function(a){return e[a]=t[a]})),e}(),onSubmit:f},(function(e){var t=e.isSubmitting,a=e.isValid,n=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{show:t,opacity:.5}),r.a.createElement(ke.b,null,Object.entries(at).map((function(e){var t=Object(d.a)(e,2),a=t[0],c=t[1];return r.a.createElement(ke.a,{key:a,hasErrors:!!n[a],helperText:n[a],label:a,name:a,type:c,as:Se})})),r.a.createElement(Ce,{classes:["register-stage-controll-btn stage-back"],clicked:l},"Go back"),r.a.createElement(Ce,{classes:["btn-accent"],disabled:!a,type:"submit"},"Finish")))})))},rt=function(){var e=Object(n.useState)(1),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({username:"",password:"",matchPassword:"",email:"",name:"",surname:""}),s=Object(d.a)(o,2),i=s[0],l=s[1];return r.a.createElement("div",{className:"register-form"},1===a&&r.a.createElement(et,{changeFieldVals:function(e){l((function(t){return Object(b.a)(Object(b.a)({},t),e)}))},initialFieldValues:i,changeStage:c}),2===a&&r.a.createElement(nt,{changeStage:c,initialFieldValues:i}))},ct=a(153),ot=a.n(ct),st=a(154),it=a.n(st),lt=a(97),ut=a.n(lt);a(227),a(228);function mt(e){var t=e.classes,a=e.children,c=e.anchorEl,o=e.offset,s=Object(n.useState)(!1),i=Object(d.a)(s,2),l=i[0],u=i[1],m=Object(n.useState)({left:0,top:0}),f=Object(d.a)(m,2),b=f[0],E=f[1],g=Object(n.useRef)(),h=Object(n.useContext)(v),O=Object(d.a)(h,1)[0].theme;return Object(n.useEffect)((function(){var e=0,t=function(){e=setTimeout((function(){u(!0);var e=c.current.getBoundingClientRect(),t=g.current.getBoundingClientRect().width;E({left:e.x+e.width/2-t/2+o.x,top:e.y+30+o.y})}),500)},a=function(){e&&clearTimeout(e),u(!1)},n=c.current;return n.addEventListener("mouseenter",t),n.addEventListener("mouseleave",a),function(){e&&clearTimeout(e),n.removeEventListener("mouseenter",t),n.removeEventListener("mouseleave",a)}}),[o,c]),l?r.a.createElement(p,{mountTo:"root-menu"},r.a.createElement("div",{ref:g,style:{top:b.top,left:b.left},className:"tool-tip-wrapper ".concat(O?"theme-light":"theme-dark"," ").concat(t.join(" "))},a)):null}mt.defaultProps={classes:[""],offset:{x:0,y:0}};var dt=mt,ft=function(e){var t=e.clicked,a=e.showIcon,c=e.color,o=e.name,s=e.selected,i=Object(n.useRef)();return r.a.createElement("div",{className:"color-tile-wrapper"},r.a.createElement("button",{type:"button",onClick:t,className:"color-tile ".concat(c," ").concat(s?"selected":""),ref:i},a&&r.a.createElement(ut.a,null)),o&&r.a.createElement(dt,{offset:{x:0,y:20},anchorEl:i},r.a.createElement("span",null,o)))},pt=(a(229),["red","yellow","green","tiel","purple","majenta","pink","black","white"]),bt=function(e){var t=[];return pt.forEach((function(a){var n=e.find((function(e){return e.colorCode===a}));void 0===n?t.push({id:"",color:a,name:""}):t.push({id:n._id,color:a,name:n.name})})),t},vt=function(e){var t=e.boardId,a=Object(n.useState)(""),c=Object(d.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(""),l=Object(d.a)(i,2),f=l[0],p=l[1],b=Object(n.useState)([]),E=Object(d.a)(b,2),g=E[0],h=E[1],O=Object(n.useState)(!0),j=Object(d.a)(O,2),y=j[0],k=j[1],w=Object(n.useContext)(v),x=Object(d.a)(w,1)[0].currentBoard;Object(n.useEffect)((function(){var e=!0;return function(){var a=Object(m.a)(u.a.mark((function a(){var n,r,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe({method:"GET",url:"/board/".concat(t,"/tag/"),token:!0});case 2:n=a.sent,r=n.data,e&&k(!1),r&&e&&(c=r.tags,h(bt(c)));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){e=!1}}),[t]);var N=function(){return"admin"===x.role||"owner"===x.role},S=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===f||""===o){e.next=11;break}return a=g.findIndex((function(e){return e.color===f})),n="",r="",r=""===g[a].id?"/board/".concat(t,"/tag"):"/board/".concat(t,"/tag/").concat(g[a].id),e.next=7,fe({method:"POST",url:r,token:!0,payload:{name:o,colorCode:f}});case 7:c=e.sent,(s=c.data)&&(n=s.tag._id),""!==n&&h((function(e){var t=Object(C.a)(e);return t[a].name=o,t[a].id=n,t}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===f||""===o){e.next=7;break}return a=g.findIndex((function(e){return e.color===f})),e.next=4,fe({method:"DELETE",url:"/board/".concat(t,"/tag/").concat(g[a].id),token:!0});case 4:n=e.sent,200===n.status&&h((function(e){var t=Object(C.a)(e);return t[a].name="",t[a].id="",s(""),p(""),t}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"tag-form-wrapper"},r.a.createElement(Oe,{show:y,opacity:0},r.a.createElement("div",{className:"tag-form"},N()&&r.a.createElement("div",{className:"tag-name-input-wrappper"},r.a.createElement(Se,{onChange:function(e){var t=e.target.value.replace(/\n/g,"");t.length<=30&&s(t)},label:"tag name",name:"tagName",type:"text",value:o}),r.a.createElement(Ce,{classes:["check-btn"],disabled:!o||!f,clicked:S},r.a.createElement(ot.a,null)),r.a.createElement(Ce,{disabled:function(){var e=g.findIndex((function(e){return e.color===f}));return!(e>-1)||""===g[e].id}(),clicked:I},r.a.createElement(it.a,null))),r.a.createElement("div",{className:"tag-color-container"},g.map((function(e,t){var a=e.color,n=e.id,c=e.name;return r.a.createElement(ft,{key:a,clicked:function(){return function(e){N()&&(s(g[e].name),p(g[e].color))}(t)},selected:f===a,showIcon:""!==n,color:a,name:c})}))))))},Et=(a(230),a(231),function(e){var t=e.colorCode,a=e.tagName,n=e.deleteTag;return r.a.createElement("div",{className:"filter-tag ".concat(t)},r.a.createElement("span",{className:"tag-name"},a),void 0!==n&&r.a.createElement(I.a,{className:"delete-tag",onClick:n}))});Et.defaultProps={deleteTag:void 0};var gt=Et,ht=(a(232),a(155)),Ot=a.n(ht);console.log("production"),console.log("http://localhost:8080"),console.log("/");var jt=Ot.a.connect("/"),yt=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.roomId,n=t.eventName,r=t.token,c=t.payload,o=t.res,s=void 0,r&&(s=localStorage.getItem("token")),jt.emit(n,{roomId:a,token:s,payload:c},o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(e){var t=e.availableTags,a=e.chosenBoardTags,c=e.removeTagFromList,o=e.addTagToList,s=Object(n.useRef)();return r.a.createElement("div",{className:"list-of-tags"},r.a.createElement(Ce,{refEl:s},"Choose Tags"),r.a.createElement(y,{offset:{x:-102,y:35},scrollableAt:160,anchorEl:s,classes:["tag-drop-down"]},t.filter((function(e){var t=e._id;return a.findIndex((function(e){return e._id===t}))<0})).map((function(e,t){var a=e._id,n=e.colorCode,c=e.name;return r.a.createElement("div",{key:a,onClick:function(){return o(a)},className:"tag-item ".concat(n)},c)}))),r.a.createElement("div",{className:"chosen-tags-container"},a.map((function(e,t){var a=e._id,n=e.colorCode,o=e.name;return r.a.createElement(gt,{key:a,deleteTag:function(){return c(t)},tagName:o,colorCode:n})}))))},wt=a(156),Ct=a.n(wt),xt=function(e){var t=e.users,a=e.setUsers,c=e.boardId,o=Object(n.useState)([]),s=Object(d.a)(o,2),i=s[0],l=s[1],f=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"GET",url:"/board/".concat(c,"/members?username=").concat(a),token:!0});case 2:n=e.sent,r=n.data,l(r.filter((function(e){var a=e.user;return t.findIndex((function(e){return e._id===a._id}))<0})).map((function(e){var t=e.user;return Object(b.a)(Object(b.a)({},t),{},{text:t.username})})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"user-container"},r.a.createElement(P,{execMethod:f,timeout:700,searchResult:i,clickResult:function(e){a((function(t){var a=Object(C.a)(t);return a.push(e),a})),l([])},clearResults:function(){l([])}}),r.a.createElement("div",{className:"user-card-container ".concat(t.length>4?"overflow-scroll":"")},t.map((function(e,t){var n=e._id,c=e.username,o=e.avatarImageURL;return r.a.createElement(ce,{key:n,username:c,imageURL:o},r.a.createElement(Ct.a,{className:"remove-user-icon",onClick:function(){return e=t,void a((function(t){var a=Object(C.a)(t);return a.splice(e,1),a}));var e}}))}))))},Nt=ye.a({title:ye.c().max(100,"task title is too long").required("field is required"),description:ye.c().max(500,"description is too long")}),St=function(e){var t=e.buttonName,a=e.action,c=e.updateTask,o=e.initialValues,s=e.boardId,i=e.taskId,l=e.columnId,f=Object(n.useContext)(Te),p=Object(d.a)(f,2)[1],v=Object(n.useContext)(We),E=Object(d.a)(v,2)[1],g={title:o?o.name:"",description:o?o.description:""},h=Object(n.useState)(o?Object(C.a)(o.people):[]),O=Object(d.a)(h,2),j=O[0],y=O[1],k=Object(n.useState)([]),w=Object(d.a)(k,2),x=w[0],N=w[1],S=Object(n.useState)(o?Object(C.a)(o.tags):[]),I=Object(d.a)(S,2),R=I[0],P=I[1];Object(n.useEffect)((function(){return function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"GET",url:"/board/".concat(s,"/tag"),token:!0});case 2:t=e.sent,(a=t.data)&&N(a.tags);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[s]);var T=function(){var e=Object(m.a)(u.a.mark((function e(t,n){var r,o,m,d,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setSubmitting,o=Object(b.a)(Object(b.a)({},t),{},{people:j.map((function(e){return e._id})),tags:R.map((function(e){return e._id}))}),"CREATE"!==a){e.next=6;break}yt({roomId:s,eventName:"createTask",token:!0,payload:Object(b.a)(Object(b.a)({},o),{},{columnId:l}),res:function(e){e.success?(E({type:"SUCCESS",payload:{message:"new task created"}}),p({type:"CLOSE"})):e.error&&E({type:"ERROR",payload:{message:"error - while creating new task"}})}}),e.next=13;break;case 6:if("UPDATE"!==a){e.next=13;break}return e.next=9,fe({method:"POST",url:"/board/".concat(s,"/task/").concat(i),token:!0,setLoading:r,payload:o});case 9:m=e.sent,d=m.data,f=m.error,d?(E({type:"SUCCESS",payload:{message:"successfuly updated task"}}),c(d.task)):f&&E({type:"ERROR",payload:{message:"error - while updating new task"}});case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(e){var t=x.find((function(t){return t._id===e}));P((function(e){var a=Object(C.a)(e);return a.push(t),a}))},V=function(e){P((function(t){var a=Object(C.a)(t);return a.splice(e,1),a}))};return r.a.createElement("div",{className:"new-task-container"},r.a.createElement(ke.c,{validationSchema:Nt,initialValues:g,onSubmit:T},(function(e){var a=e.isSubmitting,n=e.isValid,c=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{opacity:.5,show:a}),r.a.createElement(ke.b,null,r.a.createElement("div",{className:"fields"},r.a.createElement(ke.a,{className:"new-task-input",label:"task title",name:"title",hasErrors:!!c.title,helperText:c.title,classes:["board-name-field"],as:Se}),r.a.createElement(ke.a,{classes:["board-description-field"],name:"description",hasErrors:!!c.description,helperText:c.description,multiline:{rows:7,max:7},as:Se})),r.a.createElement(xt,{users:j,setUsers:y,boardId:s}),r.a.createElement(kt,{availableTags:x,chosenBoardTags:R,removeTagFromList:V,addTagToList:L}),r.a.createElement(Ce,{disabled:a||!n,classes:["btn-accent btn-submit"],type:"submit"},t)))})))},It=function(e){var t=e.taskId,a=e.updateTask,c=Object(n.useContext)(Te),o=Object(d.a)(c,2)[1],s=Object(n.useContext)(We),i=Object(d.a)(s,2)[1],l=Object(n.useContext)(v),f=Object(d.a)(l,1)[0],p=f.currentBoard,b=f.user,E=Object(Ze.g)(),g=Object(n.useState)({title:"",description:"",tags:[],taskAuthor:{_id:"loading",username:"loading"},peopleAssigned:[]}),h=Object(d.a)(g,2),O=h[0],j=h[1],y=Object(n.useState)(!0),k=Object(d.a)(y,2),w=k[0],C=k[1];Object(n.useEffect)((function(){var e=!0;return function(){var a=Object(m.a)(u.a.mark((function a(){var n,r,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe({method:"GET",url:"/board/".concat(p.id,"/task/").concat(t),token:!0});case 2:n=a.sent,r=n.data,c=n.status,e&&C(!1),400===c?(i({type:"WARNING",payload:{message:"Task not found"}}),o({type:"CLOSE"})):r&&e&&(E.push({search:"?task=".concat(t)}),j({title:r.task.title,description:r.task.description,tags:r.task.tags,taskAuthor:r.task.author,peopleAssigned:r.task.people}));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){E.push({search:""}),e=!1}}),[p.id,t,E,o,i]);var x=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("are you sure you want to delete this task?")&&yt({roomId:p.id,eventName:"deleteTask",token:!0,payload:{taskId:t},res:function(e){e.success&&o({type:"CLOSE"})}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"display-task-wrapper"},r.a.createElement(Oe,{show:w,opacity:0},r.a.createElement("div",{className:"display-task"},r.a.createElement("div",{className:"text-details"},function(){var e=p.role;return"guest"!==e&&(O.taskAuthor._id===b._id||"owner"===e||"admin"===e)}()&&r.a.createElement("div",{className:"info-header"},r.a.createElement(Ce,{classes:["edit-btn delete-btn"],clicked:x},"delete"),r.a.createElement(Ce,{classes:["edit-btn"],clicked:function(){o({type:"OPEN",payload:{title:"Edit Task",render:r.a.createElement(St,{buttonName:"Update",updateTask:a,boardId:p.id,taskId:t,action:"UPDATE",initialValues:{name:O.title,description:O.description,tags:O.tags,people:O.peopleAssigned}})}})}},"edit")),r.a.createElement("h1",{className:"task-title"},O.title),r.a.createElement("p",{className:"task-description"},O.description),r.a.createElement("div",{className:"tag-container"},O.tags.map((function(e){var t=e._id,a=e.colorCode,n=e.name;return r.a.createElement(gt,{key:t,colorCode:a,tagName:n})})))),r.a.createElement("div",{className:"people-details"},r.a.createElement("h2",{className:"added-by user-title"},"Task Author"),r.a.createElement(ce,{username:O.taskAuthor.username,imageURL:O.taskAuthor.avatarImageURL}),r.a.createElement("h2",{className:"assigned-people-title user-title"},"People"),r.a.createElement("div",{className:"assigned-people-container"},O.peopleAssigned.map((function(e){var t=e._id,a=e.username,n=e.avatarImageURL;return r.a.createElement(ce,{key:t,username:a,imageURL:n})})))))))},Rt=function(){var e=Object(n.useContext)(Te),t=Object(d.a)(e,2)[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{navName:"Login",clicked:function(){t({type:"OPEN",payload:{render:r.a.createElement(Fe,null),title:"Login"}})}}),r.a.createElement(w,{navName:"Register",clicked:function(){t({type:"OPEN",payload:{render:r.a.createElement(rt,null),title:"Register"}})}}))},Pt=(a(261),a(158)),Tt=a.n(Pt),Lt=a(157),Vt=a.n(Lt),_t=function(e){var t=e.toggle,a=e.isOn;return r.a.createElement("div",{onClick:t,className:"switch-button ".concat(a?"switch-on":"")},r.a.createElement("div",{className:"circle"},a?r.a.createElement(Vt.a,null):r.a.createElement(Tt.a,null)))},At=a(98),Bt=a.n(At),Ut=(a(262),function(e){var t=e.boardTitle,a=e.message,n=e.url,c=e.removeNotification,o=Object(Ze.g)(),s=function(e,t){return e.length>t?"".concat(e.substring(0,t-3),"..."):e};return r.a.createElement("div",{className:"notification"},r.a.createElement("div",{onClick:function(){c(),n&&o.push(n)},className:"notification-body"},r.a.createElement("h2",null,s(t,22)),r.a.createElement("span",null,s(a,55))),r.a.createElement(Bt.a,{onClick:c}))});Ut.defaultProps={url:void 0};var Ht=Ut,qt=a(160),Mt=a.n(qt),Dt=a(159),Gt=a.n(Dt),Ft=a(161),Zt=a.n(Ft),Wt=a(325),zt=a(36),Kt=function(){var e=Object(Ze.g)(),t=Object(n.useContext)(v),a=Object(d.a)(t,2),c=a[0],o=c.user,s=c.theme,i=a[1],l=Object(n.useState)([]),f=Object(d.a)(l,2),p=f[0],b=f[1],E=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({url:"/notification",token:!0,method:"GET"});case 2:t=e.sent,(a=t.data)&&b(a.notifications);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return E(),function(){}}),[]);var g=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({url:"/notification/".concat(p[t]._id),token:!0,method:"DELETE"});case 2:a=e.sent,a.status&&b((function(e){var a=Object(C.a)(e);return a.splice(t,1),a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_t,{toggle:function(){i({type:"THEME_TOGGLE"})},isOn:!s}),r.a.createElement(w,{clicked:function(){e.push("/")},icon:r.a.createElement(Gt.a,null)}),r.a.createElement(w,{offset:{x:-60,y:10},icon:r.a.createElement(Mt.a,null),navName:o.username,classes:["profile-nav"]},r.a.createElement(zt.b,{to:"/profile"},"Profile"),r.a.createElement("button",{className:"logout-btn",onClick:function(){i({type:"LOGOUT"})}},"logout")),r.a.createElement(w,{clicked:E,offset:{x:-20,y:10},classes:["notification-nav"],dropDownScrollableAt:400,dropDownOnClickClose:!1,icon:r.a.createElement(Wt.a,{color:"secondary",variant:"dot",invisible:p.length<1},r.a.createElement(Zt.a,null))},p.map((function(e,t){var a=e._id,n=e.title,c=e.info,o=e.url;return r.a.createElement(Ht,{key:a,message:c,boardTitle:n,url:o,removeNotification:function(){return g(t)}})}))))},Yt=function(e){var t=e.isAuth;return r.a.createElement("nav",{className:"navbar"},t?r.a.createElement(Kt,null):r.a.createElement(Rt,null))};Yt.defaultProps={isAuth:!1};var Jt=Yt,Qt=(a(263),a(264),function(e){var t=e.show,a=e.clicked;return r.a.createElement("div",{onClick:a,role:"presentation",className:t?"backdrop backdrop-open":"backdrop"})});Qt.defaultProps={clicked:void 0};var $t=Qt,Xt=function(){var e=Object(n.useContext)(Te),t=Object(d.a)(e,2),a=t[0],c=a.show,o=a.title,s=a.render,i=t[1],l=Object(n.useContext)(v),u=Object(d.a)(l,1)[0].theme,m=function(){i({type:"CLOSE"})},f=document.getElementsByTagName("body")[0];return c?(f.style.overflowY="hidden",window.scrollTo(0,0)):f.style.overflowY="auto",c?r.a.createElement(p,{mountTo:"root-modal"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-container ".concat(u?"theme-light":"theme-dark")},r.a.createElement("div",{className:"modal modal-open"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",{className:"modal-title"},o),r.a.createElement(Bt.a,{onClick:m,className:"close"})),r.a.createElement("div",{className:"modal-body"},s))),r.a.createElement($t,{show:c,clicked:m}))):null},ea=(a(265),a(266),a(162)),ta=a.n(ea),aa=a(163),na=a.n(aa),ra=a(164),ca=a.n(ra),oa=a(165),sa=a.n(oa),ia=function(){var e=Object(n.useContext)(Te),t=Object(d.a)(e,2)[1],a=Object(n.useContext)(v),c=Object(d.a)(a,1)[0].theme;return r.a.createElement("div",{className:"welcome-section"},r.a.createElement("section",{className:"introduction-section"},r.a.createElement("img",{src:ta.a,alt:"person-task",className:"person-image ".concat(c?"":"hide")}),r.a.createElement("img",{src:na.a,alt:"person-task",className:"person-image ".concat(c?"hide":"")}),r.a.createElement("div",{className:"text-subsection"},r.a.createElement("h1",null,"Work-Flow"),r.a.createElement("h2",null,"work more collaboratively and get more done."),r.a.createElement("p",null,"Work-Flow is a web-based Kanban-style list making application used to manage work at personal or organizational level. Using this application organizing your work will be easy."),r.a.createElement(Ce,{clicked:function(){t({type:"OPEN",payload:{render:r.a.createElement(rt,null),title:"Register"}})},classes:["btn-accent join-now"]},"Join us Now"))),r.a.createElement("section",{className:"task-column-section"},r.a.createElement("div",{className:"task-text"},r.a.createElement("h1",null,"Tasks"),r.a.createElement("h2",null,"Create tasks and assign them to your teammates - add custom tags to differentiate tasks at a glance")),r.a.createElement("img",{src:ca.a,alt:"task-columns",className:"task-columns-img ".concat(c?"":"hide")}),r.a.createElement("img",{src:sa.a,alt:"task-columns",className:"task-columns-img ".concat(c?"hide":"")})))},la=a(40),ua=(a(267),a(166)),ma=a.n(ua),da=(a(268),function(e){var t=e.text,a=e.children,c=e.isOpen,o=e.classes,s=Object(n.useState)(c),i=Object(d.a)(s,2),l=i[0],u=i[1];return r.a.createElement("div",{className:"expand-text-container ".concat(o.join(" "))},r.a.createElement("div",{className:"expand-text-header"},r.a.createElement("h2",{className:"text-title"},t),""!==a.props.children&&r.a.createElement(ma.a,{onClick:function(){u((function(e){return!e}))},className:"".concat(l?"open":"")})),r.a.createElement("div",{className:"expand-content ".concat(l?"":"close")},a))});da.defaultProps={classes:[""],isOpen:!1};var fa=da,pa=(a(269),a(168)),ba=a.n(pa),va=(a(270),Object(n.createContext)()),Ea=function(e){var t=e.values,a=e.children;return r.a.createElement(va.Provider,{value:t},a)},ga=function(e){var t=e.taskId,a=e.title,c=e.indexes,o=e.tags,s=e.people,i=Object(n.useContext)(Te),l=Object(d.a)(i,2)[1],u=Object(n.useContext)(va),m=Object(d.a)(u,2)[1],f=Object(n.useContext)(v),p=Object(d.a)(f,1)[0].currentBoard,E=Object(n.useRef)(),g=Object(n.useRef)(),h=c.taskIndex,O=c.columnIndex,j=function(e){m((function(t){var a=Object(C.a)(t);return a[O].tasks[h]=e,a})),l({type:"CLOSE"})},y=function(){l({type:"OPEN",payload:{render:r.a.createElement(It,{taskId:t,updateTask:j}),title:"Task Details"}})};return r.a.createElement(la.b,{draggableId:t,index:h,isDragDisabled:"guest"===p.role},(function(e,t){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:"task-card ".concat(t.isDragging?"isDragging":""),onClick:y,style:Object(b.a)({},e.draggableProps.style)}),r.a.createElement("h3",{className:"task-title"},a),r.a.createElement("div",{className:"card-bottom"},r.a.createElement("div",{className:"task-tags"},r.a.createElement("div",{className:"tags",ref:g},o&&o.map((function(e){var t=e.colorCode,a=e._id;return r.a.createElement("div",{key:a,className:"tag-mini ".concat(t)})})))),r.a.createElement(dt,{anchorEl:g},o&&o.map((function(e){var t=e._id,a=e.name;return r.a.createElement("span",{key:t},a)}))),r.a.createElement("div",{className:"task-people",ref:E},s&&function(e){var t=e.length,a=[];return a=t>3?e.slice(0,3):e,r.a.createElement("div",{className:"task-user-wrapper"},a.map((function(e){var t=e._id,a=e.avatarImageURL;return r.a.createElement(ne,{key:t,classes:["avatar"],imageURL:a})})),3-t<0&&r.a.createElement("span",{className:"additional-users"},"+".concat(Math.abs(3-t))))}(s)),r.a.createElement(dt,{anchorEl:E},s&&s.map((function(e){var t=e._id,a=e.username;return r.a.createElement("span",{key:t},a)})))))}))};ga.defaultProps={tags:void 0,people:void 0};var ha=ga,Oa=function(e){var t=e.initialVal,a=e.onEnter,c=e.hideInput,o=e.editTitle,s=Object(n.useRef)(),i=Object(n.useState)(t),l=Object(d.a)(i,2),u=l[0],m=l[1];Object(n.useEffect)((function(){return s.current&&s.current.focus(),function(){}}),[o]);return o?r.a.createElement("input",{ref:s,className:"column-name-input",onKeyDown:function(e){"Enter"===e.key&&""!==u.trim()&&a(u)},onBlur:function(){m(t),c()},onChange:function(e){var t=e.target.value;t.length>0&&m(t)},value:u,type:"text"}):r.a.createElement("h2",{className:"task-column-name"},t)},ja=function(e){var t=e.columnName,a=e.columnId,c=e.columnIndex,o=e.boardId,s=e.listOfTasks,i=Object(n.useContext)(Te),l=Object(d.a)(i,2)[1],f=Object(n.useContext)(va),p=Object(d.a)(f,2)[1],b=Object(n.useContext)(v),E=Object(d.a)(b,1)[0].currentBoard,g=Object(n.useState)(!1),h=Object(d.a)(g,2),O=h[0],j=h[1],k=Object(n.useRef)(),w=function(){l({type:"OPEN",payload:{render:r.a.createElement(St,{columnId:a,boardId:o,action:"CREATE",buttonName:"Create"}),title:"New Task"}})},x=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("are you sure you want to delete this column?")&&yt({roomId:o,eventName:"deleteColumn",token:!0,payload:{columnId:a,columnIndex:c}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){j(!0)},S=function(){j(!1)},I=function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"PATCH",url:"/board/".concat(o,"/column/").concat(a),token:!0,payload:{name:t}});case 2:n=e.sent,200===n.status&&(p((function(e){var n=Object(C.a)(e),r=n.findIndex((function(e){return e._id===a}));return n[r].name=t,n})),j(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(la.c,{droppableId:a,type:"droppableTaskToColumn"},(function(e,a){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"task-column ".concat(a.isDraggingOver?"active":"")}),r.a.createElement("div",{className:"task-column-header"},r.a.createElement("span",{className:"task-count"},s.length),r.a.createElement(Oa,{hideInput:S,initialVal:t,onEnter:I,editTitle:O}),"guest"!==E.role&&r.a.createElement("button",{onClick:w,className:"add-new-task-btn"},r.a.createElement(ba.a,null)),function(){var e=E.role;return"admin"===e||"owner"===e}()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{ref:k,className:"more-options"},r.a.createElement(L.a,null)),r.a.createElement(y,{anchorEl:k},r.a.createElement("span",{onClick:x},"delete"),r.a.createElement("span",{onClick:N},"edit")))),r.a.createElement("div",{className:"task-container"},s&&s.map((function(e,t){var a=e._id,n=e.title,s=e.tags,i=e.people;return r.a.createElement(ha,{key:a,taskId:a,boardId:o,title:n,tags:s,people:i,indexes:{taskIndex:t,columnIndex:c}})})),e.placeholder))}))},ya=(a(271),function(e){var t=e.boardId,a=Object(n.useState)(""),c=Object(d.a)(a,2),o=c[0],s=c[1],i=function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Enter"===a.key&&""!==o.trim()&&yt({roomId:t,eventName:"createNewColumn",token:!0,payload:{name:o},res:function(e){e.error||s("")}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"add-new-column"},r.a.createElement("input",{onKeyDown:i,value:o,onChange:function(e){var t=e.target.value;t.length<20&&s(t)},type:"text",placeholder:"+ new column"}))}),ka=function(e){var t=e.boardId,a=Object(n.useContext)(va),c=Object(d.a)(a,2),o=c[0],s=c[1],i=Object(n.useContext)(v),l=Object(d.a)(i,1)[0].currentBoard;Object(n.useEffect)((function(){var e=function(e){s((function(t){var a=Object(C.a)(t);return a.push(e),a}))},t=function(e){s((function(t){var a=Object(C.a)(t);return a.splice(e.index,1),a}))},a=function(e){s((function(t){var a=Object(C.a)(t),n=a.splice(e.source,1)[0];return a.splice(e.destination,0,n),a}))},n=function(e){var t=e.success,a=e.task;t&&s((function(e){var t=Object(C.a)(e);return t[a.columnIndex].tasks.push(a),t}))},r=function(e){var t=e.success,a=e.source,n=e.destination;t&&s((function(e){var t=Object(C.a)(e),r=t[a.columnIndex].tasks.splice(a.taskIndex,1)[0];return t[n.columnIndex].tasks.splice(n.taskIndex,0,r),t}))};return jt.on("createNewColumn",e),jt.on("deleteColumn",t),jt.on("moveColumn",a),jt.on("createTask",n),jt.on("deleteTask",(function(e){var t=e.success,a=e.index;t&&s((function(e){var t=Object(C.a)(e);return t[a.col].tasks.splice(a.task,1),t}))})),jt.on("moveTask",r),function(){jt.removeListener("createNewColumn",e),jt.removeListener("deleteColumn",t),jt.removeListener("moveColumn",a),jt.removeListener("createTask",n),jt.removeListener("moveTask",r)}}),[s]);return r.a.createElement("div",{className:"board-page-container"},r.a.createElement(la.c,{droppableId:"droppable",type:"droppableColumn",direction:"horizontal"},(function(e,a){return r.a.createElement("div",{className:"board-page-flex",ref:e.innerRef},o.map((function(e,a){return function(e,a,n,c){return r.a.createElement(la.b,{key:e,draggableId:e,index:c,isDragDisabled:"guest"===l.role},(function(o,s){return r.a.createElement("div",Object.assign({ref:o.innerRef},o.draggableProps,o.dragHandleProps),r.a.createElement(ja,{key:e,columnId:e,columnIndex:c,columnName:a,listOfTasks:n,boardId:t}))}))}(e._id,e.name,e.tasks,a)})),e.placeholder)})),r.a.createElement("div",null,function(){var e=l.role;return"owner"===e||"admin"===e}()&&r.a.createElement(ya,{boardId:t})))},wa=a(169),Ca=a.n(wa),xa=function(e){var t=e.boardId,a=e.removeBoardCallback,c=e.isAuthor,o=Object(n.useRef)(),s=Object(n.useContext)(Te),i=Object(d.a)(s,2)[1],l=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"DELETE",url:"/board/".concat(t,"/leave_board"),token:!0});case 2:n=e.sent,n.error||a(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("are you sure you want to delete this board?")){e.next=7;break}return e.next=4,fe({method:"DELETE",url:"/board/".concat(t),token:!0});case 4:n=e.sent,n.error||a(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"board-options"},r.a.createElement(L.a,{ref:o}),r.a.createElement(y,{anchorEl:o},c&&r.a.createElement("span",{onClick:function(){i({type:"OPEN",payload:{render:r.a.createElement(Qe,{boardId:t,submitType:"Update"}),title:"Edit Board"}})}},"edit"),c&&r.a.createElement("span",{onClick:f},"delete"),!c&&r.a.createElement("span",{onClick:l},"leave")))};xa.defaultProps={isAuthor:!1,removeBoardCallback:void 0};var Na=xa,Sa=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n!==r&&(a((function(e){var t=Object(C.a)(e),a=t.splice(n,1)[0];return t.splice(r,0,a),t})),yt({roomId:t,eventName:"moveColumn",token:!0,payload:{sourceIndex:n,destinationIndex:r}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Ia=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n,r,c){var o,s,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.findIndex((function(e){return e._id===r.droppableId})),s=n.findIndex((function(e){return e._id===c.droppableId})),a((function(e){var t=Object(C.a)(e),a=t[o].tasks.splice(r.index,1)[0];return t[s].tasks.splice(c.index,0,a),t})),i={columnIndex:o,taskIndex:r.index},l={columnIndex:s,taskIndex:c.index},i.columnIndex===l.columnIndex&&i.taskIndex===l.taskIndex||yt({roomId:t,eventName:"moveTask",token:!0,payload:{source:i,destination:l}});case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),Ra=function(e){var t=e.boardId,a=e.query,c=Object(n.useState)({name:"",description:""}),o=Object(d.a)(c,2),s=o[0],i=o[1],l=Object(n.useState)([]),f=Object(d.a)(l,2),p=f[0],b=f[1],E=Object(n.useState)(!1),g=Object(d.a)(E,2),h=g[0],O=g[1],j=Object(n.useContext)(Te),y=Object(d.a)(j,2)[1],k=Object(n.useContext)(v),w=Object(d.a)(k,2),C=w[0],x=C.user,N=C.currentBoard,S=w[1],I=Object(Ze.g)();Object(n.useEffect)((function(){var e=!0,n=function(){},c=function(){y({type:"OPEN",payload:{render:r.a.createElement(It,{taskId:a.task,updateTask:n}),title:"Task Details"}})};a&&a.task&&setTimeout(c,1e3);var o=function(){var a=Object(m.a)(u.a.mark((function a(){var n,r,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe({method:"GET",url:"/board/".concat(t,"/members/").concat(x._id),token:!0});case 2:n=a.sent,r=n.data,c=n.status,e&&200===c&&(jt.emit("joinBoardRoom",{room:t}),S({type:"SET_ROLE",payload:{role:r.member.role,boardId:t}}));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"GET",url:"/board/".concat(t),token:!0,setLoading:O});case 2:a=e.sent,n=a.data,200===(r=a.status)?(b(n.columns),i({name:n.name,description:n.description})):I.replace("/error/".concat(r));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),x&&o(),function(){clearTimeout(c),jt.emit("leaveBoardRoom",{room:t}),e=!1}}),[x,t,S,I,y]);return r.a.createElement("div",{className:"board-page-wrapper"},r.a.createElement(Oe,{show:h,opacity:0,classes:["task-loading"]},r.a.createElement("div",{className:"board-page"},r.a.createElement(fa,{classes:["board-title"],text:s.name},r.a.createElement("div",null,s.description)),r.a.createElement("div",{className:"board-button-group"},r.a.createElement(Ce,{clicked:function(){y({type:"OPEN",payload:{render:r.a.createElement(je,{boardId:t}),title:"Board Members"}})}},r.a.createElement(Ca.a,null),r.a.createElement("span",null,"Peolpe")),r.a.createElement(Ce,{clicked:function(){y({type:"OPEN",payload:{render:r.a.createElement(vt,{boardId:t}),title:"Board Tags"}})}},r.a.createElement(ut.a,null),r.a.createElement("span",null,"Tags")),r.a.createElement(Na,{boardId:t,removeBoardCallback:function(){I.replace("/")},isAuthor:"owner"===N.role})),r.a.createElement(la.a,{onDragEnd:function(e){return function(e,t,a,n){if(t.destination){var r=t.source,c=t.destination,o=t.type;"droppableTaskToColumn"===o?Ia(e,n,a,r,c):"droppableColumn"===o&&Sa(e,n,r.index,c.index)}}(t,e,p,b)}},r.a.createElement(Ea,{values:[p,b]},r.a.createElement(ka,{boardId:t}))))))};Ra.defaultProps={query:void 0};var Pa=Ra;function Ta(){return(Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function La(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Va=r.a.createElement("path",{d:"M5 15L5.71429 13.5V11.25H9.28571C9.47515 11.25 9.65684 11.171 9.79079 11.0303C9.92475 10.8897 10 10.6989 10 10.5V9.3105C10 8.916 9.84714 8.529 9.58143 8.25L8.57143 7.1895V4.5C8.76087 4.5 8.94255 4.42098 9.07651 4.28033C9.21046 4.13968 9.28571 3.94891 9.28571 3.75V1.5C9.28571 0.67275 8.645 0 7.85714 0H2.14286C1.355 0 0.714286 0.67275 0.714286 1.5V3.75C0.714286 3.94891 0.789541 4.13968 0.923495 4.28033C1.05745 4.42098 1.23913 4.5 1.42857 4.5V7.1895L0.418571 8.25C0.151305 8.5317 0.000860877 8.91287 0 9.3105V10.5C0 10.6989 0.075255 10.8897 0.20921 11.0303C0.343164 11.171 0.524845 11.25 0.714286 11.25H4.28571V13.5L5 15Z"}),_a=function(e){var t=e.svgRef,a=e.title,n=La(e,["svgRef","title"]);return r.a.createElement("svg",Ta({width:10,height:15,viewBox:"0 0 10 15",ref:t},n),a?r.a.createElement("title",null,a):null,Va)},Aa=r.a.forwardRef((function(e,t){return r.a.createElement(_a,Ta({svgRef:t},e))})),Ba=(a.p,a(272),a(170)),Ua=a.n(Ba),Ha=a(171),qa=a.n(Ha),Ma=(a(273),function(e){var t=e.children,a=e.classes;return r.a.createElement("div",{className:"container-box ".concat(a.join([" "]))},t)});Ma.defaultProps={classes:[""]};var Da=Ma;function Ga(){return(Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Fa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Za=r.a.createElement("path",{d:"M5 15L5.71429 13.5V11.25H9.28571C9.47515 11.25 9.65684 11.171 9.79079 11.0303C9.92475 10.8897 10 10.6989 10 10.5V9.3105C10 8.916 9.84714 8.529 9.58143 8.25L8.57143 7.1895V4.5C8.76087 4.5 8.94255 4.42098 9.07651 4.28033C9.21046 4.13968 9.28571 3.94891 9.28571 3.75V1.5C9.28571 0.67275 8.645 0 7.85714 0H2.14286C1.355 0 0.714286 0.67275 0.714286 1.5V3.75C0.714286 3.94891 0.789541 4.13968 0.923495 4.28033C1.05745 4.42098 1.23913 4.5 1.42857 4.5V7.1895L0.418571 8.25C0.151305 8.5317 0.000860877 8.91287 0 9.3105V10.5C0 10.6989 0.075255 10.8897 0.20921 11.0303C0.343164 11.171 0.524845 11.25 0.714286 11.25H4.28571V13.5L5 15ZM2.14286 1.5H7.85714V3H2.14286V1.5ZM1.42857 9.3105L2.64786 8.03025C2.71432 7.96072 2.76702 7.87808 2.80294 7.78707C2.83886 7.69607 2.85728 7.59851 2.85714 7.5V4.5H7.14286V7.5C7.14286 7.6995 7.21786 7.89 7.35214 8.03025L8.57143 9.3105V9.75H1.42857V9.3105Z"}),Wa=function(e){var t=e.svgRef,a=e.title,n=Fa(e,["svgRef","title"]);return r.a.createElement("svg",Ga({"aria-hidden":"true",focusable:"false",viewBox:"0 0 10 15",ref:t},n),a?r.a.createElement("title",null,a):null,Za)},za=r.a.forwardRef((function(e,t){return r.a.createElement(Wa,Ga({svgRef:t},e))})),Ka=(a.p,a(274),function(e){var t=e.boardInfo,a=e.boardId,n=e.isPinned,c=e.pinBoard,o=e.removeBoard,s=e.isAuthor,i=Object(Ze.g)(),l=function(e){e.stopPropagation(),c()};return r.a.createElement("div",{className:"board-card"},r.a.createElement("div",{className:"bg-columns"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column"})),r.a.createElement("div",{className:"board-card-body"},r.a.createElement("h1",{onClick:function(){i.push("/board/".concat(a))},className:"board-title"},t.name),r.a.createElement("div",{className:"board-menu"},n?r.a.createElement(Aa,{className:"pin-icon",onClick:l}):r.a.createElement(za,{className:"pin-icon",onClick:l}),r.a.createElement(Na,{boardId:a,removeBoardCallback:o,isAuthor:s}))))}),Ya=(a(275),function(e){var t=e.title,a=e.renderIcon,n=e.boardList,c=e.isLoading,o=e.togglePinBoard,s=e.removeBoard,i=e.page,l=e.changePage,u=e.classes,m=e.emptyMessage;return r.a.createElement("div",{className:"board-container-wrapper ".concat(u.join(" "))},r.a.createElement("h1",{className:"board-container-title"},a,r.a.createElement("span",null,t)),r.a.createElement(Oe,{show:c,opacity:0},r.a.createElement("div",{className:"board-container"},n.map((function(e,t){var a=e._id,n=e.pinned,c=e.name,i=e.description,l=e.members,u=e.isAuthor;return r.a.createElement(Ka,{key:a,boardId:a,isPinned:n,pinBoard:function(){return o(t)},removeBoard:s,boardInfo:{name:c,description:i,members:l},isAuthor:u})})),n.length<1&&r.a.createElement("div",{className:"empty-board"},m))),!!i&&r.a.createElement(de,{amountOfPages:i.amountOfPages,currentPage:i.currentPage,handleChange:l}))});Ya.defaultProps={isLoading:!1,changePage:void 0,page:void 0,classes:[""],emptyMessage:"empty"};var Ja=Ya;var Qa=function(){var e=Object(n.useState)({currentPage:1,amountOfPages:1}),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({items:[],isLoading:!1}),s=Object(d.a)(o,2),i=s[0],l=s[1],f=Object(n.useState)({items:[],isLoading:!1}),p=Object(d.a)(f,2),v=p[0],E=p[1],g=Object(n.useContext)(Te),h=Object(d.a)(g,2)[1],O=function(e,t){e((function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:t})}))};Object(n.useEffect)((function(){return function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"GET",url:"/board/user/pined_boards",token:!0,setLoading:function(e){return O(l,e)}});case 2:t=e.sent,(a=t.data)&&l((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:a})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[]),Object(n.useEffect)((function(){return function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({method:"GET",url:"/board/user/my_boards?page=".concat(a.currentPage,"&limit=8"),token:!0,setLoading:function(e){return O(E,e)}});case 2:t=e.sent,(n=t.data)&&(c((function(e){return Object(b.a)(Object(b.a)({},e),{},{amountOfPages:n.totalPageCount})})),E((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:n.items})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[a.currentPage]);var j=function(e){var t=v.items.findIndex((function(t){return t._id===e})),a=i.items.findIndex((function(t){return t._id===e}));t>-1&&E((function(e){var a=Object(C.a)(e.items);return a.splice(t,1),Object(b.a)(Object(b.a)({},e),{},{items:a})})),a>-1&&l((function(e){var t=Object(C.a)(e.items);return t.splice(a,1),Object(b.a)(Object(b.a)({},e),{},{items:t})}))},y=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a>-1?a:i.items.findIndex((function(e){return e._id===v.items[t]._id})),r=t>-1?t:v.items.findIndex((function(e){return e._id===i.items[a]._id})),e.next=4,fe({method:"PATCH",url:"/board/user/pined_boards?boardId=".concat(v.items[r]._id),token:!0});case 4:c=e.sent,c.data&&(l((function(e){var t=Object(C.a)(e.items);return v.items[r].pinned?t.splice(n,1):t.push(Object(b.a)(Object(b.a)({},v.items[r]),{},{pinned:!0})),Object(b.a)(Object(b.a)({},e),{},{items:t})})),E((function(e){var t=Object(C.a)(e.items);return t[r].pinned=!t[r].pinned,Object(b.a)(Object(b.a)({},e),{},{items:t})})));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(Da,{classes:["dashboard-container"]},r.a.createElement(Ja,{classes:["pinned-boards"],title:"Pinned",renderIcon:r.a.createElement(Aa,{className:"pin-icon"}),boardList:i.items,isLoading:i.isLoading,removeBoard:j,togglePinBoard:function(e){return y(-1,e)},emptyMessage:"you have no pinned boards"}),r.a.createElement(Ce,{clicked:function(){h({type:"OPEN",payload:{render:r.a.createElement(Qe,{submitType:"Create"}),title:"New Board"}})},classes:["new-board-btn"]},r.a.createElement(Ua.a,null),"New Board"),r.a.createElement(Ja,{classes:["main-boards"],title:"Boards",renderIcon:r.a.createElement(qa.a,{className:"board-icon"}),boardList:v.items,isLoading:v.isLoading,removeBoard:j,changePage:function(e){c((function(t){return Object(b.a)(Object(b.a)({},t),{},{currentPage:e})}))},page:a,togglePinBoard:function(e){return y(e,-1)},emptyMessage:"you are not a part of any board"}))},$a=(a(276),a(172)),Xa=a.n($a),en=ye.a({username:ye.c().max(25,"username is too long").required("field is required"),email:ye.c().email().required("field is required"),name:ye.c().max(25,"name is too long").required("field is required"),surname:ye.c().max(25,"surname is too long").required("field is required")}),tn=function(){var e=Object(n.useContext)(Te),t=Object(d.a)(e,2)[1],a=Object(n.useContext)(v),c=Object(d.a)(a,1)[0].user,o=Object(n.useState)({username:{initialVal:"",type:"text"},name:{initialVal:"",type:"text"},surname:{initialVal:"",type:"text"},email:{initialVal:"",type:"text"}}),s=Object(d.a)(o,2),i=s[0],l=s[1],f=Object(n.useState)(""),p=Object(d.a)(f,2),b=p[0],E=p[1],g=Object(n.useState)(!0),h=Object(d.a)(g,2),O=h[0],j=h[1];Object(n.useEffect)((function(){if(c){var e=c.username,t=c.email,a=c.name,n=c.surname,r=c.avatarImageURL;E(r),l({username:{initialVal:e,type:"text"},name:{initialVal:a,type:"text"},surname:{initialVal:n,type:"text"},email:{initialVal:t,type:"text"}}),j(!1)}return function(){}}),[c]);var y=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,r=a.setErrors,e.next=3,fe({method:"POST",url:"/user/update_credentials",token:!0,setLoading:n,payload:t});case 3:c=e.sent,(o=c.error)&&r(o.message);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(Da,{classes:[""]},r.a.createElement(Oe,{classes:["profile-page-loading-overlay"],show:O,opacity:0},r.a.createElement("div",{className:"profile-page-container"},r.a.createElement("div",{className:"profile-image"},r.a.createElement(ne,{imageURL:b}),r.a.createElement("button",{onClick:function(){t({type:"OPEN",payload:{render:r.a.createElement(Me,{changeProfilePic:E}),title:"Change profile picture"}})},className:"change-image-btn"},r.a.createElement(Xa.a,null))),r.a.createElement("div",{className:"profile-info"},r.a.createElement("h1",{className:"username"},"@".concat(i.username.initialVal)),r.a.createElement("h3",{className:"name-surname"},"".concat(i.name.initialVal," ").concat(i.surname.initialVal))),r.a.createElement(Pe,{submitButtonName:"save changes",validationSchema:en,handleSubmit:y,fields:i,loadingOverlayColor:{light:"245, 249, 250",dark:"51, 54, 55"}}),r.a.createElement(Ce,{clicked:function(){t({type:"OPEN",payload:{render:r.a.createElement(Ue,null),title:"Change password"}})},classes:["change-password"]},"change password"))))},an=(a(277),a(173)),nn=a.n(an);function rn(e){var t=e.errorCode;return r.a.createElement("div",{className:"error-page-wrapper"},r.a.createElement("div",{className:"error-container"},r.a.createElement("img",{src:nn.a,alt:"error-page-guy",id:"error-page-image"})," ",r.a.createElement("h2",{className:"error-title"},"ERROR: ".concat(t)),r.a.createElement("p",{className:"error-detail"},function(){switch(t){case"400":return"BAD REQUEST";case"401":return"UNAUTHORIZED";case"403":return"FORBIDDEN";case"404":return"NOT FOUND";case"500":return"INTERNAL SERVER ERROR";case"502":return"BAD GATEWAY";default:return"UKNOWN ERROR"}}())))}rn.defaultProps={errorCode:"400"};var cn=rn;function on(e){var t=e.auth,a=e.path,n=e.render,c=e.component;return t?r.a.createElement(Ze.b,{exact:!0,path:a,render:n,component:c}):r.a.createElement(Ze.a,{to:"/"})}on.defaultProps={render:void 0,component:void 0};var sn=on,ln=a(174),un=a.n(ln),mn=function(){var e=Object(n.useContext)(v),t=Object(d.a)(e,1)[0].authStatus;return r.a.createElement(Ze.d,null,r.a.createElement(Ze.b,{exact:!0,path:"/",component:"success"===t?Qa:ia}),r.a.createElement(sn,{auth:"success"===t,path:"/profile",component:tn}),r.a.createElement(sn,{auth:"success"===t,path:"/board/:id",render:function(e){var t=e.match,a=e.location;return r.a.createElement(Pa,{boardId:t.params.id,query:un.a.parse(a.search)})}}),r.a.createElement(Ze.b,{exact:!0,path:"/error/:code",render:function(e){var t=e.match;return r.a.createElement(cn,{errorCode:t.params.code})}}),r.a.createElement(Ze.b,{render:function(){return r.a.createElement(Ze.a,{to:"/"})}}))},dn=a(175),fn=a.n(dn),pn=a(176),bn=a.n(pn),vn=(a(290),function(){return r.a.createElement("footer",{className:"app-footer"},r.a.createElement("a",{href:"https://github.com/DaRoTP/Task-Manager_node-react",className:"footer-item source-code"},r.a.createElement(fn.a,null),r.a.createElement("span",null,"source code")),r.a.createElement("a",{href:"https://github.com/DaRoTP",className:"footer-item author"},r.a.createElement(bn.a,null),r.a.createElement("span",null,"Author: @DaRo")))}),En=(a(291),a(116)),gn=a.n(En),hn=a(178),On=a.n(hn),jn=a(177),yn=a.n(jn),kn=function(e){var t=e.message,a=e.type;return e.show?r.a.createElement(p,{mountTo:"root-warning-notifications"},r.a.createElement("div",{className:"warning-notification ".concat(a.toLowerCase())},r.a.createElement("div",{className:"notification-body-wrapper"},function(){switch(a){case"SUCCESS":return r.a.createElement(yn.a,null);case"ERROR":return r.a.createElement(gn.a,null);case"WARNING":return r.a.createElement(On.a,null);default:return r.a.createElement(gn.a,null)}}(),r.a.createElement("span",{className:"warning-body"},t)))):null};kn.defaultProps={type:"SUCCESS",show:!0};var wn=kn;var Cn=function(){var e=Object(n.useContext)(v),t=Object(d.a)(e,2),a=t[0],c=a.authStatus,o=a.theme,s=t[1],i=Object(n.useContext)(We),l=Object(d.a)(i,1)[0],f=l.type,p=l.message,b=l.show,E=Object(n.useState)(!0),g=Object(d.a)(E,2),h=g[0],O=g[1];return Object(n.useEffect)((function(){return function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({url:"/isAuth",token:!0,method:"GET"});case 2:t=e.sent,a=t.data,401===t.status&&s({type:"LOGIN_FAIL"}),a&&s({type:"LOGIN_SUCCESS",payload:{user:a.user}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[s]),Object(n.useEffect)((function(){return"success"!==c&&"failed"!==c||O(!1),function(){}}),[c]),r.a.createElement("div",{className:"App ".concat(o?"theme-light":"theme-dark")},r.a.createElement(wn,{show:b,message:p,type:f}),r.a.createElement(Xt,null),r.a.createElement(Jt,{isAuth:"success"===c}),r.a.createElement(Oe,{classes:["authentication-loading"],show:h,opacity:0},r.a.createElement(mn,null)),r.a.createElement(vn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.defaults.baseURL="/",o.a.render(r.a.createElement(_e,null,r.a.createElement(h,null,r.a.createElement(Ye,null,r.a.createElement(zt.a,null,r.a.createElement(Cn,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[183,1,2]]]);
//# sourceMappingURL=main.fe4cdae9.chunk.js.map